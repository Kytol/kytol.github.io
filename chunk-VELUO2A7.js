import{a as Ae}from"./chunk-7BALVK7V.js";import{c as te,d as ne,e as ie,f as fe,g as xe,h as re,i as ae,j as Re,k as Ce,l as Fe,m as Q,p as H}from"./chunk-H4RAXSLC.js";import{Da as v,Fb as T,Hb as qe,Ja as b,La as Ee,Ma as V,Na as W,O as U,Oa as D,Pa as G,Qa as x,Ra as De,Sa as K,Ta as w,U as S,Ua as P,Va as i,Wa as r,Wb as _e,Xa as B,Y as k,Ya as y,Za as u,Zb as se,_a as c,_b as I,a as C,b as h,ea as g,fa as _,hb as o,ib as p,jb as f,kb as q,la as ee,lb as le,mb as Te,nb as R,ob as F,pb as A,rb as E,sb as Ie,tb as L,ub as j,xa as l}from"./chunk-4QRMWOGG.js";var $=(()=>{class a{mercenaries=v(this.generateMercenaries());filters=v({races:[],classes:[],levelRange:[1,100],costRange:[0,1e4],status:"all"});searchQuery=v("");sortOption=v("rating-desc");allMercenaries=this.mercenaries.asReadonly();filteredMercenaries=T(()=>{let e=[...this.mercenaries()],n=this.filters(),t=this.searchQuery().toLowerCase();t&&(e=e.filter(d=>d.name.toLowerCase().includes(t)||d.race.toLowerCase().includes(t)||d.class.toLowerCase().includes(t)||d.specialty.toLowerCase().includes(t))),n.races.length>0&&(e=e.filter(d=>n.races.includes(d.race))),n.classes.length>0&&(e=e.filter(d=>n.classes.includes(d.class))),e=e.filter(d=>d.level>=n.levelRange[0]&&d.level<=n.levelRange[1]),e=e.filter(d=>d.hireCost>=n.costRange[0]&&d.hireCost<=n.costRange[1]),n.status!=="all"&&(e=e.filter(d=>d.status===n.status));let s=this.sortOption();return e.sort((d,M)=>{switch(s){case"level-asc":return d.level-M.level;case"level-desc":return M.level-d.level;case"cost-asc":return d.hireCost-M.hireCost;case"cost-desc":return M.hireCost-d.hireCost;case"rating-desc":return M.rating-d.rating;case"name-asc":return d.name.localeCompare(M.name);default:return 0}}),e});stats=T(()=>({total:this.mercenaries().length,available:this.mercenaries().filter(e=>e.status==="available").length,hired:this.mercenaries().filter(e=>e.status==="hired").length,onMission:this.mercenaries().filter(e=>e.status==="on-mission").length}));updateFilters(e){this.filters.update(n=>C(C({},n),e))}setSearch(e){this.searchQuery.set(e)}setSort(e){this.sortOption.set(e)}hireMercenary(e){this.mercenaries.update(n=>n.map(t=>t.id===e?h(C({},t),{status:"hired"}):t))}releaseMercenary(e){this.mercenaries.update(n=>n.map(t=>t.id===e?h(C({},t),{status:"available"}):t))}setOnMission(e){this.mercenaries.update(n=>n.map(t=>t.id===e?h(C({},t),{status:"on-mission"}):t))}returnFromMission(e){this.mercenaries.update(n=>n.map(t=>t.id===e&&t.status==="on-mission"?h(C({},t),{status:"hired"}):t))}getMercenaryById(e){return this.mercenaries().find(n=>n.id===e)}generateMercenaries(){let e=["Orc","Goblin","Warlock","Troll","Undead","Demon","Dark Elf"],n=["Warrior","Assassin","Mage","Tank","Healer","Berserker","Necromancer"],t=["Grommash","Zul'jin","Kael'thas","Arthas","Illidan","Thrall","Sylvanas","Gul'dan","Mannoroth","Archimonde","Kel'Thuzad","Anub'arak","Malfurion","Tyrande","Vol'jin","Cairne","Rexxar","Jaina","Medivh","Garona","Durotan","Orgrim","Blackhand","Ner'zhul","Teron","Cho'gall","Kilrogg","Zuluhed","Dentarg","Rend","Maim","Dal'rend","Nekros","Draka"],s=["Siege Warfare","Assassination","Dark Magic","Frontline Combat","Healing Arts","Beast Taming","Necromancy","Stealth Operations","Fire Magic","Frost Magic","Shadow Magic","Blood Magic"];return t.map((d,M)=>{let O=Math.floor(Math.random()*99)+1,z=e[M%e.length],oe=n[M%n.length];return{id:crypto.randomUUID(),name:d,race:z,class:oe,level:O,specialty:s[M%s.length],stats:{strength:Math.floor(Math.random()*80)+20,agility:Math.floor(Math.random()*80)+20,magic:Math.floor(Math.random()*80)+20,defense:Math.floor(Math.random()*80)+20,health:Math.floor(Math.random()*800)+200},hireCost:Math.floor(O*50+Math.random()*500),dailyUpkeep:Math.floor(O*5+Math.random()*50),status:["available","available","available","hired","on-mission"][Math.floor(Math.random()*5)],skills:this.generateSkills(oe),equipment:this.generateEquipment(),avatar:this.getAvatar(z),rating:Math.round((Math.random()*2+3)*10)/10,missionsCompleted:Math.floor(Math.random()*100)}})}generateSkills(e){return{Warrior:[{id:"1",name:"Cleave",description:"Sweeping attack hitting multiple enemies",cooldown:8,damage:150},{id:"2",name:"Shield Bash",description:"Stuns enemy for 2 seconds",cooldown:12}],Assassin:[{id:"1",name:"Backstab",description:"Critical hit from behind",cooldown:6,damage:200},{id:"2",name:"Vanish",description:"Become invisible for 5 seconds",cooldown:20}],Mage:[{id:"1",name:"Fireball",description:"Launches a ball of fire",cooldown:4,damage:180},{id:"2",name:"Frost Nova",description:"Freezes nearby enemies",cooldown:15}],Tank:[{id:"1",name:"Taunt",description:"Forces enemies to attack you",cooldown:10},{id:"2",name:"Iron Skin",description:"Reduces damage by 50%",cooldown:25}],Healer:[{id:"1",name:"Heal",description:"Restores 300 health",cooldown:5},{id:"2",name:"Resurrection",description:"Revives fallen ally",cooldown:60}],Berserker:[{id:"1",name:"Rage",description:"Increases damage by 100%",cooldown:30},{id:"2",name:"Whirlwind",description:"Spin attack hitting all nearby",cooldown:10,damage:120}],Necromancer:[{id:"1",name:"Raise Dead",description:"Summons undead minion",cooldown:20},{id:"2",name:"Life Drain",description:"Steals health from enemy",cooldown:8,damage:100}]}[e]||[]}generateEquipment(){return[{id:"1",name:"Battle Axe",slot:"weapon",bonus:{strength:15}},{id:"2",name:"Chain Mail",slot:"armor",bonus:{defense:20}}]}getAvatar(e){return{Orc:"\u{1F479}",Goblin:"\u{1F47A}",Warlock:"\u{1F9D9}",Troll:"\u{1F9CC}",Undead:"\u{1F480}",Demon:"\u{1F608}","Dark Elf":"\u{1F9DD}"}[e]}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var X={Orc:{emoji:"\u{1F479}",color:"#4a7c4e"},Goblin:{emoji:"\u{1F47A}",color:"#6b9a4c"},Warlock:{emoji:"\u{1F9D9}",color:"#6b4c9a"},Troll:{emoji:"\u{1F9CC}",color:"#4c6b9a"},Undead:{emoji:"\u{1F480}",color:"#5a5a6a"},Demon:{emoji:"\u{1F608}",color:"#9a4c4c"},"Dark Elf":{emoji:"\u{1F9DD}",color:"#4c4c9a"}},J={Warrior:{icon:"\u2694\uFE0F",color:"#c4a35a"},Assassin:{icon:"\u{1F5E1}\uFE0F",color:"#5a5a5a"},Mage:{icon:"\u{1F52E}",color:"#7a5ac4"},Tank:{icon:"\u{1F6E1}\uFE0F",color:"#5a8ac4"},Healer:{icon:"\u{1F49A}",color:"#5ac47a"},Berserker:{icon:"\u{1FA93}",color:"#c45a5a"},Necromancer:{icon:"\u2620\uFE0F",color:"#8a5a8a"}};function et(a,m){if(a&1){let e=y();i(0,"label",3)(1,"input",14),u("change",function(){let t=g(e).$implicit,s=c();return _(s.toggleRace(t))}),r(),i(2,"span"),o(3),r()()}if(a&2){let e=m.$implicit,n=c();l(),V("checked",n.isRaceSelected(e)),l(2),q("",n.getRaceEmoji(e)," ",e,"")}}function tt(a,m){if(a&1){let e=y();i(0,"label",3)(1,"input",14),u("change",function(){let t=g(e).$implicit,s=c();return _(s.toggleClass(t))}),r(),i(2,"span"),o(3),r()()}if(a&2){let e=m.$implicit,n=c();l(),V("checked",n.isClassSelected(e)),l(2),q("",n.getClassIcon(e)," ",e,"")}}var Ve=(()=>{class a{mercenaryService=S($);filters=this.mercenaryService.filters;races=["Orc","Goblin","Warlock","Troll","Undead","Demon","Dark Elf"];classes=["Warrior","Assassin","Mage","Tank","Healer","Berserker","Necromancer"];getRaceEmoji(e){return X[e].emoji}getClassIcon(e){return J[e].icon}isRaceSelected(e){return this.filters().races.includes(e)}isClassSelected(e){return this.filters().classes.includes(e)}toggleRace(e){let n=this.filters().races,t=n.includes(e)?n.filter(s=>s!==e):[...n,e];this.mercenaryService.updateFilters({races:t})}toggleClass(e){let n=this.filters().classes,t=n.includes(e)?n.filter(s=>s!==e):[...n,e];this.mercenaryService.updateFilters({classes:t})}updateLevelMin(e){let n=+e.target.value;this.mercenaryService.updateFilters({levelRange:[n,this.filters().levelRange[1]]})}updateLevelMax(e){let n=+e.target.value;this.mercenaryService.updateFilters({levelRange:[this.filters().levelRange[0],n]})}updateCostMin(e){let n=+e.target.value;this.mercenaryService.updateFilters({costRange:[n,this.filters().costRange[1]]})}updateCostMax(e){let n=+e.target.value;this.mercenaryService.updateFilters({costRange:[this.filters().costRange[0],n]})}updateStatus(e){let n=e.target.value;this.mercenaryService.updateFilters({status:n})}resetFilters(){this.mercenaryService.updateFilters({races:[],classes:[],levelRange:[1,100],costRange:[0,1e4],status:"all"})}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-filter-sidebar"]],standalone:!0,features:[E],decls:45,vars:5,consts:[[1,"filter-sidebar"],[1,"filter-section"],[1,"checkbox-group"],[1,"checkbox-item"],[1,"range-inputs"],["type","number","min","1","max","100",3,"change","value"],["type","number","min","0",3,"change","value"],["type","number",3,"change","value"],[3,"change","value"],["value","all"],["value","available"],["value","hired"],["value","on-mission"],["variant","outline",3,"clicked"],["type","checkbox",3,"change","checked"]],template:function(n,t){n&1&&(i(0,"aside",0)(1,"h3"),o(2,"\u{1F50D} Filters"),r(),i(3,"div",1)(4,"h4"),o(5,"Race"),r(),i(6,"div",2),w(7,et,4,3,"label",3,K),r()(),i(9,"div",1)(10,"h4"),o(11,"Class"),r(),i(12,"div",2),w(13,tt,4,3,"label",3,K),r()(),i(15,"div",1)(16,"h4"),o(17,"Level Range"),r(),i(18,"div",4)(19,"input",5),u("change",function(d){return t.updateLevelMin(d)}),r(),i(20,"span"),o(21,"to"),r(),i(22,"input",5),u("change",function(d){return t.updateLevelMax(d)}),r()()(),i(23,"div",1)(24,"h4"),o(25,"Hire Cost"),r(),i(26,"div",4)(27,"input",6),u("change",function(d){return t.updateCostMin(d)}),r(),i(28,"span"),o(29,"to"),r(),i(30,"input",7),u("change",function(d){return t.updateCostMax(d)}),r()()(),i(31,"div",1)(32,"h4"),o(33,"Status"),r(),i(34,"select",8),u("change",function(d){return t.updateStatus(d)}),i(35,"option",9),o(36,"All"),r(),i(37,"option",10),o(38,"Available"),r(),i(39,"option",11),o(40,"Hired"),r(),i(41,"option",12),o(42,"On Mission"),r()()(),i(43,"ui-button",13),u("clicked",function(){return t.resetFilters()}),o(44,"Reset Filters"),r()()),n&2&&(l(7),P(t.races),l(6),P(t.classes),l(6),V("value",t.filters().levelRange[0]),l(3),V("value",t.filters().levelRange[1]),l(5),V("value",t.filters().costRange[0]),l(3),V("value",t.filters().costRange[1]),l(4),V("value",t.filters().status))},dependencies:[I,Q,re,ae,H],styles:[".filter-sidebar[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:20px;height:fit-content;position:sticky;top:24px}h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 20px;font-size:1.25rem}h4[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px;font-size:.9rem}.filter-section[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid var(--border-secondary)}.checkbox-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.checkbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--text-secondary);font-size:.85rem;cursor:pointer}.checkbox-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:var(--accent-purple)}.range-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.range-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;padding:8px;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px}.range-inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-muted)}select[_ngcontent-%COMP%]{width:100%;padding:10px;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px}"]})}return a})();var Be=(()=>{class a{mercenaryService=S($);onSearch(e){this.mercenaryService.setSearch(e)}onSort(e){let n=e.target.value;this.mercenaryService.setSort(n)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-search-sort-bar"]],standalone:!0,features:[E],decls:21,vars:3,consts:[[1,"search-sort-bar"],[1,"search-wrapper"],["placeholder","Search mercenaries...",3,"valueChange","value"],[1,"sort-wrapper"],[3,"change","value"],["value","rating-desc"],["value","level-desc"],["value","level-asc"],["value","cost-asc"],["value","cost-desc"],["value","name-asc"],[1,"results-count"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"ui-search",2),u("valueChange",function(d){return t.onSearch(d)}),r()(),i(3,"div",3)(4,"label"),o(5,"Sort by:"),r(),i(6,"select",4),u("change",function(d){return t.onSort(d)}),i(7,"option",5),o(8,"\u2B50 Rating (High to Low)"),r(),i(9,"option",6),o(10,"\u{1F4C8} Level (High to Low)"),r(),i(11,"option",7),o(12,"\u{1F4C9} Level (Low to High)"),r(),i(13,"option",8),o(14,"\u{1F4B0} Cost (Low to High)"),r(),i(15,"option",9),o(16,"\u{1F4B0} Cost (High to Low)"),r(),i(17,"option",10),o(18,"\u{1F524} Name (A-Z)"),r()()(),i(19,"div",11),o(20),r()()),n&2&&(l(2),V("value",t.mercenaryService.searchQuery()),l(4),V("value",t.mercenaryService.sortOption()),l(14),f(" ",t.mercenaryService.filteredMercenaries().length," mercenaries found "))},dependencies:[I,Q,re,ae,Ae],styles:[".search-sort-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:16px 20px;margin-bottom:24px;flex-wrap:wrap}.search-wrapper[_ngcontent-%COMP%]{flex:1;min-width:250px}.sort-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.sort-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;white-space:nowrap}.sort-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px;padding:10px 14px;font-size:.9rem;min-width:200px}.results-count[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem;margin-left:auto}"]})}return a})();function nt(a,m){if(a&1&&(i(0,"span"),o(1),r()),a&2){let e=m.$implicit;l(),p(e)}}function it(a,m){if(a&1){let e=y();i(0,"ui-button",20),u("clicked",function(t){g(e);let s=c();return _(s.hire(t))}),o(1,"Hire"),r()}}function rt(a,m){if(a&1){let e=y();i(0,"ui-button",21),u("clicked",function(t){g(e);let s=c();return _(s.release(t))}),o(1,"Release"),r()}}var ze=(()=>{class a{mercenary;viewDetails=new ee;hireClick=new ee;releaseClick=new ee;getRaceEmoji(e){return X[e]?.emoji||""}getRaceColor(e){return X[e]?.color||"#666"}getClassIcon(e){return J[e]?.icon||""}getClassColor(e){return J[e]?.color||"#666"}getStatusLabel(e){return{available:"Available",hired:"Hired","on-mission":"On Mission"}[e]||e}getStars(e){let n=Math.floor(e),t=e%1>=.5?1:0;return[...Array(n).fill("\u2B50"),...Array(t).fill("\u2728"),...Array(5-n-t).fill("\u2606")]}hire(e){e.stopPropagation(),this.hireClick.emit(this.mercenary)}release(e){e.stopPropagation(),this.releaseClick.emit(this.mercenary)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-mercenary-card"]],inputs:{mercenary:"mercenary"},outputs:{viewDetails:"viewDetails",hireClick:"hireClick",releaseClick:"releaseClick"},standalone:!0,features:[E],decls:48,vars:25,consts:[[1,"mercenary-card",3,"click"],[1,"card-header"],[1,"avatar"],[1,"level-badge"],[1,"status-badge"],[1,"card-body"],[1,"tags"],[1,"tag","race"],[1,"tag","class"],[1,"specialty"],[1,"stats-preview"],[1,"stat"],[1,"rating"],[1,"rating-value"],[1,"card-footer"],[1,"cost"],[1,"hire-cost"],[1,"upkeep"],["variant","primary","size","sm"],["variant","outline","size","sm"],["variant","primary","size","sm",3,"clicked"],["variant","outline","size","sm",3,"clicked"]],template:function(n,t){n&1&&(i(0,"div",0),u("click",function(){return t.viewDetails.emit(t.mercenary)}),i(1,"div",1)(2,"span",2),o(3),r(),i(4,"div",3),o(5),r(),i(6,"div",4),o(7),r()(),i(8,"div",5)(9,"h3"),o(10),r(),i(11,"div",6)(12,"span",7),o(13),r(),i(14,"span",8),o(15),r()(),i(16,"p",9),o(17),r(),i(18,"div",10)(19,"div",11)(20,"span"),o(21,"\u2694\uFE0F"),r(),o(22),r(),i(23,"div",11)(24,"span"),o(25,"\u{1F3C3}"),r(),o(26),r(),i(27,"div",11)(28,"span"),o(29,"\u2728"),r(),o(30),r(),i(31,"div",11)(32,"span"),o(33,"\u{1F6E1}\uFE0F"),r(),o(34),r()(),i(35,"div",12),w(36,nt,2,1,"span",null,De),i(38,"span",13),o(39),r()()(),i(40,"div",14)(41,"div",15)(42,"span",16),o(43),r(),i(44,"span",17),o(45),r()(),b(46,it,2,0,"ui-button",18)(47,rt,2,0,"ui-button",19),r()()),n&2&&(G(t.mercenary.status),l(3),p(t.mercenary.avatar),l(2),f("Lv.",t.mercenary.level,""),l(),G(t.mercenary.status),l(),f(" ",t.getStatusLabel(t.mercenary.status)," "),l(3),p(t.mercenary.name),l(2),W("background",t.getRaceColor(t.mercenary.race)),l(),q(" ",t.getRaceEmoji(t.mercenary.race)," ",t.mercenary.race," "),l(),W("background",t.getClassColor(t.mercenary.class)),l(),q(" ",t.getClassIcon(t.mercenary.class)," ",t.mercenary.class," "),l(2),p(t.mercenary.specialty),l(5),f(" ",t.mercenary.stats.strength,""),l(4),f(" ",t.mercenary.stats.agility,""),l(4),f(" ",t.mercenary.stats.magic,""),l(4),f(" ",t.mercenary.stats.defense,""),l(2),P(t.getStars(t.mercenary.rating)),l(3),p(t.mercenary.rating),l(4),f("\u{1F4B0} ",t.mercenary.hireCost,""),l(2),f("\u{1F4C5} ",t.mercenary.dailyUpkeep,"/day"),l(),x(t.mercenary.status==="available"?46:t.mercenary.status==="hired"?47:-1))},dependencies:[I,H],styles:[".mercenary-card[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:16px;cursor:pointer;transition:all .2s}.mercenary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000004d}.mercenary-card.hired[_ngcontent-%COMP%]{border-color:var(--border-completed)}.mercenary-card.on-mission[_ngcontent-%COMP%]{border-color:var(--border-progress);opacity:.7}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.avatar[_ngcontent-%COMP%]{font-size:2.5rem}.level-badge[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000;padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:700}.status-badge[_ngcontent-%COMP%]{margin-left:auto;padding:4px 8px;border-radius:4px;font-size:.7rem;text-transform:uppercase}.status-badge.available[_ngcontent-%COMP%]{background:#4c9a6b;color:#fff}.status-badge.hired[_ngcontent-%COMP%]{background:#6b4c9a;color:#fff}.status-badge.on-mission[_ngcontent-%COMP%]{background:#9a6b4c;color:#fff}.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-white);margin:0 0 8px;font-size:1.1rem}.tags[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}.tag[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.7rem;color:#fff}.specialty[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem;margin:0 0 12px}.stats-preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:12px}.stat[_ngcontent-%COMP%]{text-align:center;font-size:.8rem;color:var(--text-secondary);background:var(--card-overlay);padding:6px;border-radius:4px}.stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.9rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px;margin-bottom:12px}.rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}.rating-value[_ngcontent-%COMP%]{color:var(--accent-gold);margin-left:8px;font-weight:700}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid var(--border-secondary)}.cost[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.hire-cost[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700;font-size:.9rem}.upkeep[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75rem}"]})}return a})();var Ne=(a,m)=>m.id;function at(a,m){if(a&1&&(i(0,"span",40),o(1),r()),a&2){let e=c().$implicit;l(),f("\u{1F4A5} ",e.damage," damage")}}function ot(a,m){if(a&1&&(i(0,"div",24)(1,"div",36)(2,"span",37),o(3),r(),i(4,"span",38),o(5),r()(),i(6,"p",39),o(7),r(),b(8,at,2,1,"span",40),r()),a&2){let e=m.$implicit;l(3),p(e.name),l(2),f("",e.cooldown,"s CD"),l(2),p(e.description),l(),x(e.damage?8:-1)}}function lt(a,m){if(a&1&&(i(0,"div",27)(1,"span",41),o(2),r(),i(3,"span",42),o(4),r(),i(5,"span",43),o(6),r()()),a&2){let e=m.$implicit,n=c(2);l(2),p(n.getSlotIcon(e.slot)),l(2),p(e.name),l(2),p(n.formatBonus(e.bonus))}}function st(a,m){if(a&1){let e=y();i(0,"ui-button",44),u("clicked",function(){g(e);let t=c(2);return _(t.hire.emit(t.mercenary))}),o(1,"\u{1F4B0} Hire Now"),r()}}function ct(a,m){if(a&1){let e=y();i(0,"ui-button",45),u("clicked",function(){g(e);let t=c(2);return _(t.release.emit(t.mercenary))}),o(1,"Release"),r()}}function dt(a,m){a&1&&(i(0,"span",35),o(1,"\u{1F680} Currently on mission"),r())}function mt(a,m){if(a&1){let e=y();i(0,"div",1),u("click",function(){g(e);let t=c();return _(t.close.emit())}),i(1,"div",2),u("click",function(t){return g(e),_(t.stopPropagation())}),i(2,"button",3),u("click",function(){g(e);let t=c();return _(t.close.emit())}),o(3,"\u2715"),r(),i(4,"div",4)(5,"span",5),o(6),r(),i(7,"div",6)(8,"h2"),o(9),r(),i(10,"div",7)(11,"span",8),o(12),r(),i(13,"span",8),o(14),r(),i(15,"span",9),o(16),r()(),i(17,"p",10),o(18),r()()(),i(19,"div",11)(20,"h3"),o(21,"\u{1F4CA} Stats"),r(),i(22,"div",12)(23,"div",13)(24,"span",14),o(25,"\u2694\uFE0F Strength"),r(),i(26,"div",15),B(27,"div",16),r(),i(28,"span",17),o(29),r()(),i(30,"div",13)(31,"span",14),o(32,"\u{1F3C3} Agility"),r(),i(33,"div",15),B(34,"div",18),r(),i(35,"span",17),o(36),r()(),i(37,"div",13)(38,"span",14),o(39,"\u2728 Magic"),r(),i(40,"div",15),B(41,"div",19),r(),i(42,"span",17),o(43),r()(),i(44,"div",13)(45,"span",14),o(46,"\u{1F6E1}\uFE0F Defense"),r(),i(47,"div",15),B(48,"div",20),r(),i(49,"span",17),o(50),r()(),i(51,"div",13)(52,"span",14),o(53,"\u2764\uFE0F Health"),r(),i(54,"div",15),B(55,"div",21),r(),i(56,"span",17),o(57),r()()()(),i(58,"div",22)(59,"h3"),o(60,"\u26A1 Skills"),r(),i(61,"div",23),w(62,ot,9,4,"div",24,Ne),r()(),i(64,"div",25)(65,"h3"),o(66,"\u{1F392} Equipment"),r(),i(67,"div",26),w(68,lt,7,3,"div",27,Ne),r()(),i(70,"div",28)(71,"div",29)(72,"div",30)(73,"span",31),o(74,"Hire Cost"),r(),i(75,"span",32),o(76),r()(),i(77,"div",30)(78,"span",31),o(79,"Daily Upkeep"),r(),i(80,"span",32),o(81),r()(),i(82,"div",30)(83,"span",31),o(84,"Missions"),r(),i(85,"span",32),o(86),r()()(),b(87,st,2,0,"ui-button",33)(88,ct,2,0,"ui-button",34)(89,dt,2,0,"span",35),r()()()}if(a&2){let e=c();l(6),p(e.mercenary.avatar),l(3),p(e.mercenary.name),l(2),W("background",e.getRaceColor(e.mercenary.race)),l(),f(" ",e.mercenary.race," "),l(),W("background",e.getClassColor(e.mercenary.class)),l(),q(" ",e.getClassIcon(e.mercenary.class)," ",e.mercenary.class," "),l(2),f("Level ",e.mercenary.level,""),l(2),p(e.mercenary.specialty),l(9),W("width",e.mercenary.stats.strength,"%"),l(2),p(e.mercenary.stats.strength),l(5),W("width",e.mercenary.stats.agility,"%"),l(2),p(e.mercenary.stats.agility),l(5),W("width",e.mercenary.stats.magic,"%"),l(2),p(e.mercenary.stats.magic),l(5),W("width",e.mercenary.stats.defense,"%"),l(2),p(e.mercenary.stats.defense),l(5),W("width",e.mercenary.stats.health/10,"%"),l(2),p(e.mercenary.stats.health),l(5),P(e.mercenary.skills),l(6),P(e.mercenary.equipment),l(8),f("\u{1F4B0} ",e.mercenary.hireCost,""),l(5),f("\u{1F4C5} ",e.mercenary.dailyUpkeep,""),l(5),f("\u{1F3AF} ",e.mercenary.missionsCompleted,""),l(),x(e.mercenary.status==="available"?87:e.mercenary.status==="hired"?88:89)}}var Le=(()=>{class a{mercenary=null;close=new ee;hire=new ee;release=new ee;getRaceColor(e){return X[e]?.color||"#666"}getClassIcon(e){return J[e]?.icon||""}getClassColor(e){return J[e]?.color||"#666"}getSlotIcon(e){return{weapon:"\u2694\uFE0F",armor:"\u{1F6E1}\uFE0F",accessory:"\u{1F48D}"}[e]||"\u{1F4E6}"}formatBonus(e){return Object.entries(e).map(([n,t])=>`+${t} ${n}`).join(", ")}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-mercenary-detail-modal"]],inputs:{mercenary:"mercenary"},outputs:{close:"close",hire:"hire",release:"release"},standalone:!0,features:[E],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"modal-header"],[1,"avatar"],[1,"header-info"],[1,"tags"],[1,"tag"],[1,"level"],[1,"specialty"],[1,"stats-section"],[1,"stats-grid"],[1,"stat-bar"],[1,"stat-label"],[1,"bar"],[1,"fill"],[1,"stat-value"],[1,"fill","agility"],[1,"fill","magic"],[1,"fill","defense"],[1,"fill","health"],[1,"skills-section"],[1,"skills-list"],[1,"skill-item"],[1,"equipment-section"],[1,"equipment-list"],[1,"equipment-item"],[1,"modal-footer"],[1,"cost-info"],[1,"cost-item"],[1,"label"],[1,"value"],["variant","primary"],["variant","outline"],[1,"on-mission-label"],[1,"skill-header"],[1,"skill-name"],[1,"cooldown"],[1,"skill-desc"],[1,"damage"],[1,"slot"],[1,"item-name"],[1,"bonus"],["variant","primary",3,"clicked"],["variant","outline",3,"clicked"]],template:function(n,t){n&1&&b(0,mt,90,30,"div",0),n&2&&x(t.mercenary?0:-1)},dependencies:[I,H],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:16px;padding:24px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.modal-header[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:24px}.avatar[_ngcontent-%COMP%]{font-size:4rem}.header-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-white);margin:0 0 8px}.tags[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}.tag[_ngcontent-%COMP%]{padding:4px 10px;border-radius:4px;font-size:.8rem;color:#fff}.level[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000;padding:4px 10px;border-radius:4px;font-size:.8rem;font-weight:700}.specialty[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 16px;font-size:1rem}.stats-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.stat-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.stat-label[_ngcontent-%COMP%]{width:100px;color:var(--text-secondary);font-size:.85rem}.bar[_ngcontent-%COMP%]{flex:1;height:8px;background:var(--border-secondary);border-radius:4px;overflow:hidden}.fill[_ngcontent-%COMP%]{height:100%;background:#c45a5a;border-radius:4px;transition:width .3s}.fill.agility[_ngcontent-%COMP%]{background:#5ac47a}.fill.magic[_ngcontent-%COMP%]{background:#7a5ac4}.fill.defense[_ngcontent-%COMP%]{background:#5a8ac4}.fill.health[_ngcontent-%COMP%]{background:#c45a8a}.stat-value[_ngcontent-%COMP%]{width:40px;text-align:right;color:var(--text-primary);font-weight:700}.skills-section[_ngcontent-%COMP%], .equipment-section[_ngcontent-%COMP%]{margin-bottom:24px}.skills-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.skill-item[_ngcontent-%COMP%]{background:var(--card-overlay);padding:12px;border-radius:8px}.skill-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:4px}.skill-name[_ngcontent-%COMP%]{color:var(--text-white);font-weight:700}.cooldown[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.skill-desc[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 4px;font-size:.85rem}.damage[_ngcontent-%COMP%]{color:#c45a5a;font-size:.8rem}.equipment-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.equipment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:var(--card-overlay);padding:10px;border-radius:6px}.slot[_ngcontent-%COMP%]{font-size:1.2rem}.item-name[_ngcontent-%COMP%]{flex:1;color:var(--text-primary)}.bonus[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:.85rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid var(--border-secondary)}.cost-info[_ngcontent-%COMP%]{display:flex;gap:24px}.cost-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cost-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75rem}.cost-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.on-mission-label[_ngcontent-%COMP%]{color:var(--border-progress);font-weight:700}"]})}return a})();var pt=(a,m)=>m.id;function ut(a,m){a&1&&(i(0,"div",1)(1,"span",3),o(2,"\u{1F50D}"),r(),i(3,"h3"),o(4,"No mercenaries found"),r(),i(5,"p"),o(6,"Try adjusting your filters or search query"),r()())}function gt(a,m){if(a&1){let e=y();i(0,"app-mercenary-card",5),u("viewDetails",function(t){g(e);let s=c(2);return _(s.openDetail(t))})("hireClick",function(t){g(e);let s=c(2);return _(s.hireMercenary(t))})("releaseClick",function(t){g(e);let s=c(2);return _(s.releaseMercenary(t))}),r()}if(a&2){let e=m.$implicit;V("mercenary",e)}}function _t(a,m){if(a&1&&w(0,gt,1,1,"app-mercenary-card",4,pt),a&2){let e=c();P(e.mercenaryService.filteredMercenaries())}}var je=(()=>{class a{mercenaryService=S($);selectedMercenary=v(null);openDetail(e){this.selectedMercenary.set(e)}closeDetail(){this.selectedMercenary.set(null)}hireMercenary(e){this.mercenaryService.hireMercenary(e.id)}releaseMercenary(e){this.mercenaryService.releaseMercenary(e.id)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-mercenary-grid"]],standalone:!0,features:[E],decls:4,vars:2,consts:[[1,"mercenary-grid"],[1,"empty-state"],[3,"close","hire","release","mercenary"],[1,"empty-icon"],[3,"mercenary"],[3,"viewDetails","hireClick","releaseClick","mercenary"]],template:function(n,t){n&1&&(i(0,"div",0),b(1,ut,7,0,"div",1)(2,_t,2,0),r(),i(3,"app-mercenary-detail-modal",2),u("close",function(){return t.closeDetail()})("hire",function(d){return t.hireMercenary(d),t.closeDetail()})("release",function(d){return t.releaseMercenary(d),t.closeDetail()}),r()),n&2&&(l(),x(t.mercenaryService.filteredMercenaries().length===0?1:2),l(2),V("mercenary",t.selectedMercenary()))},dependencies:[I,ze,Le],styles:[".mercenary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}.empty-state[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:60px 20px;background:var(--bg-card);border:2px dashed var(--border-secondary);border-radius:12px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);margin:0}"]})}return a})();var We=(()=>{class a{mercenaryService=S($);stats=this.mercenaryService.stats;static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-stats-header"]],standalone:!0,features:[E],decls:21,vars:4,consts:[[1,"stats-header"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"stat-item","available"],[1,"stat-item","hired"],[1,"stat-item","mission"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"span",2),o(3),r(),i(4,"span",3),o(5,"Total Mercenaries"),r()(),i(6,"div",4)(7,"span",2),o(8),r(),i(9,"span",3),o(10,"Available"),r()(),i(11,"div",5)(12,"span",2),o(13),r(),i(14,"span",3),o(15,"Hired"),r()(),i(16,"div",6)(17,"span",2),o(18),r(),i(19,"span",3),o(20,"On Mission"),r()()()),n&2&&(l(3),p(t.stats().total),l(5),p(t.stats().available),l(5),p(t.stats().hired),l(5),p(t.stats().onMission))},dependencies:[I],styles:[".stats-header[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;flex-wrap:wrap}.stat-item[_ngcontent-%COMP%]{flex:1;min-width:140px;background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:16px 20px;text-align:center}.stat-item.available[_ngcontent-%COMP%]{border-color:#4c9a6b}.stat-item.hired[_ngcontent-%COMP%]{border-color:#6b4c9a}.stat-item.mission[_ngcontent-%COMP%]{border-color:#9a6b4c}.stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:var(--accent-gold)}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:var(--text-secondary);margin-top:4px}"]})}return a})();var ve=(()=>{class a{STORAGE_KEY="raid-squad-theme";theme=v(this.loadTheme());isDark=()=>this.theme()==="eclipse";constructor(){qe(()=>{let e=this.theme();document.documentElement.setAttribute("data-theme",e),localStorage.setItem(this.STORAGE_KEY,e)})}loadTheme(){return localStorage.getItem(this.STORAGE_KEY)||"eclipse"}toggle(){this.theme.update(e=>e==="eclipse"?"fire":"eclipse")}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var He=(()=>{class a{themeService=S(ve);get ariaLabel(){return this.themeService.isDark()?"Switch to Fire mode":"Switch to Eclipse mode"}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-theme-toggle"]],standalone:!0,features:[E],decls:10,vars:9,consts:[[1,"theme-toggle",3,"click"],[1,"toggle-track"],[1,"toggle-icon","eclipse"],[1,"toggle-thumb"],[1,"toggle-icon","fire"],[1,"toggle-label"]],template:function(n,t){n&1&&(i(0,"button",0),u("click",function(){return t.themeService.toggle()}),i(1,"span",1)(2,"span",2),o(3,"\u{1F311}"),r(),i(4,"span",3),o(5),r(),i(6,"span",4),o(7,"\u{1F525}"),r()(),i(8,"span",5),o(9),r()()),n&2&&(Ee("aria-label",t.ariaLabel),l(),D("fire",!t.themeService.isDark()),l(3),D("fire",!t.themeService.isDark()),l(),f(" ",t.themeService.isDark()?"\u{1F311}":"\u{1F525}"," "),l(3),D("fire",!t.themeService.isDark()),l(),p(t.themeService.isDark()?"Eclipse Mode":"Fire Mode"))},dependencies:[I],styles:[".theme-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:transparent;border:2px solid var(--border-primary);border-radius:30px;cursor:pointer;padding:8px 16px;transition:all .3s}.theme-toggle[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);background:var(--card-overlay)}.toggle-track[_ngcontent-%COMP%]{position:relative;width:56px;height:28px;background:linear-gradient(135deg,#1a1a2e,#0f0f1a);border-radius:14px;display:flex;align-items:center;justify-content:space-between;padding:0 6px;transition:background .4s;box-shadow:inset 0 2px 4px #00000080}.toggle-track.fire[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b35,#f7931e,#fc0);box-shadow:inset 0 2px 4px #0003,0 0 20px #ff6b3566}.toggle-thumb[_ngcontent-%COMP%]{position:absolute;width:22px;height:22px;background:linear-gradient(135deg,#2a2a4a,#1a1a2e);border-radius:50%;left:3px;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);display:flex;align-items:center;justify-content:center;font-size:12px;box-shadow:0 2px 8px #0006}.toggle-thumb.fire[_ngcontent-%COMP%]{transform:translate(28px);background:linear-gradient(135deg,#fff,#ffe0b0);box-shadow:0 0 15px #ffc80099}.toggle-icon[_ngcontent-%COMP%]{font-size:12px;z-index:1;opacity:.6}.toggle-label[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9rem;font-weight:600;letter-spacing:.5px;transition:color .3s}.toggle-label.fire[_ngcontent-%COMP%]{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}"]})}return a})();var ce=(()=>{class a{mercenaryService=S($);squad=v({id:crypto.randomUUID(),name:"My Raid Squad",maxCapacity:12,slots:this.initializeSlots(),totalUpkeep:0,createdAt:new Date});currentSquad=this.squad.asReadonly();squadMembers=T(()=>this.squad().slots.filter(n=>n.mercenaryId).map(n=>({slot:n,mercenary:this.mercenaryService.getMercenaryById(n.mercenaryId)})).filter(n=>n.mercenary));squadSize=T(()=>this.squadMembers().length);totalUpkeep=T(()=>this.squadMembers().reduce((e,n)=>e+(n.mercenary?.dailyUpkeep||0),0));formationByRow=T(()=>{let e=this.squad().slots;return{front:e.filter(n=>n.row==="front"),middle:e.filter(n=>n.row==="middle"),back:e.filter(n=>n.row==="back")}});initializeSlots(){let e=[],n=["front","middle","back"],t=0;return n.forEach(s=>{for(let d=0;d<4;d++)e.push({position:t++,row:s,mercenaryId:null})}),e}addToSquad(e,n){let t=this.squad().slots,s=n!==void 0?t.find(d=>d.position===n&&!d.mercenaryId):t.find(d=>!d.mercenaryId);return!s||t.some(d=>d.mercenaryId===e)?!1:(this.squad.update(d=>h(C({},d),{slots:d.slots.map(M=>M.position===s.position?h(C({},M),{mercenaryId:e}):M)})),this.mercenaryService.hireMercenary(e),!0)}removeFromSquad(e){this.squad.update(n=>h(C({},n),{slots:n.slots.map(t=>t.mercenaryId===e?h(C({},t),{mercenaryId:null}):t)})),this.mercenaryService.releaseMercenary(e)}moveInSquad(e,n){let t=this.squad().slots,s=t.find(M=>M.mercenaryId===e),d=t.find(M=>M.position===n);!s||!d||this.squad.update(M=>h(C({},M),{slots:M.slots.map(O=>O.position===s.position?h(C({},O),{mercenaryId:d.mercenaryId}):O.position===n?h(C({},O),{mercenaryId:e}):O)}))}renameSquad(e){this.squad.update(n=>h(C({},n),{name:e}))}isInSquad(e){return this.squad().slots.some(n=>n.mercenaryId===e)}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var xt=(a,m)=>m.id,Ct=(a,m)=>m.position;function vt(a,m){if(a&1){let e=y();i(0,"input",12),A("ngModelChange",function(t){g(e);let s=c();return F(s.editName,t)||(s.editName=t),_(t)}),u("blur",function(){g(e);let t=c();return _(t.saveName())})("keyup.enter",function(){g(e);let t=c();return _(t.saveName())}),r()}if(a&2){let e=c();R("ngModel",e.editName)}}function yt(a,m){if(a&1){let e=y();i(0,"h2"),o(1),r(),i(2,"button",13),u("click",function(){g(e);let t=c();return _(t.startEdit())}),o(3,"\u270F\uFE0F"),r()}if(a&2){let e=c();l(),p(e.squadService.currentSquad().name)}}function ht(a,m){if(a&1){let e=y();i(0,"div",20),u("dragstart",function(t){let s=g(e),d=c(4);return _(d.onDragStart(t,s.id))})("dragend",function(){g(e);let t=c(4);return _(t.onDragEnd())}),i(1,"span",21),o(2),r(),i(3,"div",22)(4,"span",23),o(5),r(),i(6,"span",24),o(7),r()(),i(8,"button",25),u("click",function(){let t=g(e),s=c(4);return _(s.removeFromSquad(t.id))}),o(9,"\u2715"),r()()}if(a&2){let e=m;l(2),p(e.avatar),l(3),p(e.name),l(2),f("Lv.",e.level,"")}}function bt(a,m){if(a&1&&b(0,ht,10,3,"div",19),a&2){let e,n=c().$implicit,t=c(2);x((e=t.getMercenary(n.mercenaryId))?0:-1,e)}}function Mt(a,m){a&1&&(i(0,"span",18),o(1,"+"),r())}function St(a,m){if(a&1){let e=y();i(0,"div",17),u("dragover",function(t){let s=g(e).$implicit,d=c(2);return _(d.onDragOver(t,s.position))})("dragleave",function(){g(e);let t=c(2);return _(t.onDragLeave())})("drop",function(t){let s=g(e).$implicit,d=c(2);return _(d.onDrop(t,s.position))}),b(1,bt,1,1)(2,Mt,2,0,"span",18),r()}if(a&2){let e=m.$implicit,n=c(2);D("filled",e.mercenaryId)("drop-target",n.dragOverSlot===e.position),l(),x(e.mercenaryId?1:2)}}function wt(a,m){if(a&1&&(i(0,"div",8)(1,"span",14),o(2),L(3,"titlecase"),r(),i(4,"div",15),w(5,St,3,5,"div",16,Ct),r()()),a&2){let e=m.$implicit,n=c();l(2),p(j(3,1,e)),l(3),P(n.getRowSlots(e))}}function Pt(a,m){if(a&1){let e=y();i(0,"div",11)(1,"span"),o(2),r(),i(3,"ui-button",26),u("clicked",function(){let t=g(e).$implicit,s=c();return _(s.addToSquad(t.id))}),o(4,"+"),r()()}if(a&2){let e=m.$implicit;l(2),le("",e.avatar," ",e.name," (Lv.",e.level,")")}}var Ge=(()=>{class a{squadService=S(ce);mercenaryService=S($);formationRows=["front","middle","back"];getRowSlots(e){return this.squadService.formationByRow()[e]}isEditing=!1;editName="";draggedMercId=null;dragOverSlot=null;availableMercenaries=this.mercenaryService.filteredMercenaries;getMercenary(e){return this.mercenaryService.getMercenaryById(e)}startEdit(){this.editName=this.squadService.currentSquad().name,this.isEditing=!0}saveName(){this.editName.trim()&&this.squadService.renameSquad(this.editName.trim()),this.isEditing=!1}addToSquad(e){this.squadService.addToSquad(e)}removeFromSquad(e){this.squadService.removeFromSquad(e)}onDragStart(e,n){this.draggedMercId=n,e.dataTransfer?.setData("text/plain",n)}onDragEnd(){this.draggedMercId=null,this.dragOverSlot=null}onDragOver(e,n){e.preventDefault(),this.dragOverSlot=n}onDragLeave(){this.dragOverSlot=null}onDrop(e,n){e.preventDefault(),this.draggedMercId&&this.squadService.moveInSquad(this.draggedMercId,n),this.draggedMercId=null,this.dragOverSlot=null}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-squad-panel"]],standalone:!0,features:[E],decls:19,vars:4,consts:[[1,"squad-panel"],[1,"squad-header"],[1,"squad-title"],[3,"ngModel"],[1,"squad-stats"],[1,"count"],[1,"upkeep"],[1,"formation"],[1,"formation-row"],[1,"squad-actions"],[1,"available-list"],[1,"available-item"],[3,"ngModelChange","blur","keyup.enter","ngModel"],[1,"edit-btn",3,"click"],[1,"row-label"],[1,"slots"],[1,"slot",3,"filled","drop-target"],[1,"slot",3,"dragover","dragleave","drop"],[1,"empty-slot"],["draggable","true",1,"merc-mini"],["draggable","true",1,"merc-mini",3,"dragstart","dragend"],[1,"avatar"],[1,"merc-info"],[1,"name"],[1,"level"],[1,"remove-btn",3,"click"],["variant","primary","size","sm",3,"clicked"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),b(3,vt,1,1,"input",3)(4,yt,4,1),r(),i(5,"div",4)(6,"span",5),o(7),r(),i(8,"span",6),o(9),r()()(),i(10,"div",7),w(11,wt,7,3,"div",8,K),r(),i(13,"div",9)(14,"h4"),o(15,"Quick Add Available"),r(),i(16,"div",10),w(17,Pt,5,3,"div",11,xt),r()()()),n&2&&(l(3),x(t.isEditing?3:4),l(4),q("\u{1F465} ",t.squadService.squadSize(),"/",t.squadService.currentSquad().maxCapacity,""),l(2),f("\u{1F4B0} ",t.squadService.totalUpkeep(),"/day"),l(2),P(t.formationRows),l(6),P(t.availableMercenaries().slice(0,5)))},dependencies:[I,_e,Q,te,ne,ie,H],styles:[".squad-panel[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--accent-gold);border-radius:12px;padding:20px}.squad-header[_ngcontent-%COMP%]{margin-bottom:20px}.squad-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.squad-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0;font-size:1.25rem}.squad-title[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--accent-gold);border-radius:4px;padding:4px 8px;font-size:1.1rem}.edit-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;font-size:1rem}.squad-stats[_ngcontent-%COMP%]{display:flex;gap:16px;color:var(--text-secondary);font-size:.9rem}.formation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:20px}.formation-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.row-label[_ngcontent-%COMP%]{width:60px;color:var(--text-muted);font-size:.8rem;text-transform:uppercase}.slots[_ngcontent-%COMP%]{display:flex;gap:8px;flex:1}.slot[_ngcontent-%COMP%]{flex:1;min-height:60px;background:var(--card-overlay);border:2px dashed var(--border-secondary);border-radius:8px;display:flex;align-items:center;justify-content:center;transition:all .2s}.slot.filled[_ngcontent-%COMP%]{border-style:solid;border-color:var(--border-primary)}.slot.drop-target[_ngcontent-%COMP%]{border-color:var(--accent-gold);background:#ffd7001a}.empty-slot[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1.5rem}.merc-mini[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;width:100%;cursor:grab}.merc-mini[_ngcontent-%COMP%]:active{cursor:grabbing}.avatar[_ngcontent-%COMP%]{font-size:1.5rem}.merc-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.name[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.75rem;font-weight:700}.level[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.65rem}.remove-btn[_ngcontent-%COMP%]{background:#9a4c4c4d;border:none;color:#ff6b6b;width:20px;height:20px;border-radius:50%;cursor:pointer;font-size:.7rem}.squad-actions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 12px;font-size:.9rem}.available-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;max-height:200px;overflow-y:auto}.available-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:var(--card-overlay);padding:8px 12px;border-radius:6px;font-size:.85rem;color:var(--text-secondary)}"]})}return a})();var he=(()=>{class a{requests=v(this.generateSampleRequests());notifications=v([]);currentUserId="user-1";currentUserName="Commander";allRequests=this.requests.asReadonly();allNotifications=this.notifications.asReadonly();openRequests=T(()=>this.requests().filter(e=>e.status==="open"));myRequests=T(()=>this.requests().filter(e=>e.requesterId===this.currentUserId));unreadNotifications=T(()=>this.notifications().filter(e=>!e.read));unreadCount=T(()=>this.unreadNotifications().length);createRequest(e){let n=h(C({id:crypto.randomUUID(),requesterId:this.currentUserId,requesterName:this.currentUserName},e),{status:"open",createdAt:new Date,responses:[]});this.requests.update(t=>[n,...t])}respondToRequest(e,n,t){this.requests.update(s=>s.map(d=>{if(d.id===e){let M={id:crypto.randomUUID(),responderId:this.currentUserId,responderName:this.currentUserName,message:n,counterOffer:t,createdAt:new Date,status:"pending"};return h(C({},d),{responses:[...d.responses,M]})}return d})),this.addNotification({type:"response",title:"New Response",message:"Someone responded to your recruitment request",requestId:e})}acceptResponse(e,n){this.requests.update(t=>t.map(s=>s.id===e?h(C({},s),{status:"completed",responses:s.responses.map(d=>d.id===n?h(C({},d),{status:"accepted"}):h(C({},d),{status:"rejected"}))}):s))}cancelRequest(e){this.requests.update(n=>n.map(t=>t.id===e?h(C({},t),{status:"cancelled"}):t))}addNotification(e){let n=h(C({id:crypto.randomUUID()},e),{read:!1,createdAt:new Date});this.notifications.update(t=>[n,...t])}markAsRead(e){this.notifications.update(n=>n.map(t=>t.id===e?h(C({},t),{read:!0}):t))}markAllAsRead(){this.notifications.update(e=>e.map(n=>h(C({},n),{read:!0})))}generateSampleRequests(){return[{id:"1",requesterId:"user-2",requesterName:"WarChief Grom",requestType:"seeking",desiredRace:"Orc",desiredClass:"Warrior",levelRange:[50,80],offeredCompensation:5e3,duration:7,status:"open",description:"Need a strong Orc warrior for upcoming siege. Must have experience in frontline combat.",createdAt:new Date(Date.now()-36e5),responses:[]},{id:"2",requesterId:"user-3",requesterName:"Shadow Master",requestType:"offering",desiredRace:"Dark Elf",desiredClass:"Assassin",levelRange:[60,90],offeredCompensation:3e3,duration:14,status:"open",description:"Offering elite Dark Elf assassin for hire. Specializes in stealth operations.",createdAt:new Date(Date.now()-72e5),responses:[]},{id:"3",requesterId:"user-4",requesterName:"Necro Lord",requestType:"seeking",desiredRace:"Undead",desiredClass:"Necromancer",levelRange:[70,100],offeredCompensation:8e3,duration:30,status:"open",description:"Seeking powerful necromancer for long-term raid campaign. Top compensation!",createdAt:new Date(Date.now()-864e5),responses:[]}]}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ot=(a,m)=>m.id;function kt(a,m){if(a&1&&(i(0,"option",13),o(1),r()),a&2){let e=m.$implicit,n=c(2);V("value",e),l(),q("",n.getRaceEmoji(e)," ",e,"")}}function Et(a,m){if(a&1&&(i(0,"option",13),o(1),r()),a&2){let e=m.$implicit,n=c(2);V("value",e),l(),q("",n.getClassIcon(e)," ",e,"")}}function Dt(a,m){if(a&1){let e=y();i(0,"div",3)(1,"h3"),o(2,"Create Recruitment Request"),r(),i(3,"div",7)(4,"div",8)(5,"label"),o(6,"Request Type"),r(),i(7,"select",9),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.requestType,t)||(s.newRequest.requestType=t),_(t)}),i(8,"option",10),o(9,"\u{1F50D} Seeking Mercenary"),r(),i(10,"option",11),o(11,"\u{1F4E2} Offering Mercenary"),r()()(),i(12,"div",8)(13,"label"),o(14,"Desired Race"),r(),i(15,"select",9),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.desiredRace,t)||(s.newRequest.desiredRace=t),_(t)}),i(16,"option",12),o(17,"Any Race"),r(),w(18,kt,2,3,"option",13,K),r()(),i(20,"div",8)(21,"label"),o(22,"Desired Class"),r(),i(23,"select",9),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.desiredClass,t)||(s.newRequest.desiredClass=t),_(t)}),i(24,"option",12),o(25,"Any Class"),r(),w(26,Et,2,3,"option",13,K),r()(),i(28,"div",8)(29,"label"),o(30,"Level Range"),r(),i(31,"div",14)(32,"input",15),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.levelMin,t)||(s.newRequest.levelMin=t),_(t)}),r(),i(33,"span"),o(34,"to"),r(),i(35,"input",15),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.levelMax,t)||(s.newRequest.levelMax=t),_(t)}),r()()(),i(36,"div",8)(37,"label"),o(38,"Compensation (Gold)"),r(),i(39,"input",16),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.compensation,t)||(s.newRequest.compensation=t),_(t)}),r()(),i(40,"div",8)(41,"label"),o(42,"Duration (Days)"),r(),i(43,"input",17),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.duration,t)||(s.newRequest.duration=t),_(t)}),r()()(),i(44,"div",18)(45,"label"),o(46,"Description"),r(),i(47,"textarea",19),A("ngModelChange",function(t){g(e);let s=c();return F(s.newRequest.description,t)||(s.newRequest.description=t),_(t)}),r()(),i(48,"div",20)(49,"ui-button",21),u("clicked",function(){g(e);let t=c();return _(t.showCreateForm.set(!1))}),o(50,"Cancel"),r(),i(51,"ui-button",2),u("clicked",function(){g(e);let t=c();return _(t.createRequest())}),o(52,"Post Request"),r()()()}if(a&2){let e=c();l(7),R("ngModel",e.newRequest.requestType),l(8),R("ngModel",e.newRequest.desiredRace),l(3),P(e.races),l(5),R("ngModel",e.newRequest.desiredClass),l(3),P(e.classes),l(6),R("ngModel",e.newRequest.levelMin),l(3),R("ngModel",e.newRequest.levelMax),l(4),R("ngModel",e.newRequest.compensation),l(4),R("ngModel",e.newRequest.duration),l(4),R("ngModel",e.newRequest.description)}}function Tt(a,m){if(a&1){let e=y();i(0,"div",22)(1,"div",23)(2,"span",24),o(3),r(),i(4,"span",25),o(5),r()(),i(6,"div",26)(7,"div",27)(8,"span",28),o(9),r()(),i(10,"div",29)(11,"span",30),o(12),r(),i(13,"span",30),o(14),r(),i(15,"span",30),o(16),r()(),i(17,"p",31),o(18),r(),i(19,"div",32)(20,"span",33),o(21),r(),i(22,"span",34),o(23),r()()(),i(24,"div",35)(25,"span",36),o(26),r(),i(27,"ui-button",37),u("clicked",function(){let t=g(e).$implicit,s=c();return _(s.openResponseModal(t))}),o(28,"Respond"),r()()()}if(a&2){let e=m.$implicit,n=c();G(e.requestType),l(2),G(e.requestType),l(),f(" ",e.requestType==="seeking"?"\u{1F50D} Seeking":"\u{1F4E2} Offering"," "),l(2),p(n.getTimeAgo(e.createdAt)),l(4),p(e.requesterName),l(3),p(e.desiredRace==="any"?"Any Race":n.getRaceEmoji(e.desiredRace)+" "+e.desiredRace),l(2),p(e.desiredClass==="any"?"Any Class":n.getClassIcon(e.desiredClass)+" "+e.desiredClass),l(2),q("Lv.",e.levelRange[0],"-",e.levelRange[1],""),l(2),p(e.description),l(3),f("\u{1F4B0} ",e.offeredCompensation," Gold"),l(2),f("\u{1F4C5} ",e.duration," days"),l(3),f("\u{1F4AC} ",e.responses.length," responses")}}function It(a,m){if(a&1){let e=y();i(0,"div",38),u("click",function(){g(e);let t=c();return _(t.closeResponseModal())}),i(1,"div",39),u("click",function(t){return g(e),_(t.stopPropagation())}),i(2,"button",40),u("click",function(){g(e);let t=c();return _(t.closeResponseModal())}),o(3,"\u2715"),r(),i(4,"h3"),o(5,"Respond to Request"),r(),i(6,"div",41)(7,"p")(8,"strong"),o(9),r(),o(10),r(),i(11,"p"),o(12),r()(),i(13,"div",42)(14,"label"),o(15,"Your Message"),r(),i(16,"textarea",43),A("ngModelChange",function(t){g(e);let s=c();return F(s.responseMessage,t)||(s.responseMessage=t),_(t)}),r(),i(17,"label"),o(18,"Counter Offer (optional)"),r(),i(19,"input",44),A("ngModelChange",function(t){g(e);let s=c();return F(s.counterOffer,t)||(s.counterOffer=t),_(t)}),r()(),i(20,"div",45)(21,"ui-button",21),u("clicked",function(){g(e);let t=c();return _(t.closeResponseModal())}),o(22,"Cancel"),r(),i(23,"ui-button",2),u("clicked",function(){g(e);let t=c();return _(t.submitResponse())}),o(24,"Send Response"),r()()()()}if(a&2){let e=c();l(9),p(e.selectedRequest().requesterName),l(),f(" is ",e.selectedRequest().requestType==="seeking"?"looking for":"offering",":"),l(2),Te("",e.selectedRequest().desiredRace," ",e.selectedRequest().desiredClass," (Lv.",e.selectedRequest().levelRange[0],"-",e.selectedRequest().levelRange[1],")"),l(4),R("ngModel",e.responseMessage),l(3),R("ngModel",e.counterOffer)}}var Ue=(()=>{class a{recruitmentService=S(he);showCreateForm=v(!1);selectedRequest=v(null);responseMessage="";counterOffer=null;races=["Orc","Goblin","Warlock","Troll","Undead","Demon","Dark Elf"];classes=["Warrior","Assassin","Mage","Tank","Healer","Berserker","Necromancer"];newRequest={requestType:"seeking",desiredRace:"any",desiredClass:"any",levelMin:1,levelMax:100,compensation:1e3,duration:7,description:""};getRaceEmoji(e){return X[e]?.emoji||""}getClassIcon(e){return J[e]?.icon||""}getTimeAgo(e){let n=Date.now()-new Date(e).getTime(),t=Math.floor(n/36e5);return t<1?"Just now":t<24?`${t}h ago`:`${Math.floor(t/24)}d ago`}createRequest(){this.recruitmentService.createRequest({requestType:this.newRequest.requestType,desiredRace:this.newRequest.desiredRace,desiredClass:this.newRequest.desiredClass,levelRange:[this.newRequest.levelMin,this.newRequest.levelMax],offeredCompensation:this.newRequest.compensation,duration:this.newRequest.duration,description:this.newRequest.description}),this.showCreateForm.set(!1),this.resetForm()}openResponseModal(e){this.selectedRequest.set(e),this.responseMessage="",this.counterOffer=null}closeResponseModal(){this.selectedRequest.set(null)}submitResponse(){let e=this.selectedRequest();e&&this.responseMessage.trim()&&(this.recruitmentService.respondToRequest(e.id,this.responseMessage,this.counterOffer||void 0),this.closeResponseModal())}resetForm(){this.newRequest={requestType:"seeking",desiredRace:"any",desiredClass:"any",levelMin:1,levelMax:100,compensation:1e3,duration:7,description:""}}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-recruitment-board"]],standalone:!0,features:[E],decls:11,vars:2,consts:[[1,"recruitment-board"],[1,"board-header"],["variant","primary",3,"clicked"],[1,"create-form"],[1,"requests-list"],[1,"request-card",3,"class"],[1,"modal-overlay"],[1,"form-grid"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value","seeking"],["value","offering"],["value","any"],[3,"value"],[1,"range-inputs"],["type","number","min","1","max","100",3,"ngModelChange","ngModel"],["type","number","min","0",3,"ngModelChange","ngModel"],["type","number","min","1",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["rows","3","placeholder","Describe your requirements...",3,"ngModelChange","ngModel"],[1,"form-actions"],["variant","outline",3,"clicked"],[1,"request-card"],[1,"request-header"],[1,"type-badge"],[1,"time"],[1,"request-body"],[1,"requester"],[1,"name"],[1,"requirements"],[1,"tag"],[1,"description"],[1,"offer-info"],[1,"compensation"],[1,"duration"],[1,"request-footer"],[1,"responses"],["variant","primary","size","sm",3,"clicked"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"request-summary"],[1,"response-form"],["rows","4","placeholder","Write your response...",3,"ngModelChange","ngModel"],["type","number","placeholder","Leave empty to accept original offer",3,"ngModelChange","ngModel"],[1,"modal-actions"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),o(3,"\u{1F4CB} Recruitment Board"),r(),i(4,"ui-button",2),u("clicked",function(){return t.showCreateForm.set(!0)}),o(5,"+ Post Request"),r()(),b(6,Dt,53,8,"div",3),i(7,"div",4),w(8,Tt,29,15,"div",5,Ot),r(),b(10,It,25,8,"div",6),r()),n&2&&(l(6),x(t.showCreateForm()?6:-1),l(2),P(t.recruitmentService.openRequests()),l(2),x(t.selectedRequest()?10:-1))},dependencies:[I,Q,re,ae,te,fe,xe,ne,Ce,Re,ie,H],styles:[".recruitment-board[_ngcontent-%COMP%]{padding:20px 0}.board-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.board-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0}.create-form[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:24px;margin-bottom:24px}.create-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 20px}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px;padding:10px;font-size:.9rem}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.range-inputs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.range-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px}.range-inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-muted)}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:16px}.requests-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.request-card[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:20px}.request-card.seeking[_ngcontent-%COMP%]{border-left:4px solid #5a8ac4}.request-card.offering[_ngcontent-%COMP%]{border-left:4px solid #5ac47a}.request-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px}.type-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:4px;font-size:.8rem;font-weight:700}.type-badge.seeking[_ngcontent-%COMP%]{background:#5a8ac433;color:#5a8ac4}.type-badge.offering[_ngcontent-%COMP%]{background:#5ac47a33;color:#5ac47a}.time[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.requester[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--text-white);font-weight:700}.requirements[_ngcontent-%COMP%]{display:flex;gap:8px;margin:12px 0;flex-wrap:wrap}.tag[_ngcontent-%COMP%]{background:var(--card-overlay);padding:4px 10px;border-radius:4px;font-size:.8rem;color:var(--text-secondary)}.description[_ngcontent-%COMP%]{color:var(--text-secondary);margin:12px 0;font-size:.9rem}.offer-info[_ngcontent-%COMP%]{display:flex;gap:20px}.compensation[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.duration[_ngcontent-%COMP%]{color:var(--text-muted)}.request-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px;padding-top:16px;border-top:1px solid var(--border-secondary)}.responses[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:16px;padding:24px;max-width:500px;width:90%;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 16px}.request-summary[_ngcontent-%COMP%]{background:var(--card-overlay);padding:12px;border-radius:8px;margin-bottom:16px}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:4px 0}.response-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.response-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.response-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .response-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px;padding:10px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px}"]})}return a})();var qt=(a,m)=>m.id;function Rt(a,m){if(a&1&&(i(0,"span",2),o(1),r()),a&2){let e=c();l(),p(e.recruitmentService.unreadCount())}}function Ft(a,m){if(a&1){let e=y();i(0,"button",8),u("click",function(){g(e);let t=c(2);return _(t.markAllRead())}),o(1,"Mark all read"),r()}}function At(a,m){a&1&&(i(0,"div",7),o(1,"No notifications yet"),r())}function Vt(a,m){if(a&1){let e=y();i(0,"div",10),u("click",function(){let t=g(e).$implicit,s=c(3);return _(s.markRead(t.id))}),i(1,"span",11),o(2),r(),i(3,"div",12)(4,"span",13),o(5),r(),i(6,"span",14),o(7),r(),i(8,"span",15),o(9),r()()()}if(a&2){let e=m.$implicit,n=c(3);D("unread",!e.read),l(2),p(n.getIcon(e.type)),l(3),p(e.title),l(2),p(e.message),l(2),p(n.getTimeAgo(e.createdAt))}}function Bt(a,m){if(a&1&&w(0,Vt,10,6,"div",9,qt),a&2){let e=c(2);P(e.recruitmentService.allNotifications())}}function zt(a,m){if(a&1&&(i(0,"div",3)(1,"div",4)(2,"span"),o(3,"Notifications"),r(),b(4,Ft,2,0,"button",5),r(),i(5,"div",6),b(6,At,2,0,"div",7)(7,Bt,2,0),r()()),a&2){let e=c();l(4),x(e.recruitmentService.unreadCount()>0?4:-1),l(2),x(e.recruitmentService.allNotifications().length===0?6:7)}}var $e=(()=>{class a{recruitmentService=S(he);isOpen=v(!1);toggleDropdown(){this.isOpen.update(e=>!e)}markRead(e){this.recruitmentService.markAsRead(e)}markAllRead(){this.recruitmentService.markAllAsRead()}getIcon(e){return{response:"\u{1F4AC}",accepted:"\u2705",rejected:"\u274C","new-match":"\u{1F3AF}"}[e]||"\u{1F4E2}"}getTimeAgo(e){let n=Date.now()-new Date(e).getTime(),t=Math.floor(n/6e4);if(t<1)return"Just now";if(t<60)return`${t}m ago`;let s=Math.floor(t/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-notification-bell"]],standalone:!0,features:[E],decls:5,vars:2,consts:[[1,"notification-wrapper"],[1,"bell-btn",3,"click"],[1,"badge"],[1,"dropdown"],[1,"dropdown-header"],[1,"mark-read"],[1,"notification-list"],[1,"empty"],[1,"mark-read",3,"click"],[1,"notification-item",3,"unread"],[1,"notification-item",3,"click"],[1,"icon"],[1,"content"],[1,"title"],[1,"message"],[1,"time"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"button",1),u("click",function(){return t.toggleDropdown()}),o(2," \u{1F514} "),b(3,Rt,2,1,"span",2),r(),b(4,zt,8,2,"div",3),r()),n&2&&(l(3),x(t.recruitmentService.unreadCount()>0?3:-1),l(),x(t.isOpen()?4:-1))},dependencies:[I],styles:[".notification-wrapper[_ngcontent-%COMP%]{position:relative}.bell-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid var(--border-primary);border-radius:50%;width:44px;height:44px;font-size:1.25rem;cursor:pointer;position:relative;transition:all .2s;display:flex;align-items:center;justify-content:center;line-height:1}.bell-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#c45a5a;color:#fff;font-size:.7rem;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center}.dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:8px;background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:12px;width:320px;max-height:400px;overflow:hidden;z-index:100;box-shadow:0 8px 32px #0006}.dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border-secondary);color:var(--text-primary);font-weight:700}.mark-read[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--accent-gold);font-size:.8rem;cursor:pointer}.notification-list[_ngcontent-%COMP%]{max-height:340px;overflow-y:auto}.empty[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:var(--text-muted)}.notification-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border-secondary);cursor:pointer;transition:background .2s}.notification-item[_ngcontent-%COMP%]:hover{background:var(--card-overlay)}.notification-item.unread[_ngcontent-%COMP%]{background:#ffd7000d}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.title[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:.85rem}.message[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8rem}.time[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.7rem}"]})}return a})();var pe={easy:{color:"#5ac47a",icon:"\u2B50",multiplier:1},medium:{color:"#c4a35a",icon:"\u2B50\u2B50",multiplier:1.5},hard:{color:"#c45a5a",icon:"\u2B50\u2B50\u2B50",multiplier:2},legendary:{color:"#a35ac4",icon:"\u{1F451}",multiplier:3}},we={raid:{icon:"\u2694\uFE0F",label:"Raid"},escort:{icon:"\u{1F6E1}\uFE0F",label:"Escort"},assassination:{icon:"\u{1F5E1}\uFE0F",label:"Assassination"},defense:{icon:"\u{1F3F0}",label:"Defense"},exploration:{icon:"\u{1F5FA}\uFE0F",label:"Exploration"}};var ue={gold:{icon:"\u{1F4B0}",color:"#ffd700",label:"Gold"},gems:{icon:"\u{1F48E}",color:"#5ac4c4",label:"Gems"},souls:{icon:"\u{1F47B}",color:"#a35ac4",label:"Souls"}},be={gold:1e5,gems:1e3,souls:500};var de=(()=>{class a{treasury=v({gold:{type:"gold",amount:5e3,cap:be.gold},gems:{type:"gems",amount:50,cap:be.gems},souls:{type:"souls",amount:10,cap:be.souls},totalEarned:5e3,totalSpent:0});transactions=v([{id:"1",type:"reward",currency:"gold",amount:5e3,description:"Starting funds",timestamp:new Date,balanceAfter:5e3}]);tradeOffers=v(this.generateSampleTrades());currentTreasury=this.treasury.asReadonly();allTransactions=this.transactions.asReadonly();allTradeOffers=this.tradeOffers.asReadonly();openTrades=T(()=>this.tradeOffers().filter(e=>e.status==="open"));recentTransactions=T(()=>this.transactions().slice(0,20));goldBalance=T(()=>this.treasury().gold.amount);gemsBalance=T(()=>this.treasury().gems.amount);soulsBalance=T(()=>this.treasury().souls.amount);getBalance(e){return this.treasury()[e].amount}canAfford(e,n){return this.treasury()[e].amount>=n}earn(e,n,t){let s=this.treasury()[e],d=Math.min(s.amount+n,s.cap),M=d-s.amount;return M<=0?!1:(this.treasury.update(O=>h(C({},O),{[e]:h(C({},O[e]),{amount:d}),totalEarned:O.totalEarned+M})),this.addTransaction("earn",e,M,t),!0)}spend(e,n,t){if(!this.canAfford(e,n))return!1;let s=this.treasury()[e].amount-n;return this.treasury.update(d=>h(C({},d),{[e]:h(C({},d[e]),{amount:s}),totalSpent:d.totalSpent+n})),this.addTransaction("spend",e,-n,t),!0}addTransaction(e,n,t,s){let d={id:crypto.randomUUID(),type:e,currency:n,amount:t,description:s,timestamp:new Date,balanceAfter:this.treasury()[n].amount};this.transactions.update(M=>[d,...M])}createTradeOffer(e){if(!this.canAfford(e.offerCurrency,e.offerAmount))return!1;this.spend(e.offerCurrency,e.offerAmount,"Trade offer created");let n={id:crypto.randomUUID(),sellerId:"user-1",sellerName:"You",offerType:"currency",offerCurrency:e.offerCurrency,offerAmount:e.offerAmount,askingCurrency:e.askingCurrency,askingAmount:e.askingAmount,status:"open",createdAt:new Date};return this.tradeOffers.update(t=>[n,...t]),!0}acceptTrade(e){let n=this.tradeOffers().find(t=>t.id===e);return!n||n.status!=="open"||n.sellerId==="user-1"||!this.canAfford(n.askingCurrency,n.askingAmount)?!1:(this.spend(n.askingCurrency,n.askingAmount,`Trade with ${n.sellerName}`),n.offerCurrency&&n.offerAmount&&this.earn(n.offerCurrency,n.offerAmount,`Trade with ${n.sellerName}`),this.tradeOffers.update(t=>t.map(s=>s.id===e?h(C({},s),{status:"completed"}):s)),!0)}cancelTrade(e){let n=this.tradeOffers().find(t=>t.id===e);return!n||n.status!=="open"||n.sellerId!=="user-1"?!1:(n.offerCurrency&&n.offerAmount&&this.earn(n.offerCurrency,n.offerAmount,"Trade cancelled - refund"),this.tradeOffers.update(t=>t.map(s=>s.id===e?h(C({},s),{status:"cancelled"}):s)),!0)}generateSampleTrades(){return[{id:"t1",sellerId:"npc-1",sellerName:"Dark Merchant",offerType:"currency",offerCurrency:"gems",offerAmount:10,askingCurrency:"gold",askingAmount:2e3,status:"open",createdAt:new Date(Date.now()-36e5)},{id:"t2",sellerId:"npc-2",sellerName:"Soul Trader",offerType:"currency",offerCurrency:"souls",offerAmount:5,askingCurrency:"gems",askingAmount:15,status:"open",createdAt:new Date(Date.now()-72e5)},{id:"t3",sellerId:"npc-3",sellerName:"Gold Baron",offerType:"currency",offerCurrency:"gold",offerAmount:5e3,askingCurrency:"souls",askingAmount:20,status:"open",createdAt:new Date(Date.now()-864e5)}]}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Me=(()=>{class a{squadService=S(ce);mercenaryService=S($);economyService=S(de);missions=v(this.generateMissions());activeMissions=v([]);missionResults=v([]);totalGoldEarned=v(0);allMissions=this.missions.asReadonly();allActiveMissions=this.activeMissions.asReadonly();allResults=this.missionResults.asReadonly();goldEarned=this.totalGoldEarned.asReadonly();availableMissions=T(()=>this.missions().filter(e=>e.status==="available"));inProgressMissions=T(()=>this.activeMissions().map(e=>h(C({},e),{mission:this.missions().find(n=>n.id===e.missionId),timeRemaining:this.getTimeRemaining(e.endsAt),progress:this.getProgress(e)})));completedMissionsCount=T(()=>this.missionResults().filter(e=>e.success).length);calculateSuccessProbability(e){let n=this.missions().find(Y=>Y.id===e);if(!n)return 0;let t=this.squadService.squadMembers();if(t.length<n.requirements.minSquadSize)return 0;let s=50,d=Math.min((t.length-n.requirements.minSquadSize)*5,20);s+=d,t.reduce((Y,Z)=>Y+(Z.mercenary?.level||0),0)>=n.requirements.minTotalLevel?s+=15:s-=20;let{recommendedRaces:O,recommendedClasses:z}=n.requirements;if(O?.length){let Y=t.filter(Z=>O.includes(Z.mercenary?.race)).length;s+=Y*3}if(z?.length){let Y=t.filter(Z=>z.includes(Z.mercenary?.class)).length;s+=Y*3}if(n.requirements.minStats){let Y=this.calculateAverageStats(t),{strength:Z,agility:Pe,magic:Oe,defense:ke}=n.requirements.minStats;Z&&Y.strength>=Z&&(s+=5),Pe&&Y.agility>=Pe&&(s+=5),Oe&&Y.magic>=Oe&&(s+=5),ke&&Y.defense>=ke&&(s+=5)}return s-={easy:0,medium:10,hard:25,legendary:40}[n.difficulty],Math.max(5,Math.min(95,s))}calculateAverageStats(e){if(e.length===0)return{strength:0,agility:0,magic:0,defense:0};let n=e.reduce((t,s)=>({strength:t.strength+(s.mercenary?.stats.strength||0),agility:t.agility+(s.mercenary?.stats.agility||0),magic:t.magic+(s.mercenary?.stats.magic||0),defense:t.defense+(s.mercenary?.stats.defense||0)}),{strength:0,agility:0,magic:0,defense:0});return{strength:Math.round(n.strength/e.length),agility:Math.round(n.agility/e.length),magic:Math.round(n.magic/e.length),defense:Math.round(n.defense/e.length)}}startMission(e){let n=this.missions().find(z=>z.id===e);if(!n||n.status!=="available")return!1;let t=this.squadService.squadMembers();if(t.length<n.requirements.minSquadSize)return!1;let s=this.calculateSuccessProbability(e),d=new Date,M=new Date(d.getTime()+n.duration*6e4),O={id:crypto.randomUUID(),missionId:e,squadMemberIds:t.map(z=>z.mercenary.id),startedAt:d,endsAt:M,successProbability:s};return this.activeMissions.update(z=>[...z,O]),this.missions.update(z=>z.map(oe=>oe.id===e?h(C({},oe),{status:"in-progress"}):oe)),t.forEach(z=>{z.mercenary&&this.mercenaryService.setOnMission(z.mercenary.id)}),setTimeout(()=>this.completeMission(O.id),n.duration*6e4),!0}completeMission(e){let n=this.activeMissions().find(O=>O.id===e);if(!n)return;let t=this.missions().find(O=>O.id===n.missionId);if(!t)return;let s=Math.random()*100<n.successProbability,d=pe[t.difficulty].multiplier,M={missionId:t.id,success:s,goldEarned:Math.round(s?t.rewards.gold*d:t.rewards.gold*.1),experienceEarned:s?t.rewards.experience:Math.round(t.rewards.experience*.2),casualties:s?[]:this.calculateCasualties(n.squadMemberIds),bonusItems:s&&t.rewards.bonusItems?t.rewards.bonusItems:[]};this.missionResults.update(O=>[M,...O]),this.totalGoldEarned.update(O=>O+M.goldEarned),this.economyService.earn("gold",M.goldEarned,`${s?"Completed":"Failed"}: ${t.name}`),s&&t.difficulty==="legendary"&&this.economyService.earn("gems",10,`Legendary bonus: ${t.name}`),this.missions.update(O=>O.map(z=>z.id===t.id?h(C({},z),{status:"available"}):z)),this.activeMissions.update(O=>O.filter(z=>z.id!==e)),n.squadMemberIds.forEach(O=>{this.mercenaryService.returnFromMission(O)})}calculateCasualties(e){return e.filter(()=>Math.random()<.2)}getTimeRemaining(e){let n=new Date(e).getTime()-Date.now();if(n<=0)return"Completing...";let t=Math.floor(n/6e4),s=Math.floor(n%6e4/1e3);return`${t}m ${s}s`}getProgress(e){let n=new Date(e.endsAt).getTime()-new Date(e.startedAt).getTime(),t=Date.now()-new Date(e.startedAt).getTime();return Math.min(100,Math.round(t/n*100))}getMissionById(e){return this.missions().find(n=>n.id===e)}generateMissions(){return[{id:"1",name:"Goblin Cave Raid",description:"Clear out a goblin-infested cave and claim their treasure.",type:"raid",difficulty:"easy",requirements:{minSquadSize:2,minTotalLevel:20,recommendedClasses:["Warrior","Tank"]},rewards:{gold:500,experience:100},duration:1,cooldown:5,status:"available"},{id:"2",name:"Merchant Escort",description:"Safely escort a merchant caravan through bandit territory.",type:"escort",difficulty:"easy",requirements:{minSquadSize:3,minTotalLevel:30},rewards:{gold:750,experience:150},duration:2,cooldown:10,status:"available"},{id:"3",name:"Assassinate the Warlord",description:"Infiltrate the enemy camp and eliminate their leader.",type:"assassination",difficulty:"medium",requirements:{minSquadSize:2,minTotalLevel:80,recommendedClasses:["Assassin","Mage"]},rewards:{gold:2e3,experience:400,bonusItems:["Shadow Dagger"]},duration:3,cooldown:30,status:"available"},{id:"4",name:"Defend the Outpost",description:"Hold the northern outpost against waves of undead.",type:"defense",difficulty:"medium",requirements:{minSquadSize:4,minTotalLevel:120,recommendedRaces:["Orc","Troll"],minStats:{defense:50}},rewards:{gold:3e3,experience:600},duration:5,cooldown:60,status:"available"},{id:"5",name:"Dragon's Lair",description:"Venture into the dragon's lair and steal from its hoard.",type:"raid",difficulty:"hard",requirements:{minSquadSize:5,minTotalLevel:200,minStats:{strength:60,defense:60}},rewards:{gold:8e3,experience:1500,bonusItems:["Dragon Scale Armor","Fire Ruby"]},duration:10,cooldown:120,status:"available"},{id:"6",name:"The Demon Gate",description:"Close the demon portal before the invasion begins.",type:"defense",difficulty:"legendary",requirements:{minSquadSize:6,minTotalLevel:350,recommendedClasses:["Mage","Healer","Necromancer"],minStats:{magic:70}},rewards:{gold:2e4,experience:5e3,bonusItems:["Demon Lord's Crown","Void Crystal","Legendary Weapon"]},duration:15,cooldown:240,status:"available"}]}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Ye=(a,m)=>m.id,Nt=()=>[];function Lt(a,m){if(a&1&&(i(0,"div",9)(1,"div",10)(2,"span",11),o(3),r(),i(4,"div",12)(5,"span",13),o(6),r(),i(7,"span",14),o(8),r()()(),i(9,"div",15),B(10,"div",16),r(),i(11,"span",17),o(12),r()()),a&2){let e=m.$implicit,n=c(2);l(3),p(n.getMissionTypeIcon(e.mission.type)),l(3),p(e.mission.name),l(2),p(e.timeRemaining),l(2),W("width",e.progress,"%"),l(2),f("",e.successProbability,"% success")}}function jt(a,m){if(a&1&&(i(0,"div",5)(1,"h3"),o(2,"\u23F3 Active Missions"),r(),w(3,Lt,13,6,"div",9,Ye),r()),a&2){let e=c();l(3),P(e.missionService.inProgressMissions())}}function Wt(a,m){if(a&1&&(i(0,"span",27),o(1),r()),a&2){let e=c().$implicit;l(),f("\u{1F381} +",e.rewards.bonusItems.length," items")}}function Ht(a,m){if(a&1){let e=y();i(0,"div",18),u("click",function(){let t=g(e).$implicit,s=c();return _(s.selectMission(t))}),i(1,"div",19)(2,"span",20),o(3),r(),i(4,"span",21),o(5),L(6,"titlecase"),r()(),i(7,"h4"),o(8),r(),i(9,"p",22),o(10),r(),i(11,"div",23)(12,"span"),o(13),r(),i(14,"span"),o(15),r(),i(16,"span"),o(17),r()(),i(18,"div",24)(19,"span",25),o(20),r(),i(21,"span",26),o(22),r(),b(23,Wt,2,1,"span",27),r()()}if(a&2){let e=m.$implicit,n=c();G(e.difficulty),l(3),q("",n.getMissionTypeIcon(e.type)," ",n.getMissionTypeLabel(e.type),""),l(),W("background",n.getDifficultyColor(e.difficulty)),l(),q(" ",n.getDifficultyIcon(e.difficulty)," ",j(6,16,e.difficulty)," "),l(3),p(e.name),l(2),p(e.description),l(3),f("\u{1F465} Min ",e.requirements.minSquadSize,""),l(2),f("\u{1F4CA} Lv.",e.requirements.minTotalLevel,"+"),l(2),f("\u23F1\uFE0F ",e.duration,"m"),l(3),f("\u{1F4B0} ",e.rewards.gold,""),l(2),f("\u2B50 ",e.rewards.experience," XP"),l(),x(e.rewards.bonusItems&&e.rewards.bonusItems.length>0?23:-1)}}function Gt(a,m){if(a&1&&(i(0,"li"),o(1),r()),a&2){let e,n=c(2);l(),f("Recommended Races: ",(e=n.selectedMission().requirements.recommendedRaces)==null?null:e.join(", "),"")}}function Ut(a,m){if(a&1&&(i(0,"li"),o(1),r()),a&2){let e,n=c(2);l(),f("Recommended Classes: ",(e=n.selectedMission().requirements.recommendedClasses)==null?null:e.join(", "),"")}}function $t(a,m){if(a&1&&(i(0,"span",39),o(1),r()),a&2){let e=m.$implicit;l(),f("\u{1F381} ",e,"")}}function Yt(a,m){if(a&1){let e=y();i(0,"div",28),u("click",function(){g(e);let t=c();return _(t.closeBriefing())}),i(1,"div",29),u("click",function(t){return g(e),_(t.stopPropagation())}),i(2,"button",30),u("click",function(){g(e);let t=c();return _(t.closeBriefing())}),o(3,"\u2715"),r(),i(4,"div",31)(5,"span",32),o(6),r(),i(7,"div")(8,"h3"),o(9),r(),i(10,"span",33),o(11),L(12,"titlecase"),r()()(),i(13,"p",34),o(14),r(),i(15,"div",35)(16,"h4"),o(17,"\u{1F4CB} Requirements"),r(),i(18,"ul")(19,"li"),o(20),r(),i(21,"li"),o(22),r(),b(23,Gt,2,1,"li")(24,Ut,2,1,"li"),r()(),i(25,"div",35)(26,"h4"),o(27,"\u{1F381} Rewards"),r(),i(28,"div",36)(29,"span",37),o(30),r(),i(31,"span",38),o(32),r(),w(33,$t,2,1,"span",39,K),r()(),i(35,"div",40)(36,"h4"),o(37,"\u2694\uFE0F Your Squad"),r(),i(38,"div",41),o(39),r(),i(40,"div",42)(41,"span",43),o(42,"Success Probability:"),r(),i(43,"span",44),o(44),r()()(),i(45,"div",45)(46,"ui-button",46),u("clicked",function(){g(e);let t=c();return _(t.closeBriefing())}),o(47,"Cancel"),r(),i(48,"ui-button",47),u("clicked",function(){g(e);let t=c();return _(t.startMission())}),o(49," \u2694\uFE0F Deploy Squad "),r()()()()}if(a&2){let e,n,t=c();l(6),p(t.getMissionTypeIcon(t.selectedMission().type)),l(3),p(t.selectedMission().name),l(),W("color",t.getDifficultyColor(t.selectedMission().difficulty)),l(),q(" ",t.getDifficultyIcon(t.selectedMission().difficulty)," ",j(12,24,t.selectedMission().difficulty)," "),l(3),p(t.selectedMission().description),l(6),f("Minimum Squad Size: ",t.selectedMission().requirements.minSquadSize," members"),l(2),f("Minimum Total Level: ",t.selectedMission().requirements.minTotalLevel,""),l(),x((e=t.selectedMission().requirements.recommendedRaces)!=null&&e.length?23:-1),l(),x((n=t.selectedMission().requirements.recommendedClasses)!=null&&n.length?24:-1),l(6),f("\u{1F4B0} ",t.selectedMission().rewards.gold," Gold"),l(2),f("\u2B50 ",t.selectedMission().rewards.experience," XP"),l(),P(t.selectedMission().rewards.bonusItems||Ie(26,Nt)),l(5),D("pass",t.squadService.squadSize()>=t.selectedMission().requirements.minSquadSize),l(),le(" ",t.squadService.squadSize()>=t.selectedMission().requirements.minSquadSize?"\u2705":"\u274C"," Squad Size: ",t.squadService.squadSize(),"/",t.selectedMission().requirements.minSquadSize," "),l(4),D("high",t.successProbability()>=70)("low",t.successProbability()<40),l(),f(" ",t.successProbability(),"% "),l(4),V("disabled",!t.canStartMission())}}function Qt(a,m){if(a&1&&(i(0,"div",52)(1,"span",43),o(2,"Items Found"),r(),i(3,"span",44),o(4),r()()),a&2){let e=c(2);l(4),f("\u{1F381} ",e.latestResult().bonusItems.join(", "),"")}}function Kt(a,m){if(a&1){let e=y();i(0,"div",28),u("click",function(){g(e);let t=c();return _(t.closeResult())}),i(1,"div",48),u("click",function(t){return g(e),_(t.stopPropagation())}),i(2,"div",49)(3,"span",50),o(4),r(),i(5,"h3"),o(6),r()(),i(7,"div",51)(8,"div",52)(9,"span",43),o(10,"Gold Earned"),r(),i(11,"span",44),o(12),r()(),i(13,"div",52)(14,"span",43),o(15,"Experience"),r(),i(16,"span",44),o(17),r()(),b(18,Qt,5,1,"div",52),r(),i(19,"ui-button",53),u("clicked",function(){g(e);let t=c();return _(t.closeResult())}),o(20,"Continue"),r()()()}if(a&2){let e=c();l(),G(e.latestResult().success?"success":"failure"),l(3),p(e.latestResult().success?"\u{1F3C6}":"\u{1F480}"),l(2),p(e.latestResult().success?"Mission Complete!":"Mission Failed"),l(6),f("\u{1F4B0} ",e.latestResult().goldEarned,""),l(5),f("\u2B50 ",e.latestResult().experienceEarned,""),l(),x(e.latestResult().bonusItems.length>0?18:-1)}}var Qe=(()=>{class a{missionService=S(Me);squadService=S(ce);selectedMission=v(null);latestResult=v(null);successProbability=v(0);selectMission(e){this.selectedMission.set(e),this.successProbability.set(this.missionService.calculateSuccessProbability(e.id))}closeBriefing(){this.selectedMission.set(null)}canStartMission(){let e=this.selectedMission();return e?this.squadService.squadSize()>=e.requirements.minSquadSize:!1}startMission(){let e=this.selectedMission();e&&this.missionService.startMission(e.id)&&this.closeBriefing()}closeResult(){this.latestResult.set(null)}getMissionTypeIcon(e){return we[e]?.icon||"\u{1F4DC}"}getMissionTypeLabel(e){return we[e]?.label||e}getDifficultyColor(e){return pe[e]?.color||"#666"}getDifficultyIcon(e){return pe[e]?.icon||"\u2B50"}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-mission-board"]],standalone:!0,features:[E],decls:15,vars:5,consts:[[1,"mission-board"],[1,"board-header"],[1,"stats"],[1,"stat"],[1,"stat","gold"],[1,"active-missions"],[1,"missions-grid"],[1,"mission-card",3,"class"],[1,"modal-overlay"],[1,"active-mission-card"],[1,"mission-info"],[1,"type"],[1,"details"],[1,"name"],[1,"time"],[1,"progress-bar"],[1,"progress-fill"],[1,"probability"],[1,"mission-card",3,"click"],[1,"card-header"],[1,"type-badge"],[1,"difficulty-badge"],[1,"description"],[1,"requirements"],[1,"rewards"],[1,"gold"],[1,"xp"],[1,"items"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"briefing-header"],[1,"type-icon"],[1,"difficulty"],[1,"briefing-desc"],[1,"briefing-section"],[1,"reward-list"],[1,"reward","gold"],[1,"reward","xp"],[1,"reward","item"],[1,"squad-check"],[1,"check-item"],[1,"success-probability"],[1,"label"],[1,"value"],[1,"briefing-actions"],["variant","outline",3,"clicked"],["variant","primary",3,"clicked","disabled"],[1,"modal-content","result-modal",3,"click"],[1,"result-header"],[1,"result-icon"],[1,"result-rewards"],[1,"reward-item"],["variant","primary",3,"clicked"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),o(3,"\u{1F5FA}\uFE0F Mission Board"),r(),i(4,"div",2)(5,"span",3),o(6),r(),i(7,"span",4),o(8),r()()(),b(9,jt,5,0,"div",5),i(10,"div",6),w(11,Ht,24,18,"div",7,Ye),r(),b(13,Yt,50,27,"div",8)(14,Kt,21,7,"div",8),r()),n&2&&(l(6),f("\u2705 ",t.missionService.completedMissionsCount()," Completed"),l(2),f("\u{1F4B0} ",t.missionService.goldEarned()," Gold Earned"),l(),x(t.missionService.inProgressMissions().length>0?9:-1),l(2),P(t.missionService.availableMissions()),l(2),x(t.selectedMission()?13:-1),l(),x(t.latestResult()?14:-1))},dependencies:[I,_e,H],styles:[".mission-board[_ngcontent-%COMP%]{padding:20px 0}.board-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.board-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0}.stats[_ngcontent-%COMP%]{display:flex;gap:20px}.stat[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.stat.gold[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.active-missions[_ngcontent-%COMP%]{margin-bottom:24px}.active-missions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px;font-size:1rem}.active-mission-card[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-progress);border-radius:8px;padding:12px 16px;margin-bottom:8px}.mission-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px}.type[_ngcontent-%COMP%]{font-size:1.5rem}.details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.name[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700}.time[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:.85rem}.progress-bar[_ngcontent-%COMP%]{height:6px;background:var(--border-secondary);border-radius:3px;overflow:hidden;margin-bottom:4px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);transition:width .3s}.probability[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.missions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}.mission-card[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:16px;cursor:pointer;transition:all .2s}.mission-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:var(--accent-gold)}.mission-card.legendary[_ngcontent-%COMP%]{border-color:#a35ac4}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px}.type-badge[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8rem}.difficulty-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.75rem;color:#fff}.mission-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-white);margin:0 0 8px}.description[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem;margin:0 0 12px}.requirements[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:12px;font-size:.8rem;color:var(--text-muted)}.rewards[_ngcontent-%COMP%]{display:flex;gap:12px;padding-top:12px;border-top:1px solid var(--border-secondary)}.gold[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.xp[_ngcontent-%COMP%]{color:#5ac47a}.items[_ngcontent-%COMP%]{color:#a35ac4}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:16px;padding:24px;max-width:500px;width:90%;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}.briefing-header[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:16px}.type-icon[_ngcontent-%COMP%]{font-size:3rem}.briefing-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-white);margin:0 0 4px}.difficulty[_ngcontent-%COMP%]{font-size:.9rem}.briefing-desc[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:20px}.briefing-section[_ngcontent-%COMP%]{margin-bottom:20px}.briefing-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 12px;font-size:.95rem}.briefing-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:var(--text-secondary)}.briefing-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px}.reward-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.reward[_ngcontent-%COMP%]{padding:6px 12px;background:var(--card-overlay);border-radius:6px;font-size:.9rem}.reward.gold[_ngcontent-%COMP%]{color:var(--accent-gold)}.reward.xp[_ngcontent-%COMP%]{color:#5ac47a}.reward.item[_ngcontent-%COMP%]{color:#a35ac4}.squad-check[_ngcontent-%COMP%]{background:var(--card-overlay);padding:16px;border-radius:8px;margin-bottom:20px}.squad-check[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px}.check-item[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:8px}.check-item.pass[_ngcontent-%COMP%]{color:#5ac47a}.success-probability[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding-top:12px;border-top:1px solid var(--border-secondary)}.success-probability[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-secondary)}.success-probability[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--accent-gold)}.success-probability[_ngcontent-%COMP%]   .value.high[_ngcontent-%COMP%]{color:#5ac47a}.success-probability[_ngcontent-%COMP%]   .value.low[_ngcontent-%COMP%]{color:#c45a5a}.briefing-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px}.result-modal[_ngcontent-%COMP%]{text-align:center}.result-modal.success[_ngcontent-%COMP%]{border-color:#5ac47a}.result-modal.failure[_ngcontent-%COMP%]{border-color:#c45a5a}.result-header[_ngcontent-%COMP%]{margin-bottom:20px}.result-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:12px}.result-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-white);margin:0}.result-rewards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.reward-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px;background:var(--card-overlay);border-radius:8px}.reward-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-secondary)}.reward-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}"]})}return a})();var Ke=(()=>{class a{economyService=S(de);static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-resource-header"]],standalone:!0,features:[E],decls:23,vars:5,consts:[[1,"resource-header"],[1,"resource","gold"],[1,"icon"],[1,"amount"],[1,"label"],[1,"resource","gems"],[1,"resource","souls"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"span",2),o(3,"\u{1F4B0}"),r(),i(4,"span",3),o(5),L(6,"number"),r(),i(7,"span",4),o(8,"Gold"),r()(),i(9,"div",5)(10,"span",2),o(11,"\u{1F48E}"),r(),i(12,"span",3),o(13),r(),i(14,"span",4),o(15,"Gems"),r()(),i(16,"div",6)(17,"span",2),o(18,"\u{1F47B}"),r(),i(19,"span",3),o(20),r(),i(21,"span",4),o(22,"Souls"),r()()()),n&2&&(l(5),p(j(6,3,t.economyService.goldBalance())),l(8),p(t.economyService.gemsBalance()),l(7),p(t.economyService.soulsBalance()))},dependencies:[I,se],styles:[".resource-header[_ngcontent-%COMP%]{display:flex;gap:16px;background:var(--bg-card);border:2px solid var(--border-primary);border-radius:30px;padding:8px 20px}.resource[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:4px 12px;border-radius:20px;background:var(--card-overlay)}.icon[_ngcontent-%COMP%]{font-size:1.1rem}.amount[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-muted);text-transform:uppercase}.resource.gold[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:gold}.resource.gems[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#5ac4c4}.resource.souls[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#a35ac4}"]})}return a})();var Jt=(a,m)=>m.type,Je=(a,m)=>m.id;function Xt(a,m){if(a&1&&(i(0,"div",23)(1,"div",24),o(2),r(),i(3,"div",25)(4,"span",26),o(5),r(),i(6,"span",27),o(7),L(8,"number"),r(),i(9,"div",28),B(10,"div",29),r(),i(11,"span",30),o(12),L(13,"number"),r()()()),a&2){let e=m.$implicit,n=c();G(e.type),l(2),p(e.icon),l(3),p(e.label),l(2),p(j(8,8,n.getBalance(e.type))),l(3),W("width",n.getPercentage(e.type),"%"),l(2),f("/ ",j(13,10,n.getCap(e.type))," cap")}}function Zt(a,m){if(a&1&&(i(0,"div",31)(1,"div",32)(2,"span",33),o(3),r(),i(4,"span",34),o(5),r()(),i(6,"span",35),o(7),L(8,"number"),r()()),a&2){let e=m.$implicit,n=c();G(e.type),l(3),p(e.description),l(2),p(n.getTimeAgo(e.timestamp)),l(),D("positive",e.amount>0)("negative",e.amount<0),l(),le(" ",e.amount>0?"+":"","",j(8,11,e.amount)," ",n.getCurrencyIcon(e.currency)," ")}}function en(a,m){if(a&1){let e=y();i(0,"ui-button",44),u("clicked",function(){g(e);let t=c().$implicit,s=c();return _(s.cancelTrade(t.id))}),o(1,"Cancel"),r()}}function tn(a,m){if(a&1){let e=y();i(0,"ui-button",45),u("clicked",function(){g(e);let t=c().$implicit,s=c();return _(s.acceptTrade(t.id))}),o(1,"Accept"),r()}if(a&2){let e=c().$implicit,n=c();V("disabled",!n.canAffordTrade(e))}}function nn(a,m){if(a&1&&(i(0,"div",22)(1,"div",36)(2,"span",37),o(3),r(),i(4,"div",38)(5,"span",39),o(6),r(),i(7,"span",40),o(8,"\u2192"),r(),i(9,"span",41),o(10),r()()(),b(11,en,2,0,"ui-button",42)(12,tn,2,1,"ui-button",43),r()),a&2){let e=m.$implicit,n=c();l(3),p(e.sellerName),l(3),q(" ",n.getCurrencyIcon(e.offerCurrency)," ",e.offerAmount," "),l(4),q(" ",n.getCurrencyIcon(e.askingCurrency)," ",e.askingAmount," "),l(),x(e.sellerId==="user-1"?11:12)}}var Xe=(()=>{class a{economyService=S(de);currencies=[C({type:"gold"},ue.gold),C({type:"gems"},ue.gems),C({type:"souls"},ue.souls)];newTrade={offerCurrency:"gold",offerAmount:100,askingCurrency:"gems",askingAmount:5};getBalance(e){return this.economyService.currentTreasury()[e].amount}getCap(e){return this.economyService.currentTreasury()[e].cap}getPercentage(e){let n=this.economyService.currentTreasury()[e];return n.amount/n.cap*100}getCurrencyIcon(e){return e&&ue[e]?.icon||""}getTimeAgo(e){let n=Date.now()-new Date(e).getTime(),t=Math.floor(n/6e4);if(t<1)return"Just now";if(t<60)return`${t}m ago`;let s=Math.floor(t/60);return s<24?`${s}h ago`:`${Math.floor(s/24)}d ago`}createTrade(){this.newTrade.offerAmount>0&&this.newTrade.askingAmount>0&&this.economyService.createTradeOffer(this.newTrade)}acceptTrade(e){this.economyService.acceptTrade(e)}cancelTrade(e){this.economyService.cancelTrade(e)}canAffordTrade(e){return this.economyService.canAfford(e.askingCurrency,e.askingAmount)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-treasury-dashboard"]],standalone:!0,features:[E],decls:55,vars:10,consts:[[1,"treasury-dashboard"],[1,"dashboard-header"],[1,"summary"],[1,"earned"],[1,"spent"],[1,"currency-cards"],[1,"currency-card",3,"class"],[1,"sections-grid"],[1,"section","transactions"],[1,"transaction-list"],[1,"transaction-item",3,"class"],[1,"section","trading"],[1,"create-trade"],[1,"trade-form"],[1,"form-row"],["type","number","min","1",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","gold"],["value","gems"],["value","souls"],["variant","primary","size","sm",3,"clicked"],[1,"trade-list"],[1,"trade-item"],[1,"currency-card"],[1,"currency-icon"],[1,"currency-info"],[1,"currency-name"],[1,"currency-amount"],[1,"progress-bar"],[1,"progress-fill"],[1,"currency-cap"],[1,"transaction-item"],[1,"tx-info"],[1,"tx-desc"],[1,"tx-time"],[1,"tx-amount"],[1,"trade-offer"],[1,"seller"],[1,"trade-details"],[1,"offering"],[1,"arrow"],[1,"asking"],["variant","outline","size","sm"],["variant","primary","size","sm",3,"disabled"],["variant","outline","size","sm",3,"clicked"],["variant","primary","size","sm",3,"clicked","disabled"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),o(3,"\u{1F3E6} Treasury"),r(),i(4,"div",2)(5,"span",3),o(6),L(7,"number"),r(),i(8,"span",4),o(9),L(10,"number"),r()()(),i(11,"div",5),w(12,Xt,14,12,"div",6,Jt),r(),i(14,"div",7)(15,"div",8)(16,"h3"),o(17,"\u{1F4DC} Transaction History"),r(),i(18,"div",9),w(19,Zt,9,13,"div",10,Je),r()(),i(21,"div",11)(22,"h3"),o(23,"\u{1F504} Trading Marketplace"),r(),i(24,"div",12)(25,"h4"),o(26,"Create Trade Offer"),r(),i(27,"div",13)(28,"div",14)(29,"label"),o(30,"Offer"),r(),i(31,"input",15),A("ngModelChange",function(d){return F(t.newTrade.offerAmount,d)||(t.newTrade.offerAmount=d),d}),r(),i(32,"select",16),A("ngModelChange",function(d){return F(t.newTrade.offerCurrency,d)||(t.newTrade.offerCurrency=d),d}),i(33,"option",17),o(34,"\u{1F4B0} Gold"),r(),i(35,"option",18),o(36,"\u{1F48E} Gems"),r(),i(37,"option",19),o(38,"\u{1F47B} Souls"),r()()(),i(39,"div",14)(40,"label"),o(41,"For"),r(),i(42,"input",15),A("ngModelChange",function(d){return F(t.newTrade.askingAmount,d)||(t.newTrade.askingAmount=d),d}),r(),i(43,"select",16),A("ngModelChange",function(d){return F(t.newTrade.askingCurrency,d)||(t.newTrade.askingCurrency=d),d}),i(44,"option",17),o(45,"\u{1F4B0} Gold"),r(),i(46,"option",18),o(47,"\u{1F48E} Gems"),r(),i(48,"option",19),o(49,"\u{1F47B} Souls"),r()()(),i(50,"ui-button",20),u("clicked",function(){return t.createTrade()}),o(51,"Post Trade"),r()()(),i(52,"div",21),w(53,nn,13,6,"div",22,Je),r()()()()),n&2&&(l(6),f("\u{1F4C8} Total Earned: ",j(7,6,t.economyService.currentTreasury().totalEarned),""),l(3),f("\u{1F4C9} Total Spent: ",j(10,8,t.economyService.currentTreasury().totalSpent),""),l(3),P(t.currencies),l(7),P(t.economyService.recentTransactions()),l(12),R("ngModel",t.newTrade.offerAmount),l(),R("ngModel",t.newTrade.offerCurrency),l(10),R("ngModel",t.newTrade.askingAmount),l(),R("ngModel",t.newTrade.askingCurrency),l(10),P(t.economyService.openTrades()))},dependencies:[I,se,Q,re,ae,te,fe,xe,ne,Ce,ie,H],styles:[".treasury-dashboard[_ngcontent-%COMP%]{padding:20px 0}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.dashboard-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0}.summary[_ngcontent-%COMP%]{display:flex;gap:20px}.earned[_ngcontent-%COMP%]{color:#5ac47a}.spent[_ngcontent-%COMP%]{color:#c45a5a}.currency-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}.currency-card[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:20px;display:flex;gap:16px;align-items:center}.currency-card.gold[_ngcontent-%COMP%]{border-color:gold}.currency-card.gems[_ngcontent-%COMP%]{border-color:#5ac4c4}.currency-card.souls[_ngcontent-%COMP%]{border-color:#a35ac4}.currency-icon[_ngcontent-%COMP%]{font-size:2.5rem}.currency-info[_ngcontent-%COMP%]{flex:1}.currency-name[_ngcontent-%COMP%]{display:block;color:var(--text-secondary);font-size:.85rem;text-transform:uppercase}.currency-amount[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:var(--text-white)}.progress-bar[_ngcontent-%COMP%]{height:4px;background:var(--border-secondary);border-radius:2px;margin:8px 0 4px}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:2px;transition:width .3s}.currency-card.gold[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:gold}.currency-card.gems[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:#5ac4c4}.currency-card.souls[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:#a35ac4}.currency-cap[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted)}.sections-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}@media (max-width: 900px){.sections-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.section[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:20px}.section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 16px;font-size:1rem}.transaction-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid var(--border-secondary)}.tx-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.tx-desc[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9rem}.tx-time[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75rem}.tx-amount[_ngcontent-%COMP%]{font-weight:700}.tx-amount.positive[_ngcontent-%COMP%]{color:#5ac47a}.tx-amount.negative[_ngcontent-%COMP%]{color:#c45a5a}.create-trade[_ngcontent-%COMP%]{background:var(--card-overlay);padding:16px;border-radius:8px;margin-bottom:16px}.create-trade[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px;font-size:.9rem}.trade-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.form-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:40px;color:var(--text-secondary);font-size:.85rem}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;padding:8px;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:4px}.form-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;padding:8px;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:4px}.trade-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.trade-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:var(--card-overlay);padding:12px;border-radius:8px}.seller[_ngcontent-%COMP%]{display:block;color:var(--text-secondary);font-size:.8rem;margin-bottom:4px}.trade-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.offering[_ngcontent-%COMP%]{color:#5ac47a;font-weight:700}.arrow[_ngcontent-%COMP%]{color:var(--text-muted)}.asking[_ngcontent-%COMP%]{color:#c45a5a;font-weight:700}"]})}return a})();var Se=(()=>{class a{currentPlayer=v({id:"user-1",name:"Commander",avatar:"\u{1F451}",level:25,status:"online",squadPower:1500,missionsCompleted:42,gold:5e3,allianceId:null,joinedAt:new Date,lastSeen:new Date});players=v(this.generatePlayers());friends=v([]);alliances=v(this.generateAlliances());messages=v(this.generateMessages());channels=v([{id:"global",name:"\u{1F30D} Global Chat",type:"global",unreadCount:0},{id:"alliance",name:"\u2694\uFE0F Alliance Chat",type:"alliance",unreadCount:0}]);currentUser=this.currentPlayer.asReadonly();allPlayers=this.players.asReadonly();allFriends=this.friends.asReadonly();allAlliances=this.alliances.asReadonly();allMessages=this.messages.asReadonly();allChannels=this.channels.asReadonly();leaderboard=T(()=>[...this.players(),this.currentPlayer()].sort((e,n)=>n.squadPower-e.squadPower).slice(0,20));onlinePlayers=T(()=>this.players().filter(e=>e.status==="online"||e.status==="in-mission"));friendsList=T(()=>{let e=this.friends().filter(n=>n.status==="accepted").map(n=>n.playerId);return this.players().filter(n=>e.includes(n.id))});pendingRequests=T(()=>this.friends().filter(e=>e.status==="pending"));myAlliance=T(()=>{let e=this.currentPlayer().allianceId;return e?this.alliances().find(n=>n.id===e):null});searchPlayers(e){if(!e.trim())return[];let n=e.toLowerCase();return this.players().filter(t=>t.name.toLowerCase().includes(n)||t.id.includes(n))}getPlayerById(e){return e==="user-1"?this.currentPlayer():this.players().find(n=>n.id===e)}sendFriendRequest(e){if(this.friends().some(t=>t.playerId===e))return;let n={id:crypto.randomUUID(),playerId:e,status:"pending",addedAt:new Date};this.friends.update(t=>[...t,n]),setTimeout(()=>this.acceptFriendRequest(n.id),2e3)}acceptFriendRequest(e){this.friends.update(n=>n.map(t=>t.id===e?h(C({},t),{status:"accepted"}):t))}removeFriend(e){this.friends.update(n=>n.filter(t=>t.playerId!==e))}createAlliance(e,n,t){if(this.currentPlayer().allianceId)return!1;let s={id:crypto.randomUUID(),name:e,tag:n,description:t,leaderId:"user-1",memberIds:["user-1"],maxMembers:20,level:1,totalPower:this.currentPlayer().squadPower,createdAt:new Date,isRecruiting:!0};return this.alliances.update(d=>[...d,s]),this.currentPlayer.update(d=>h(C({},d),{allianceId:s.id})),!0}joinAlliance(e){if(this.currentPlayer().allianceId)return!1;let n=this.alliances().find(t=>t.id===e);return!n||!n.isRecruiting||n.memberIds.length>=n.maxMembers?!1:(this.alliances.update(t=>t.map(s=>s.id===e?h(C({},s),{memberIds:[...s.memberIds,"user-1"],totalPower:s.totalPower+this.currentPlayer().squadPower}):s)),this.currentPlayer.update(t=>h(C({},t),{allianceId:e})),!0)}leaveAlliance(){let e=this.currentPlayer().allianceId;e&&(this.alliances.update(n=>n.map(t=>t.id===e?h(C({},t),{memberIds:t.memberIds.filter(s=>s!=="user-1"),totalPower:t.totalPower-this.currentPlayer().squadPower}):t).filter(t=>t.memberIds.length>0)),this.currentPlayer.update(n=>h(C({},n),{allianceId:null})))}sendMessage(e,n,t){let s={id:crypto.randomUUID(),senderId:"user-1",senderName:this.currentPlayer().name,senderAvatar:this.currentPlayer().avatar,content:e,channel:n,recipientId:t,timestamp:new Date};this.messages.update(d=>[...d,s])}getChannelMessages(e,n){return this.messages().filter(t=>t.channel!==e?!1:e==="private"?t.senderId==="user-1"&&t.recipientId===n||t.senderId===n&&t.recipientId==="user-1":!0)}generatePlayers(){let e=["WarChief Grom","Shadow Master","Necro Lord","Blood Queen","Iron Fist","Dark Blade","Storm Caller","Bone Crusher","Fire Mage","Ice Queen","Thunder God","Death Knight","Soul Reaper","Dragon Slayer","Demon Hunter"],n=["\u{1F479}","\u{1F9D9}","\u{1F480}","\u{1F478}","\u{1F4AA}","\u{1F5E1}\uFE0F","\u26A1","\u{1F480}","\u{1F525}","\u2744\uFE0F","\u26C8\uFE0F","\u2694\uFE0F","\u{1F47B}","\u{1F409}","\u{1F608}"],t=["online","offline","in-mission","away"];return e.map((s,d)=>({id:`player-${d+1}`,name:s,avatar:n[d],level:Math.floor(Math.random()*50)+10,status:t[Math.floor(Math.random()*t.length)],squadPower:Math.floor(Math.random()*3e3)+500,missionsCompleted:Math.floor(Math.random()*100),gold:Math.floor(Math.random()*5e4),allianceId:d<5?"alliance-1":d<8?"alliance-2":null,joinedAt:new Date(Date.now()-Math.random()*30*24*60*60*1e3),lastSeen:new Date(Date.now()-Math.random()*60*60*1e3)}))}generateAlliances(){return[{id:"alliance-1",name:"Dark Legion",tag:"DRK",description:"Elite raiders seeking glory",leaderId:"player-1",memberIds:["player-1","player-2","player-3","player-4","player-5"],maxMembers:20,level:5,totalPower:8500,createdAt:new Date,isRecruiting:!0},{id:"alliance-2",name:"Shadow Clan",tag:"SHD",description:"Masters of stealth and assassination",leaderId:"player-6",memberIds:["player-6","player-7","player-8"],maxMembers:15,level:3,totalPower:4200,createdAt:new Date,isRecruiting:!0},{id:"alliance-3",name:"Blood Pact",tag:"BLD",description:"United by blood, bound by honor",leaderId:"player-9",memberIds:["player-9"],maxMembers:10,level:1,totalPower:1800,createdAt:new Date,isRecruiting:!1}]}generateMessages(){let e=[],n=this.generatePlayers().slice(0,5),t=["Anyone up for a raid?","Just completed Dragon's Lair!","Looking for healers","GG everyone!","Need help with the demon gate","Trading gems for gold"];return n.forEach((s,d)=>{e.push({id:`msg-${d}`,senderId:s.id,senderName:s.name,senderAvatar:s.avatar,content:t[d%t.length],channel:"global",timestamp:new Date(Date.now()-(d+1)*3e5)})}),e}static \u0275fac=function(n){return new(n||a)};static \u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var ge=(a,m)=>m.id;function rn(a,m){if(a&1){let e=y();i(0,"div",10),u("click",function(){let t=g(e).$implicit,s=c(2);return _(s.viewPlayer(t))}),i(1,"span",11),o(2),r(),i(3,"span",12),o(4),r(),i(5,"div",13)(6,"span",14),o(7),r(),i(8,"span",15),o(9),r()(),i(10,"div",16)(11,"span",17),o(12),L(13,"number"),r(),i(14,"span",18),o(15,"Power"),r()(),B(16,"span",19),r()}if(a&2){let e=m.$implicit,n=m.$index,t=c(2);D("current",e.id==="user-1"),l(2),p(t.getRankBadge(n)),l(2),p(e.avatar),l(3),p(e.name),l(2),f("Lv.",e.level,""),l(3),p(j(13,9,e.squadPower)),l(4),G(e.status)}}function an(a,m){if(a&1&&(i(0,"div",3)(1,"h3"),o(2,"\u{1F3C6} Top Players"),r(),i(3,"div",8),w(4,rn,17,11,"div",9,ge),r()()),a&2){let e=c();l(4),P(e.socialService.leaderboard())}}function on(a,m){if(a&1){let e=y();i(0,"div",26)(1,"span",12),o(2),r(),i(3,"span",14),o(4),r(),i(5,"ui-button",27),u("clicked",function(){let t=g(e).$implicit,s=c(3);return _(s.addFriend(t.id))}),o(6,"Add"),r()()}if(a&2){let e=m.$implicit;l(2),p(e.avatar),l(2),p(e.name)}}function ln(a,m){if(a&1&&(i(0,"div",22)(1,"h4"),o(2,"Search Results"),r(),w(3,on,7,2,"div",26,ge),r()),a&2){let e=c(2);l(3),P(e.searchResults())}}function sn(a,m){if(a&1){let e=y();i(0,"div",28),u("click",function(){let t=g(e).$implicit,s=c(2);return _(s.viewPlayer(t))}),i(1,"span",12),o(2),r(),i(3,"div",29)(4,"span",14),o(5),r(),i(6,"span",30),o(7),r()(),i(8,"ui-button",31),u("clicked",function(t){let s=g(e).$implicit;return c(2).openChat(s),_(t.stopPropagation())}),o(9,"\u{1F4AC}"),r()()}if(a&2){let e=m.$implicit;l(2),p(e.avatar),l(3),p(e.name),l(2),p(e.status)}}function cn(a,m){a&1&&(i(0,"p",25),o(1,"No friends yet. Search for players above!"),r())}function dn(a,m){if(a&1){let e=y();i(0,"div",4)(1,"div",20)(2,"input",21),A("ngModelChange",function(t){g(e);let s=c();return F(s.searchQuery,t)||(s.searchQuery=t),_(t)}),u("input",function(){g(e);let t=c();return _(t.onSearch())}),r()(),b(3,ln,5,0,"div",22),i(4,"h3"),o(5),r(),i(6,"div",23),w(7,sn,10,3,"div",24,ge),b(9,cn,2,0,"p",25),r()()}if(a&2){let e=c();l(2),R("ngModel",e.searchQuery),l(),x(e.searchResults().length>0?3:-1),l(2),f("\u{1F465} Friends (",e.socialService.friendsList().length,")"),l(2),P(e.socialService.friendsList()),l(2),x(e.socialService.friendsList().length===0?9:-1)}}function mn(a,m){if(a&1){let e=y();i(0,"div",32)(1,"h3"),o(2,"\u2694\uFE0F My Alliance"),r(),i(3,"div",35)(4,"div",36)(5,"span",37),o(6),r(),i(7,"span",14),o(8),r(),i(9,"span",15),o(10),r()(),i(11,"p",38),o(12),r(),i(13,"div",39)(14,"span"),o(15),r(),i(16,"span"),o(17),L(18,"number"),r()(),i(19,"ui-button",40),u("clicked",function(){g(e);let t=c(2);return _(t.leaveAlliance())}),o(20,"Leave Alliance"),r()()()}if(a&2){let e=c(2);l(6),f("[",e.socialService.myAlliance().tag,"]"),l(2),p(e.socialService.myAlliance().name),l(2),f("Lv.",e.socialService.myAlliance().level,""),l(2),p(e.socialService.myAlliance().description),l(3),q("\u{1F465} ",e.socialService.myAlliance().memberIds.length,"/",e.socialService.myAlliance().maxMembers,""),l(2),f("\u26A1 ",j(18,7,e.socialService.myAlliance().totalPower)," Power")}}function pn(a,m){if(a&1){let e=y();i(0,"div",33)(1,"h4"),o(2,"Create Alliance"),r(),i(3,"div",41)(4,"input",42),A("ngModelChange",function(t){g(e);let s=c(2);return F(s.newAlliance.name,t)||(s.newAlliance.name=t),_(t)}),r(),i(5,"input",43),A("ngModelChange",function(t){g(e);let s=c(2);return F(s.newAlliance.tag,t)||(s.newAlliance.tag=t),_(t)}),r()(),i(6,"textarea",44),A("ngModelChange",function(t){g(e);let s=c(2);return F(s.newAlliance.description,t)||(s.newAlliance.description=t),_(t)}),r(),i(7,"ui-button",45),u("clicked",function(){g(e);let t=c(2);return _(t.createAlliance())}),o(8,"Create Alliance"),r()()}if(a&2){let e=c(2);l(4),R("ngModel",e.newAlliance.name),l(),R("ngModel",e.newAlliance.tag),l(),R("ngModel",e.newAlliance.description)}}function un(a,m){if(a&1){let e=y();i(0,"ui-button",27),u("clicked",function(){g(e);let t=c(2).$implicit,s=c(2);return _(s.joinAlliance(t.id))}),o(1,"Join"),r()}}function gn(a,m){if(a&1&&(i(0,"div",46)(1,"div",36)(2,"span",37),o(3),r(),i(4,"span",14),o(5),r(),i(6,"span",15),o(7),r()(),i(8,"p",38),o(9),r(),i(10,"div",39)(11,"span"),o(12),r(),i(13,"span"),o(14),L(15,"number"),r()(),b(16,un,2,0,"ui-button",47),r()),a&2){let e=c().$implicit,n=c(2);l(3),f("[",e.tag,"]"),l(2),p(e.name),l(2),f("Lv.",e.level,""),l(2),p(e.description),l(3),q("\u{1F465} ",e.memberIds.length,"/",e.maxMembers,""),l(2),f("\u26A1 ",j(15,8,e.totalPower),""),l(2),x(n.socialService.myAlliance()?-1:16)}}function _n(a,m){if(a&1&&b(0,gn,17,10,"div",46),a&2){let e,n=m.$implicit,t=c(2);x(n.isRecruiting&&n.id!==((e=t.socialService.myAlliance())==null?null:e.id)?0:-1)}}function fn(a,m){if(a&1&&(i(0,"div",5),b(1,mn,21,9,"div",32)(2,pn,9,3,"div",33),i(3,"h3"),o(4,"\u{1F3F0} Available Alliances"),r(),i(5,"div",34),w(6,_n,1,1,null,null,ge),r()()),a&2){let e=c();l(),x(e.socialService.myAlliance()?1:2),l(5),P(e.socialService.allAlliances())}}function xn(a,m){if(a&1&&(i(0,"div",55)(1,"span",56),o(2),r(),i(3,"div",57)(4,"span",58),o(5),r(),i(6,"span",59),o(7),r(),i(8,"span",60),o(9),r()()()),a&2){let e=m.$implicit,n=c(2);D("own",e.senderId==="user-1"),l(2),p(e.senderAvatar),l(3),p(e.senderName),l(2),p(e.content),l(2),p(n.getTimeAgo(e.timestamp))}}function Cn(a,m){if(a&1){let e=y();i(0,"div",6)(1,"div",48)(2,"button",49),u("click",function(){g(e);let t=c();return _(t.chatChannel.set("global"))}),o(3,"\u{1F30D} Global"),r(),i(4,"button",50),u("click",function(){g(e);let t=c();return _(t.chatChannel.set("alliance"))}),o(5,"\u2694\uFE0F Alliance"),r()(),i(6,"div",51),w(7,xn,10,6,"div",52,ge),r(),i(9,"div",53)(10,"input",54),A("ngModelChange",function(t){g(e);let s=c();return F(s.messageText,t)||(s.messageText=t),_(t)}),u("keyup.enter",function(){g(e);let t=c();return _(t.sendMessage())}),r(),i(11,"ui-button",45),u("clicked",function(){g(e);let t=c();return _(t.sendMessage())}),o(12,"Send"),r()()()}if(a&2){let e=c();l(2),D("active",e.chatChannel()==="global"),l(2),D("active",e.chatChannel()==="alliance"),V("disabled",!e.socialService.myAlliance()),l(3),P(e.getMessages()),l(3),R("ngModel",e.messageText)}}function vn(a,m){if(a&1){let e=y();i(0,"div",68)(1,"ui-button",45),u("clicked",function(){g(e);let t=c(2);return _(t.addFriend(t.selectedPlayer().id))}),o(2,"Add Friend"),r(),i(3,"ui-button",40),u("clicked",function(){g(e);let t=c(2);return _(t.openChat(t.selectedPlayer()))}),o(4,"Message"),r()()}}function yn(a,m){if(a&1){let e=y();i(0,"div",61),u("click",function(){g(e);let t=c();return _(t.selectedPlayer.set(null))}),i(1,"div",62),u("click",function(t){return g(e),_(t.stopPropagation())}),i(2,"button",63),u("click",function(){g(e);let t=c();return _(t.selectedPlayer.set(null))}),o(3,"\u2715"),r(),i(4,"div",64)(5,"span",12),o(6),r(),i(7,"div",65)(8,"h3"),o(9),r(),i(10,"span",15),o(11),r(),i(12,"span",30),o(13),r()()(),i(14,"div",66)(15,"div",67)(16,"span",18),o(17,"Squad Power"),r(),i(18,"span",17),o(19),L(20,"number"),r()(),i(21,"div",67)(22,"span",18),o(23,"Missions"),r(),i(24,"span",17),o(25),r()(),i(26,"div",67)(27,"span",18),o(28,"Gold"),r(),i(29,"span",17),o(30),L(31,"number"),r()()(),b(32,vn,5,0,"div",68),r()()}if(a&2){let e=c();l(6),p(e.selectedPlayer().avatar),l(3),p(e.selectedPlayer().name),l(2),f("Level ",e.selectedPlayer().level,""),l(),G(e.selectedPlayer().status),l(),p(e.selectedPlayer().status),l(6),p(j(20,10,e.selectedPlayer().squadPower)),l(6),p(e.selectedPlayer().missionsCompleted),l(5),p(j(31,12,e.selectedPlayer().gold)),l(2),x(e.selectedPlayer().id!=="user-1"?32:-1)}}var Ze=(()=>{class a{socialService=S(Se);activeTab=v("leaderboard");chatChannel=v("global");selectedPlayer=v(null);searchQuery="";searchResults=v([]);messageText="";newAlliance={name:"",tag:"",description:""};getRankBadge(e){return["\u{1F947}","\u{1F948}","\u{1F949}"][e]||`${e+1}`}onSearch(){this.searchResults.set(this.socialService.searchPlayers(this.searchQuery))}viewPlayer(e){this.selectedPlayer.set(e)}addFriend(e){this.socialService.sendFriendRequest(e)}openChat(e){this.activeTab.set("chat")}createAlliance(){this.newAlliance.name&&this.newAlliance.tag&&(this.socialService.createAlliance(this.newAlliance.name,this.newAlliance.tag,this.newAlliance.description),this.newAlliance={name:"",tag:"",description:""})}joinAlliance(e){this.socialService.joinAlliance(e)}leaveAlliance(){this.socialService.leaveAlliance()}getMessages(){return this.socialService.getChannelMessages(this.chatChannel())}sendMessage(){this.messageText.trim()&&(this.socialService.sendMessage(this.messageText,this.chatChannel()),this.messageText="")}getTimeAgo(e){let n=Date.now()-new Date(e).getTime(),t=Math.floor(n/6e4);return t<1?"now":t<60?`${t}m`:`${Math.floor(t/60)}h`}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-social-hub"]],standalone:!0,features:[E],decls:15,vars:13,consts:[[1,"social-hub"],[1,"hub-tabs"],[1,"tab",3,"click"],[1,"leaderboard-section"],[1,"friends-section"],[1,"alliances-section"],[1,"chat-section"],[1,"modal-overlay"],[1,"leaderboard-list"],[1,"leaderboard-item",3,"current"],[1,"leaderboard-item",3,"click"],[1,"rank"],[1,"avatar"],[1,"player-info"],[1,"name"],[1,"level"],[1,"power"],[1,"value"],[1,"label"],[1,"status-dot"],[1,"search-bar"],["type","text","placeholder","Search players...",3,"ngModelChange","input","ngModel"],[1,"search-results"],[1,"friends-list"],[1,"friend-item"],[1,"empty"],[1,"player-row"],["variant","primary","size","sm",3,"clicked"],[1,"friend-item",3,"click"],[1,"friend-info"],[1,"status"],["variant","outline","size","sm",3,"clicked"],[1,"my-alliance"],[1,"create-alliance"],[1,"alliances-list"],[1,"alliance-card","current"],[1,"alliance-header"],[1,"tag"],[1,"desc"],[1,"alliance-stats"],["variant","outline",3,"clicked"],[1,"form-row"],["type","text","placeholder","Alliance Name",3,"ngModelChange","ngModel"],["type","text","placeholder","TAG","maxlength","4",3,"ngModelChange","ngModel"],["placeholder","Description...","rows","2",3,"ngModelChange","ngModel"],["variant","primary",3,"clicked"],[1,"alliance-card"],["variant","primary","size","sm"],[1,"chat-channels"],[1,"channel",3,"click"],[1,"channel",3,"click","disabled"],[1,"chat-messages"],[1,"message",3,"own"],[1,"chat-input"],["type","text","placeholder","Type a message...",3,"ngModelChange","keyup.enter","ngModel"],[1,"message"],[1,"msg-avatar"],[1,"msg-content"],[1,"msg-sender"],[1,"msg-text"],[1,"msg-time"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"profile-header"],[1,"profile-info"],[1,"profile-stats"],[1,"stat"],[1,"profile-actions"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return t.activeTab.set("leaderboard")}),o(3,"\u{1F3C6} Leaderboard"),r(),i(4,"button",2),u("click",function(){return t.activeTab.set("friends")}),o(5,"\u{1F465} Friends"),r(),i(6,"button",2),u("click",function(){return t.activeTab.set("alliances")}),o(7,"\u2694\uFE0F Alliances"),r(),i(8,"button",2),u("click",function(){return t.activeTab.set("chat")}),o(9,"\u{1F4AC} Chat"),r()(),b(10,an,6,0,"div",3)(11,dn,10,4,"div",4)(12,fn,8,1,"div",5)(13,Cn,13,6,"div",6)(14,yn,33,14,"div",7),r()),n&2&&(l(2),D("active",t.activeTab()==="leaderboard"),l(2),D("active",t.activeTab()==="friends"),l(2),D("active",t.activeTab()==="alliances"),l(2),D("active",t.activeTab()==="chat"),l(2),x(t.activeTab()==="leaderboard"?10:-1),l(),x(t.activeTab()==="friends"?11:-1),l(),x(t.activeTab()==="alliances"?12:-1),l(),x(t.activeTab()==="chat"?13:-1),l(),x(t.selectedPlayer()?14:-1))},dependencies:[I,se,Q,te,ne,Fe,ie,H],styles:[".social-hub[_ngcontent-%COMP%]{padding:20px 0}.hub-tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px}.tab[_ngcontent-%COMP%]{flex:1;padding:12px;background:var(--bg-card);border:2px solid var(--border-primary);border-radius:8px;color:var(--text-secondary);font-weight:600;cursor:pointer;transition:all .2s}.tab[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.tab.active[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000;border-color:var(--accent-gold)}h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 16px}h4[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 12px;font-size:.95rem}.leaderboard-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.leaderboard-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-card);border:2px solid var(--border-primary);border-radius:8px;cursor:pointer}.leaderboard-item[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.leaderboard-item.current[_ngcontent-%COMP%]{border-color:var(--accent-gold);background:#ffd7001a}.rank[_ngcontent-%COMP%]{font-size:1.25rem;width:30px;text-align:center}.avatar[_ngcontent-%COMP%]{font-size:1.5rem}.player-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.name[_ngcontent-%COMP%]{color:var(--text-white);font-weight:700}.level[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.power[_ngcontent-%COMP%]{text-align:right}.power[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;color:var(--accent-gold);font-weight:700}.power[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-muted)}.status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.status-dot.online[_ngcontent-%COMP%]{background:#5ac47a}.status-dot.offline[_ngcontent-%COMP%]{background:#5a5a5a}.status-dot.in-mission[_ngcontent-%COMP%]{background:#c4a35a}.status-dot.away[_ngcontent-%COMP%]{background:#c45a5a}.search-bar[_ngcontent-%COMP%]{margin-bottom:16px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:8px}.search-results[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border-primary);border-radius:8px;padding:12px;margin-bottom:16px}.player-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 0}.player-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1;color:var(--text-primary)}.friends-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.friend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-card);border-radius:8px;cursor:pointer}.friend-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.friend-info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-muted);text-transform:capitalize}.empty[_ngcontent-%COMP%]{color:var(--text-muted);text-align:center;padding:20px}.create-alliance[_ngcontent-%COMP%]{background:var(--bg-card);padding:16px;border-radius:8px;margin-bottom:24px}.form-row[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child{flex:1}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-child{width:80px;text-transform:uppercase}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px;width:100%;margin-bottom:8px}.alliances-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}.alliance-card[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:16px}.alliance-card.current[_ngcontent-%COMP%]{border-color:var(--accent-gold)}.alliance-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.tag[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.alliance-header[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--text-white);font-weight:700;flex:1}.alliance-header[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem}.desc[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem;margin:0 0 12px}.alliance-stats[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:12px;color:var(--text-muted);font-size:.85rem}.chat-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:500px;background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;overflow:hidden}.chat-channels[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid var(--border-secondary)}.channel[_ngcontent-%COMP%]{flex:1;padding:12px;background:transparent;border:none;color:var(--text-secondary);cursor:pointer}.channel[_ngcontent-%COMP%]:hover{background:var(--card-overlay)}.channel.active[_ngcontent-%COMP%]{background:var(--card-overlay);color:var(--accent-gold);border-bottom:2px solid var(--accent-gold)}.channel[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px}.message[_ngcontent-%COMP%]{display:flex;gap:10px}.message.own[_ngcontent-%COMP%]{flex-direction:row-reverse}.msg-avatar[_ngcontent-%COMP%]{font-size:1.5rem}.msg-content[_ngcontent-%COMP%]{max-width:70%;background:var(--card-overlay);padding:10px 14px;border-radius:12px}.message.own[_ngcontent-%COMP%]   .msg-content[_ngcontent-%COMP%]{background:#ffd70026}.msg-sender[_ngcontent-%COMP%]{display:block;color:var(--accent-gold);font-size:.8rem;font-weight:700;margin-bottom:4px}.msg-text[_ngcontent-%COMP%]{color:var(--text-primary);font-size:.9rem}.msg-time[_ngcontent-%COMP%]{display:block;color:var(--text-muted);font-size:.7rem;margin-top:4px}.chat-input[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px;border-top:1px solid var(--border-secondary)}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;margin:0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:16px;padding:24px;max-width:400px;width:90%;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}.profile-header[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:20px}.profile-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{font-size:3rem}.profile-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-white);margin:0 0 4px}.profile-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{color:var(--text-secondary);display:block}.profile-info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:4px;font-size:.75rem;text-transform:capitalize;margin-top:4px}.profile-info[_ngcontent-%COMP%]   .status.online[_ngcontent-%COMP%]{background:#5ac47a33;color:#5ac47a}.profile-info[_ngcontent-%COMP%]   .status.offline[_ngcontent-%COMP%]{background:#5a5a5a33;color:#888}.profile-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px}.stat[_ngcontent-%COMP%]{text-align:center;padding:12px;background:var(--card-overlay);border-radius:8px}.stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:var(--text-muted);font-size:.75rem;margin-bottom:4px}.stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700;font-size:1.1rem}.profile-actions[_ngcontent-%COMP%]{display:flex;gap:12px}"]})}return a})();function hn(a,m){if(a&1&&(i(0,"span",8),o(1),r()),a&2){let e=c();l(),p(e.missionService.inProgressMissions().length)}}function bn(a,m){if(a&1&&(i(0,"span",9),o(1),r()),a&2){let e=c();l(),p(e.socialService.onlinePlayers().length)}}function Mn(a,m){a&1&&(B(0,"app-stats-header"),i(1,"div",11),B(2,"app-filter-sidebar"),i(3,"div",12),B(4,"app-search-sort-bar")(5,"app-mercenary-grid"),r()())}function Sn(a,m){a&1&&(i(0,"div",10),B(1,"app-squad-panel"),r())}function wn(a,m){a&1&&B(0,"app-mission-board")}function Pn(a,m){a&1&&B(0,"app-treasury-dashboard")}function On(a,m){a&1&&B(0,"app-social-hub")}function kn(a,m){a&1&&B(0,"app-recruitment-board")}var ba=(()=>{class a{themeService=S(ve);missionService=S(Me);socialService=S(Se);activeTab=v("marketplace");static \u0275fac=function(n){return new(n||a)};static \u0275cmp=k({type:a,selectors:[["app-raid-squad-view"]],standalone:!0,features:[E],decls:35,vars:22,consts:[[1,"raid-squad-wrapper"],[1,"app-container"],[1,"header-top"],[1,"header-actions"],[1,"subtitle"],[1,"tagline"],[1,"tabs"],[1,"tab",3,"click"],[1,"badge"],[1,"badge","online"],[1,"squad-layout"],[1,"main-content"],[1,"content-area"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"header")(3,"div",2),B(4,"app-resource-header"),i(5,"div",3),B(6,"app-notification-bell")(7,"app-theme-toggle"),r()(),i(8,"h1"),o(9),r(),i(10,"p",4),o(11,"Gang Recruitment Portal"),r(),i(12,"p",5),o(13),r()(),i(14,"nav",6)(15,"button",7),u("click",function(){return t.activeTab.set("marketplace")}),o(16,"\u{1F3EA} Market"),r(),i(17,"button",7),u("click",function(){return t.activeTab.set("squad")}),o(18,"\u2694\uFE0F Squad"),r(),i(19,"button",7),u("click",function(){return t.activeTab.set("missions")}),o(20," \u{1F5FA}\uFE0F Missions "),b(21,hn,2,1,"span",8),r(),i(22,"button",7),u("click",function(){return t.activeTab.set("treasury")}),o(23,"\u{1F3E6} Treasury"),r(),i(24,"button",7),u("click",function(){return t.activeTab.set("social")}),o(25," \u{1F465} Social "),b(26,bn,2,1,"span",9),r(),i(27,"button",7),u("click",function(){return t.activeTab.set("recruitment")}),o(28,"\u{1F4CB} Recruit"),r()(),b(29,Mn,6,0)(30,Sn,2,0,"div",10)(31,wn,1,0,"app-mission-board")(32,Pn,1,0,"app-treasury-dashboard")(33,On,1,0,"app-social-hub")(34,kn,1,0,"app-recruitment-board"),r()()),n&2&&(l(9),f("",t.themeService.isDark()?"\u{1F311}":"\u{1F525}"," Raid Squad"),l(4),p(t.themeService.isDark()?"Strike from the shadows of the eclipse!":"Burn your enemies with fire and fury!"),l(2),D("active",t.activeTab()==="marketplace"),l(2),D("active",t.activeTab()==="squad"),l(2),D("active",t.activeTab()==="missions"),l(2),x(t.missionService.inProgressMissions().length>0?21:-1),l(),D("active",t.activeTab()==="treasury"),l(2),D("active",t.activeTab()==="social"),l(2),x(t.socialService.onlinePlayers().length>0?26:-1),l(),D("active",t.activeTab()==="recruitment"),l(2),x(t.activeTab()==="marketplace"?29:-1),l(),x(t.activeTab()==="squad"?30:-1),l(),x(t.activeTab()==="missions"?31:-1),l(),x(t.activeTab()==="treasury"?32:-1),l(),x(t.activeTab()==="social"?33:-1),l(),x(t.activeTab()==="recruitment"?34:-1))},dependencies:[Ve,Be,je,We,He,Ge,Ue,$e,Qe,Ke,Xe,Ze],styles:[".raid-squad-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 60px);background:linear-gradient(180deg,var(--bg-primary) 0%,var(--bg-secondary) 50%,var(--bg-primary) 100%)}.app-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:24px}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;padding:40px 20px;background:var(--header-gradient);border-radius:16px;border:1px solid var(--header-border);transition:all .4s}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:3rem;margin:0;text-shadow:0 0 30px rgba(255,215,0,.4);letter-spacing:2px}.subtitle[_ngcontent-%COMP%]{color:#9a6b4c;font-size:1.3rem;margin:8px 0 0;text-transform:uppercase;letter-spacing:4px}.tagline[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem;margin:16px 0 0}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;background:var(--bg-card);padding:8px;border-radius:12px;border:2px solid var(--border-primary)}.tab[_ngcontent-%COMP%]{flex:1;padding:14px 16px;background:transparent;border:none;border-radius:8px;color:var(--text-secondary);font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s;position:relative}.tab[_ngcontent-%COMP%]:hover{background:var(--card-overlay);color:var(--text-primary)}.tab.active[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000}.tab[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;background:#c45a5a;color:#fff;font-size:.7rem;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center}.tab[_ngcontent-%COMP%]   .badge.online[_ngcontent-%COMP%]{background:#5ac47a}.main-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr;gap:24px}.squad-layout[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}@media (max-width: 900px){.main-content[_ngcontent-%COMP%]{grid-template-columns:1fr}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.tabs[_ngcontent-%COMP%]{flex-direction:column}.header-top[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}"]})}return a})();export{ba as RaidSquadViewComponent};
