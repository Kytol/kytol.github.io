{
  "version": 3,
  "sources": ["projects/ui-lib/src/lib/search/search.component.ts", "projects/ui-lib/src/lib/search/search.component.html"],
  "sourcesContent": ["import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnInit,\r\n  OnDestroy,\r\n  ChangeDetectionStrategy,\r\n  HostListener\r\n} from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\nimport { DEFAULT_DEBOUNCE_MS } from '../shared/types';\r\n\r\n/**\r\n * UI Search Component\r\n * \r\n * A search field component with debounce functionality.\r\n * Emits valueChange events after the debounce period.\r\n */\r\n@Component({\r\n  selector: 'ui-search',\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SearchComponent implements OnInit, OnDestroy {\r\n  /** Placeholder text for the search input */\r\n  @Input() placeholder = 'Search...';\r\n\r\n  /** Current search value */\r\n  @Input() value = '';\r\n\r\n  /** Debounce time in milliseconds */\r\n  @Input() debounce = DEFAULT_DEBOUNCE_MS;\r\n\r\n  /** Whether the search input is disabled */\r\n  @Input() disabled = false;\r\n\r\n  /** Event emitted when value changes (after debounce) */\r\n  @Output() valueChange = new EventEmitter<string>();\r\n\r\n  /** Subject for debouncing input */\r\n  private searchSubject = new Subject<string>();\r\n  private subscription: Subscription | null = null;\r\n\r\n  ngOnInit(): void {\r\n    this.setupDebounce();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n\r\n\r\n  /** Set up debounced value emission */\r\n  private setupDebounce(): void {\r\n    this.subscription = this.searchSubject.pipe(\r\n      debounceTime(this.debounce),\r\n      distinctUntilChanged()\r\n    ).subscribe(value => {\r\n      this.valueChange.emit(value);\r\n    });\r\n  }\r\n\r\n  /** Get CSS classes for the search wrapper */\r\n  get wrapperClasses(): Record<string, boolean> {\r\n    return {\r\n      'ui-search': true,\r\n      'ui-search--disabled': this.disabled\r\n    };\r\n  }\r\n\r\n  /** Handle input value changes */\r\n  onInputChange(event: Event): void {\r\n    if (this.disabled) return;\r\n    \r\n    const target = event.target as HTMLInputElement;\r\n    this.value = target.value;\r\n    this.searchSubject.next(this.value);\r\n  }\r\n\r\n  /** Handle Escape key to clear the search */\r\n  onKeyDown(event: KeyboardEvent): void {\r\n    if (event.key === 'Escape' && !this.disabled) {\r\n      this.clearSearch();\r\n    }\r\n  }\r\n\r\n  /** Clear the search value */\r\n  clearSearch(): void {\r\n    this.value = '';\r\n    this.searchSubject.next('');\r\n    this.valueChange.emit('');\r\n  }\r\n}\r\n", "<div [ngClass]=\"wrapperClasses\">\r\n  <!-- Search icon -->\r\n  <span class=\"ui-search__icon\" aria-hidden=\"true\">\r\n    üîç\r\n  </span>\r\n\r\n  <!-- Search input -->\r\n  <input\r\n    type=\"text\"\r\n    class=\"ui-search__input\"\r\n    [value]=\"value\"\r\n    [placeholder]=\"placeholder\"\r\n    [disabled]=\"disabled\"\r\n    [attr.aria-label]=\"placeholder\"\r\n    (input)=\"onInputChange($event)\"\r\n    (keydown)=\"onKeyDown($event)\"\r\n  />\r\n\r\n  <!-- Clear button -->\r\n  <button\r\n    *ngIf=\"value && !disabled\"\r\n    type=\"button\"\r\n    class=\"ui-search__clear\"\r\n    aria-label=\"Clear search\"\r\n    (click)=\"clearSearch()\"\r\n  >\r\n    ‚úï\r\n  </button>\r\n</div>\r\n"],
  "mappings": "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",
  "names": []
}
