import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { DEFAULT_PAGE_SIZES } from '../shared/types';
import { SearchComponent } from '../search/search.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
/**
 * UI Table Component
 *
 * A dynamic table component with sorting, pagination, search, and column management.
 */
export class TableComponent {
    cdr;
    /** Column configuration */
    columns = [];
    /** Table data */
    data = [];
    /** Number of items per page */
    pageSize = 10;
    /** Whether search is enabled */
    searchable = false;
    /** Whether sorting is enabled */
    sortable = false;
    /** Whether column manager is enabled */
    columnManager = false;
    /** Whether to use server-side mode */
    serverMode = false;
    /** Sort change event */
    sortChange = new EventEmitter();
    /** Page change event */
    pageChange = new EventEmitter();
    /** Search change event */
    searchChange = new EventEmitter();
    /** Column visibility change event */
    columnVisibilityChange = new EventEmitter();
    /** Row click event */
    rowClick = new EventEmitter();
    /** Available page sizes */
    pageSizes = DEFAULT_PAGE_SIZES;
    /** Current page (1-indexed) */
    currentPage = 1;
    /** Current sort state */
    sortField = null;
    sortDirection = null;
    /** Search query */
    searchQuery = '';
    /** Column manager dropdown state */
    columnManagerOpen = false;
    constructor(cdr) {
        this.cdr = cdr;
    }
    ngOnChanges(changes) {
        if (changes['data'] || changes['pageSize']) {
            this.currentPage = 1;
        }
    }
    /** Get visible columns */
    get visibleColumns() {
        return this.columns.filter(col => col.visible !== false);
    }
    /** Get displayed data (with pagination, sorting, filtering if not server mode) */
    get displayedData() {
        if (this.serverMode) {
            return this.data;
        }
        let result = [...this.data];
        // Apply search filter
        if (this.searchQuery) {
            const query = this.searchQuery.toLowerCase();
            result = result.filter(row => this.visibleColumns.some(col => {
                const value = row[col.field];
                return value && String(value).toLowerCase().includes(query);
            }));
        }
        // Apply sorting
        if (this.sortField && this.sortDirection) {
            result.sort((a, b) => {
                const aVal = a[this.sortField];
                const bVal = b[this.sortField];
                const comparison = aVal < bVal ? -1 : aVal > bVal ? 1 : 0;
                return this.sortDirection === 'asc' ? comparison : -comparison;
            });
        }
        // Apply pagination
        const start = (this.currentPage - 1) * this.pageSize;
        return result.slice(start, start + this.pageSize);
    }
    /** Get total number of pages */
    get totalPages() {
        if (this.serverMode) {
            return Math.ceil(this.data.length / this.pageSize);
        }
        let filteredLength = this.data.length;
        if (this.searchQuery) {
            const query = this.searchQuery.toLowerCase();
            filteredLength = this.data.filter(row => this.visibleColumns.some(col => {
                const value = row[col.field];
                return value && String(value).toLowerCase().includes(query);
            })).length;
        }
        return Math.ceil(filteredLength / this.pageSize);
    }
    /** Handle column header click for sorting */
    onHeaderClick(column) {
        if (!this.sortable || column.sortable === false)
            return;
        if (this.sortField === column.field) {
            // Cycle: null -> asc -> desc -> null
            if (this.sortDirection === null) {
                this.sortDirection = 'asc';
            }
            else if (this.sortDirection === 'asc') {
                this.sortDirection = 'desc';
            }
            else {
                this.sortDirection = null;
                this.sortField = null;
            }
        }
        else {
            this.sortField = column.field;
            this.sortDirection = 'asc';
        }
        this.sortChange.emit({
            field: this.sortField || column.field,
            direction: this.sortDirection
        });
        this.cdr.markForCheck();
    }
    /** Handle page change */
    goToPage(page) {
        if (page < 1 || page > this.totalPages)
            return;
        this.currentPage = page;
        this.pageChange.emit({ page: this.currentPage, pageSize: this.pageSize });
        this.cdr.markForCheck();
    }
    /** Handle page size change */
    onPageSizeChange(newSize) {
        this.pageSize = newSize;
        this.currentPage = 1;
        this.pageChange.emit({ page: this.currentPage, pageSize: this.pageSize });
        this.cdr.markForCheck();
    }
    /** Handle search input */
    onSearch(query) {
        this.searchQuery = query;
        this.currentPage = 1;
        this.searchChange.emit(query);
        this.cdr.markForCheck();
    }
    /** Toggle column visibility */
    toggleColumnVisibility(column) {
        column.visible = column.visible === false ? true : false;
        this.columnVisibilityChange.emit([...this.columns]);
        this.cdr.markForCheck();
    }
    /** Toggle column manager dropdown */
    toggleColumnManager() {
        this.columnManagerOpen = !this.columnManagerOpen;
        this.cdr.markForCheck();
    }
    /** Handle row click */
    onRowClick(row) {
        this.rowClick.emit(row);
    }
    /** Handle keyboard navigation */
    onKeyDown(event, row) {
        if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            this.onRowClick(row);
        }
    }
    /** Get sort indicator for column */
    getSortIndicator(column) {
        if (this.sortField !== column.field)
            return '';
        if (this.sortDirection === 'asc')
            return '↑';
        if (this.sortDirection === 'desc')
            return '↓';
        return '';
    }
    /** Track by function for rows */
    trackByIndex(index) {
        return index;
    }
    /** Track by function for columns */
    trackByField(index, column) {
        return column.field;
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: TableComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.14", type: TableComponent, isStandalone: true, selector: "ui-table", inputs: { columns: "columns", data: "data", pageSize: "pageSize", searchable: "searchable", sortable: "sortable", columnManager: "columnManager", serverMode: "serverMode" }, outputs: { sortChange: "sortChange", pageChange: "pageChange", searchChange: "searchChange", columnVisibilityChange: "columnVisibilityChange", rowClick: "rowClick" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"ui-table\">\r\n  <!-- Toolbar -->\r\n  <div class=\"ui-table__toolbar\" *ngIf=\"searchable || columnManager\">\r\n    <!-- Search -->\r\n    <ui-search\r\n      *ngIf=\"searchable\"\r\n      [value]=\"searchQuery\"\r\n      placeholder=\"Search...\"\r\n      (valueChange)=\"onSearch($event)\"\r\n    ></ui-search>\r\n\r\n    <!-- Column manager -->\r\n    <div class=\"ui-table__column-manager\" *ngIf=\"columnManager\">\r\n      <button \r\n        type=\"button\" \r\n        class=\"ui-table__column-btn\"\r\n        (click)=\"toggleColumnManager()\"\r\n        aria-label=\"Manage columns\"\r\n      >\r\n        Columns \u25BC\r\n      </button>\r\n      <div class=\"ui-table__column-dropdown\" *ngIf=\"columnManagerOpen\">\r\n        <label \r\n          *ngFor=\"let col of columns; trackBy: trackByField\" \r\n          class=\"ui-table__column-option\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            [checked]=\"col.visible !== false\"\r\n            (change)=\"toggleColumnVisibility(col)\"\r\n          />\r\n          {{ col.title }}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Table -->\r\n  <div class=\"ui-table__wrapper\">\r\n    <table class=\"ui-table__table\" role=\"grid\">\r\n      <thead>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of visibleColumns; trackBy: trackByField\"\r\n            [style.width]=\"col.width\"\r\n            [class.ui-table__th--sortable]=\"sortable && col.sortable !== false\"\r\n            (click)=\"onHeaderClick(col)\"\r\n            [attr.aria-sort]=\"sortField === col.field ? sortDirection : null\"\r\n          >\r\n            {{ col.title }}\r\n            <span *ngIf=\"sortable && col.sortable !== false\" class=\"ui-table__sort-indicator\">\r\n              {{ getSortIndicator(col) }}\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          *ngFor=\"let row of displayedData; let i = index; trackBy: trackByIndex\"\r\n          tabindex=\"0\"\r\n          (click)=\"onRowClick(row)\"\r\n          (keydown)=\"onKeyDown($event, row)\"\r\n        >\r\n          <td *ngFor=\"let col of visibleColumns; trackBy: trackByField\">\r\n            {{ row[col.field] }}\r\n          </td>\r\n        </tr>\r\n        <tr *ngIf=\"displayedData.length === 0\">\r\n          <td [attr.colspan]=\"visibleColumns.length\" class=\"ui-table__empty\">\r\n            No data available\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <!-- Pagination -->\r\n  <div class=\"ui-table__pagination\">\r\n    <div class=\"ui-table__page-size\">\r\n      <label>\r\n        Rows per page:\r\n        <select [ngModel]=\"pageSize\" (ngModelChange)=\"onPageSizeChange($event)\">\r\n          <option *ngFor=\"let size of pageSizes\" [value]=\"size\">{{ size }}</option>\r\n        </select>\r\n      </label>\r\n    </div>\r\n\r\n    <div class=\"ui-table__page-info\">\r\n      Page {{ currentPage }} of {{ totalPages || 1 }}\r\n    </div>\r\n\r\n    <div class=\"ui-table__page-controls\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"ui-table__page-btn\"\r\n        [disabled]=\"currentPage <= 1\"\r\n        (click)=\"goToPage(currentPage - 1)\"\r\n        aria-label=\"Previous page\"\r\n      >\r\n        \u2039\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"ui-table__page-btn\"\r\n        [disabled]=\"currentPage >= totalPages\"\r\n        (click)=\"goToPage(currentPage + 1)\"\r\n        aria-label=\"Next page\"\r\n      >\r\n        \u203A\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".ui-table{display:flex;flex-direction:column;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-md, 6px);background-color:var(--color-bg, #ffffff);font-family:var(--font-family, \"Inter\", sans-serif);overflow:hidden}.ui-table__toolbar{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid var(--color-border, #d1d5db);background-color:var(--color-surface, #f6f7f8)}.ui-table__column-manager{position:relative;margin-left:auto}.ui-table__column-btn{padding:8px 12px;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);color:var(--color-text, #222);font-size:var(--font-size-sm, 14px);cursor:pointer}.ui-table__column-dropdown{position:absolute;top:100%;right:0;z-index:10;min-width:150px;margin-top:4px;padding:8px;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);box-shadow:0 4px 6px #0000001a}.ui-table__column-option{display:flex;align-items:center;gap:8px;padding:4px 0;font-size:var(--font-size-sm, 14px);cursor:pointer}.ui-table__wrapper{overflow-x:auto}.ui-table__table{width:100%;border-collapse:collapse}.ui-table__table th{padding:12px;text-align:left;font-size:var(--font-size-sm, 14px);font-weight:var(--font-weight-semibold, 600);color:var(--color-text, #222);background-color:var(--color-surface, #f6f7f8);border-bottom:1px solid var(--color-border, #d1d5db)}.ui-table__th--sortable{cursor:pointer;-webkit-user-select:none;user-select:none}.ui-table__th--sortable:hover{background-color:var(--color-border, #d1d5db)}.ui-table__sort-indicator{margin-left:4px;font-size:12px}.ui-table__table td{padding:12px;font-size:var(--font-size-sm, 14px);color:var(--color-text, #222);border-bottom:1px solid var(--color-border, #d1d5db)}.ui-table__table tbody tr{cursor:pointer;transition:background-color .15s ease}.ui-table__table tbody tr:hover{background-color:var(--color-hover, rgba(0, 0, 0, .05))}.ui-table__table tbody tr:focus{outline:2px solid var(--color-primary, #3b82f6);outline-offset:-2px}.ui-table__empty{text-align:center;color:var(--color-secondary, #6b7280);padding:24px!important}.ui-table__pagination{display:flex;align-items:center;justify-content:flex-end;gap:16px;padding:12px;border-top:1px solid var(--color-border, #d1d5db);background-color:var(--color-surface, #f6f7f8)}.ui-table__page-size select{margin-left:8px;padding:4px 8px;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);color:var(--color-text, #222);font-size:var(--font-size-sm, 14px)}.ui-table__page-info{font-size:var(--font-size-sm, 14px);color:var(--color-secondary, #6b7280)}.ui-table__page-controls{display:flex;gap:4px}.ui-table__page-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);color:var(--color-text, #222);font-size:16px;cursor:pointer;transition:background-color .15s ease}.ui-table__page-btn:hover:not(:disabled){background-color:var(--color-surface, #f6f7f8)}.ui-table__page-btn:disabled{opacity:.5;cursor:not-allowed}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i2.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i2.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i2.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: SearchComponent, selector: "ui-search", inputs: ["placeholder", "value", "debounce", "disabled"], outputs: ["valueChange"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: TableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ui-table', standalone: true, imports: [CommonModule, FormsModule, SearchComponent], changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"ui-table\">\r\n  <!-- Toolbar -->\r\n  <div class=\"ui-table__toolbar\" *ngIf=\"searchable || columnManager\">\r\n    <!-- Search -->\r\n    <ui-search\r\n      *ngIf=\"searchable\"\r\n      [value]=\"searchQuery\"\r\n      placeholder=\"Search...\"\r\n      (valueChange)=\"onSearch($event)\"\r\n    ></ui-search>\r\n\r\n    <!-- Column manager -->\r\n    <div class=\"ui-table__column-manager\" *ngIf=\"columnManager\">\r\n      <button \r\n        type=\"button\" \r\n        class=\"ui-table__column-btn\"\r\n        (click)=\"toggleColumnManager()\"\r\n        aria-label=\"Manage columns\"\r\n      >\r\n        Columns \u25BC\r\n      </button>\r\n      <div class=\"ui-table__column-dropdown\" *ngIf=\"columnManagerOpen\">\r\n        <label \r\n          *ngFor=\"let col of columns; trackBy: trackByField\" \r\n          class=\"ui-table__column-option\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            [checked]=\"col.visible !== false\"\r\n            (change)=\"toggleColumnVisibility(col)\"\r\n          />\r\n          {{ col.title }}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Table -->\r\n  <div class=\"ui-table__wrapper\">\r\n    <table class=\"ui-table__table\" role=\"grid\">\r\n      <thead>\r\n        <tr>\r\n          <th\r\n            *ngFor=\"let col of visibleColumns; trackBy: trackByField\"\r\n            [style.width]=\"col.width\"\r\n            [class.ui-table__th--sortable]=\"sortable && col.sortable !== false\"\r\n            (click)=\"onHeaderClick(col)\"\r\n            [attr.aria-sort]=\"sortField === col.field ? sortDirection : null\"\r\n          >\r\n            {{ col.title }}\r\n            <span *ngIf=\"sortable && col.sortable !== false\" class=\"ui-table__sort-indicator\">\r\n              {{ getSortIndicator(col) }}\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          *ngFor=\"let row of displayedData; let i = index; trackBy: trackByIndex\"\r\n          tabindex=\"0\"\r\n          (click)=\"onRowClick(row)\"\r\n          (keydown)=\"onKeyDown($event, row)\"\r\n        >\r\n          <td *ngFor=\"let col of visibleColumns; trackBy: trackByField\">\r\n            {{ row[col.field] }}\r\n          </td>\r\n        </tr>\r\n        <tr *ngIf=\"displayedData.length === 0\">\r\n          <td [attr.colspan]=\"visibleColumns.length\" class=\"ui-table__empty\">\r\n            No data available\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n\r\n  <!-- Pagination -->\r\n  <div class=\"ui-table__pagination\">\r\n    <div class=\"ui-table__page-size\">\r\n      <label>\r\n        Rows per page:\r\n        <select [ngModel]=\"pageSize\" (ngModelChange)=\"onPageSizeChange($event)\">\r\n          <option *ngFor=\"let size of pageSizes\" [value]=\"size\">{{ size }}</option>\r\n        </select>\r\n      </label>\r\n    </div>\r\n\r\n    <div class=\"ui-table__page-info\">\r\n      Page {{ currentPage }} of {{ totalPages || 1 }}\r\n    </div>\r\n\r\n    <div class=\"ui-table__page-controls\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"ui-table__page-btn\"\r\n        [disabled]=\"currentPage <= 1\"\r\n        (click)=\"goToPage(currentPage - 1)\"\r\n        aria-label=\"Previous page\"\r\n      >\r\n        \u2039\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"ui-table__page-btn\"\r\n        [disabled]=\"currentPage >= totalPages\"\r\n        (click)=\"goToPage(currentPage + 1)\"\r\n        aria-label=\"Next page\"\r\n      >\r\n        \u203A\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".ui-table{display:flex;flex-direction:column;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-md, 6px);background-color:var(--color-bg, #ffffff);font-family:var(--font-family, \"Inter\", sans-serif);overflow:hidden}.ui-table__toolbar{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid var(--color-border, #d1d5db);background-color:var(--color-surface, #f6f7f8)}.ui-table__column-manager{position:relative;margin-left:auto}.ui-table__column-btn{padding:8px 12px;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);color:var(--color-text, #222);font-size:var(--font-size-sm, 14px);cursor:pointer}.ui-table__column-dropdown{position:absolute;top:100%;right:0;z-index:10;min-width:150px;margin-top:4px;padding:8px;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);box-shadow:0 4px 6px #0000001a}.ui-table__column-option{display:flex;align-items:center;gap:8px;padding:4px 0;font-size:var(--font-size-sm, 14px);cursor:pointer}.ui-table__wrapper{overflow-x:auto}.ui-table__table{width:100%;border-collapse:collapse}.ui-table__table th{padding:12px;text-align:left;font-size:var(--font-size-sm, 14px);font-weight:var(--font-weight-semibold, 600);color:var(--color-text, #222);background-color:var(--color-surface, #f6f7f8);border-bottom:1px solid var(--color-border, #d1d5db)}.ui-table__th--sortable{cursor:pointer;-webkit-user-select:none;user-select:none}.ui-table__th--sortable:hover{background-color:var(--color-border, #d1d5db)}.ui-table__sort-indicator{margin-left:4px;font-size:12px}.ui-table__table td{padding:12px;font-size:var(--font-size-sm, 14px);color:var(--color-text, #222);border-bottom:1px solid var(--color-border, #d1d5db)}.ui-table__table tbody tr{cursor:pointer;transition:background-color .15s ease}.ui-table__table tbody tr:hover{background-color:var(--color-hover, rgba(0, 0, 0, .05))}.ui-table__table tbody tr:focus{outline:2px solid var(--color-primary, #3b82f6);outline-offset:-2px}.ui-table__empty{text-align:center;color:var(--color-secondary, #6b7280);padding:24px!important}.ui-table__pagination{display:flex;align-items:center;justify-content:flex-end;gap:16px;padding:12px;border-top:1px solid var(--color-border, #d1d5db);background-color:var(--color-surface, #f6f7f8)}.ui-table__page-size select{margin-left:8px;padding:4px 8px;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);color:var(--color-text, #222);font-size:var(--font-size-sm, 14px)}.ui-table__page-info{font-size:var(--font-size-sm, 14px);color:var(--color-secondary, #6b7280)}.ui-table__page-controls{display:flex;gap:4px}.ui-table__page-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:1px solid var(--color-border, #d1d5db);border-radius:var(--radius-sm, 4px);background-color:var(--color-bg, #ffffff);color:var(--color-text, #222);font-size:16px;cursor:pointer;transition:background-color .15s ease}.ui-table__page-btn:hover:not(:disabled){background-color:var(--color-surface, #f6f7f8)}.ui-table__page-btn:disabled{opacity:.5;cursor:not-allowed}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { columns: [{
                type: Input
            }], data: [{
                type: Input
            }], pageSize: [{
                type: Input
            }], searchable: [{
                type: Input
            }], sortable: [{
                type: Input
            }], columnManager: [{
                type: Input
            }], serverMode: [{
                type: Input
            }], sortChange: [{
                type: Output
            }], pageChange: [{
                type: Output
            }], searchChange: [{
                type: Output
            }], columnVisibilityChange: [{
                type: Output
            }], rowClick: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWktbGliL3NyYy9saWIvdGFibGUvdGFibGUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdWktbGliL3NyYy9saWIvdGFibGUvdGFibGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWix1QkFBdUIsRUFJeEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3QyxPQUFPLEVBS0wsa0JBQWtCLEVBQ25CLE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDOzs7O0FBRTdEOzs7O0dBSUc7QUFTSCxNQUFNLE9BQU8sY0FBYztJQXFETDtJQXBEcEIsMkJBQTJCO0lBQ2xCLE9BQU8sR0FBa0IsRUFBRSxDQUFDO0lBRXJDLGlCQUFpQjtJQUNSLElBQUksR0FBVSxFQUFFLENBQUM7SUFFMUIsK0JBQStCO0lBQ3RCLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFFdkIsZ0NBQWdDO0lBQ3ZCLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFFNUIsaUNBQWlDO0lBQ3hCLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFFMUIsd0NBQXdDO0lBQy9CLGFBQWEsR0FBRyxLQUFLLENBQUM7SUFFL0Isc0NBQXNDO0lBQzdCLFVBQVUsR0FBRyxLQUFLLENBQUM7SUFFNUIsd0JBQXdCO0lBQ2QsVUFBVSxHQUFHLElBQUksWUFBWSxFQUFhLENBQUM7SUFFckQsd0JBQXdCO0lBQ2QsVUFBVSxHQUFHLElBQUksWUFBWSxFQUFhLENBQUM7SUFF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Qyx1QkFBdUIsQ0FBQyxNQUFNO3NGQUl0QyxPQUFPO3NCQUFmLEtBQUs7Z0JBR0csSUFBSTtzQkFBWixLQUFLO2dCQUdHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBR0csVUFBVTtzQkFBbEIsS0FBSztnQkFHRyxRQUFRO3NCQUFoQixLQUFLO2dCQUdHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBR0csVUFBVTtzQkFBbEIsS0FBSztnQkFHSSxVQUFVO3NCQUFuQixNQUFNO2dCQUdHLFVBQVU7c0JBQW5CLE1BQU07Z0JBR0csWUFBWTtzQkFBckIsTUFBTTtnQkFHRyxzQkFBc0I7c0JBQS9CLE1BQU07Z0JBR0csUUFBUTtzQkFBakIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXHJcbiAgT25DaGFuZ2VzLFxyXG4gIFNpbXBsZUNoYW5nZXNcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XHJcbmltcG9ydCB7IFxyXG4gIFRhYmxlQ29sdW1uLCBcclxuICBTb3J0RXZlbnQsIFxyXG4gIFBhZ2VFdmVudCwgXHJcbiAgU29ydERpcmVjdGlvbixcclxuICBERUZBVUxUX1BBR0VfU0laRVMgXHJcbn0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzJztcclxuaW1wb3J0IHsgU2VhcmNoQ29tcG9uZW50IH0gZnJvbSAnLi4vc2VhcmNoL3NlYXJjaC5jb21wb25lbnQnO1xyXG5cclxuLyoqXHJcbiAqIFVJIFRhYmxlIENvbXBvbmVudFxyXG4gKiBcclxuICogQSBkeW5hbWljIHRhYmxlIGNvbXBvbmVudCB3aXRoIHNvcnRpbmcsIHBhZ2luYXRpb24sIHNlYXJjaCwgYW5kIGNvbHVtbiBtYW5hZ2VtZW50LlxyXG4gKi9cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd1aS10YWJsZScsXHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGb3Jtc01vZHVsZSwgU2VhcmNoQ29tcG9uZW50XSxcclxuICB0ZW1wbGF0ZVVybDogJy4vdGFibGUuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3RhYmxlLmNvbXBvbmVudC5jc3MnXSxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxyXG59KVxyXG5leHBvcnQgY2xhc3MgVGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xyXG4gIC8qKiBDb2x1bW4gY29uZmlndXJhdGlvbiAqL1xyXG4gIEBJbnB1dCgpIGNvbHVtbnM6IFRhYmxlQ29sdW1uW10gPSBbXTtcclxuXHJcbiAgLyoqIFRhYmxlIGRhdGEgKi9cclxuICBASW5wdXQoKSBkYXRhOiBhbnlbXSA9IFtdO1xyXG5cclxuICAvKiogTnVtYmVyIG9mIGl0ZW1zIHBlciBwYWdlICovXHJcbiAgQElucHV0KCkgcGFnZVNpemUgPSAxMDtcclxuXHJcbiAgLyoqIFdoZXRoZXIgc2VhcmNoIGlzIGVuYWJsZWQgKi9cclxuICBASW5wdXQoKSBzZWFyY2hhYmxlID0gZmFsc2U7XHJcblxyXG4gIC8qKiBXaGV0aGVyIHNvcnRpbmcgaXMgZW5hYmxlZCAqL1xyXG4gIEBJbnB1dCgpIHNvcnRhYmxlID0gZmFsc2U7XHJcblxyXG4gIC8qKiBXaGV0aGVyIGNvbHVtbiBtYW5hZ2VyIGlzIGVuYWJsZWQgKi9cclxuICBASW5wdXQoKSBjb2x1bW5NYW5hZ2VyID0gZmFsc2U7XHJcblxyXG4gIC8qKiBXaGV0aGVyIHRvIHVzZSBzZXJ2ZXItc2lkZSBtb2RlICovXHJcbiAgQElucHV0KCkgc2VydmVyTW9kZSA9IGZhbHNlO1xyXG5cclxuICAvKiogU29ydCBjaGFuZ2UgZXZlbnQgKi9cclxuICBAT3V0cHV0KCkgc29ydENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8U29ydEV2ZW50PigpO1xyXG5cclxuICAvKiogUGFnZSBjaGFuZ2UgZXZlbnQgKi9cclxuICBAT3V0cHV0KCkgcGFnZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8UGFnZUV2ZW50PigpO1xyXG5cclxuICAvKiogU2VhcmNoIGNoYW5nZSBldmVudCAqL1xyXG4gIEBPdXRwdXQoKSBzZWFyY2hDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcclxuXHJcbiAgLyoqIENvbHVtbiB2aXNpYmlsaXR5IGNoYW5nZSBldmVudCAqL1xyXG4gIEBPdXRwdXQoKSBjb2x1bW5WaXNpYmlsaXR5Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxUYWJsZUNvbHVtbltdPigpO1xyXG5cclxuICAvKiogUm93IGNsaWNrIGV2ZW50ICovXHJcbiAgQE91dHB1dCgpIHJvd0NsaWNrID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XHJcblxyXG4gIC8qKiBBdmFpbGFibGUgcGFnZSBzaXplcyAqL1xyXG4gIHBhZ2VTaXplcyA9IERFRkFVTFRfUEFHRV9TSVpFUztcclxuXHJcbiAgLyoqIEN1cnJlbnQgcGFnZSAoMS1pbmRleGVkKSAqL1xyXG4gIGN1cnJlbnRQYWdlID0gMTtcclxuXHJcbiAgLyoqIEN1cnJlbnQgc29ydCBzdGF0ZSAqL1xyXG4gIHNvcnRGaWVsZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgc29ydERpcmVjdGlvbjogU29ydERpcmVjdGlvbiA9IG51bGw7XHJcblxyXG4gIC8qKiBTZWFyY2ggcXVlcnkgKi9cclxuICBzZWFyY2hRdWVyeSA9ICcnO1xyXG5cclxuICAvKiogQ29sdW1uIG1hbmFnZXIgZHJvcGRvd24gc3RhdGUgKi9cclxuICBjb2x1bW5NYW5hZ2VyT3BlbiA9IGZhbHNlO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XHJcblxyXG5cclxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XHJcbiAgICBpZiAoY2hhbmdlc1snZGF0YSddIHx8IGNoYW5nZXNbJ3BhZ2VTaXplJ10pIHtcclxuICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKiogR2V0IHZpc2libGUgY29sdW1ucyAqL1xyXG4gIGdldCB2aXNpYmxlQ29sdW1ucygpOiBUYWJsZUNvbHVtbltdIHtcclxuICAgIHJldHVybiB0aGlzLmNvbHVtbnMuZmlsdGVyKGNvbCA9PiBjb2wudmlzaWJsZSAhPT0gZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldCBkaXNwbGF5ZWQgZGF0YSAod2l0aCBwYWdpbmF0aW9uLCBzb3J0aW5nLCBmaWx0ZXJpbmcgaWYgbm90IHNlcnZlciBtb2RlKSAqL1xyXG4gIGdldCBkaXNwbGF5ZWREYXRhKCk6IGFueVtdIHtcclxuICAgIGlmICh0aGlzLnNlcnZlck1vZGUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVzdWx0ID0gWy4uLnRoaXMuZGF0YV07XHJcblxyXG4gICAgLy8gQXBwbHkgc2VhcmNoIGZpbHRlclxyXG4gICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkpIHtcclxuICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLnNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIocm93ID0+IFxyXG4gICAgICAgIHRoaXMudmlzaWJsZUNvbHVtbnMuc29tZShjb2wgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSByb3dbY29sLmZpZWxkXTtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBwbHkgc29ydGluZ1xyXG4gICAgaWYgKHRoaXMuc29ydEZpZWxkICYmIHRoaXMuc29ydERpcmVjdGlvbikge1xyXG4gICAgICByZXN1bHQuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFWYWwgPSBhW3RoaXMuc29ydEZpZWxkIV07XHJcbiAgICAgICAgY29uc3QgYlZhbCA9IGJbdGhpcy5zb3J0RmllbGQhXTtcclxuICAgICAgICBjb25zdCBjb21wYXJpc29uID0gYVZhbCA8IGJWYWwgPyAtMSA6IGFWYWwgPiBiVmFsID8gMSA6IDA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydERpcmVjdGlvbiA9PT0gJ2FzYycgPyBjb21wYXJpc29uIDogLWNvbXBhcmlzb247XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcGx5IHBhZ2luYXRpb25cclxuICAgIGNvbnN0IHN0YXJ0ID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGFnZVNpemU7XHJcbiAgICByZXR1cm4gcmVzdWx0LnNsaWNlKHN0YXJ0LCBzdGFydCArIHRoaXMucGFnZVNpemUpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEdldCB0b3RhbCBudW1iZXIgb2YgcGFnZXMgKi9cclxuICBnZXQgdG90YWxQYWdlcygpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMuc2VydmVyTW9kZSkge1xyXG4gICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZGF0YS5sZW5ndGggLyB0aGlzLnBhZ2VTaXplKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IGZpbHRlcmVkTGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aDtcclxuICAgIGlmICh0aGlzLnNlYXJjaFF1ZXJ5KSB7XHJcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBmaWx0ZXJlZExlbmd0aCA9IHRoaXMuZGF0YS5maWx0ZXIocm93ID0+IFxyXG4gICAgICAgIHRoaXMudmlzaWJsZUNvbHVtbnMuc29tZShjb2wgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSByb3dbY29sLmZpZWxkXTtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICkubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE1hdGguY2VpbChmaWx0ZXJlZExlbmd0aCAvIHRoaXMucGFnZVNpemUpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEhhbmRsZSBjb2x1bW4gaGVhZGVyIGNsaWNrIGZvciBzb3J0aW5nICovXHJcbiAgb25IZWFkZXJDbGljayhjb2x1bW46IFRhYmxlQ29sdW1uKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuc29ydGFibGUgfHwgY29sdW1uLnNvcnRhYmxlID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0aGlzLnNvcnRGaWVsZCA9PT0gY29sdW1uLmZpZWxkKSB7XHJcbiAgICAgIC8vIEN5Y2xlOiBudWxsIC0+IGFzYyAtPiBkZXNjIC0+IG51bGxcclxuICAgICAgaWYgKHRoaXMuc29ydERpcmVjdGlvbiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuc29ydERpcmVjdGlvbiA9ICdhc2MnO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc29ydERpcmVjdGlvbiA9PT0gJ2FzYycpIHtcclxuICAgICAgICB0aGlzLnNvcnREaXJlY3Rpb24gPSAnZGVzYyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zb3J0RGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNvcnRGaWVsZCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc29ydEZpZWxkID0gY29sdW1uLmZpZWxkO1xyXG4gICAgICB0aGlzLnNvcnREaXJlY3Rpb24gPSAnYXNjJztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNvcnRDaGFuZ2UuZW1pdCh7IFxyXG4gICAgICBmaWVsZDogdGhpcy5zb3J0RmllbGQgfHwgY29sdW1uLmZpZWxkLCBcclxuICAgICAgZGlyZWN0aW9uOiB0aGlzLnNvcnREaXJlY3Rpb24gXHJcbiAgICB9KTtcclxuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKiBIYW5kbGUgcGFnZSBjaGFuZ2UgKi9cclxuICBnb1RvUGFnZShwYWdlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmIChwYWdlIDwgMSB8fCBwYWdlID4gdGhpcy50b3RhbFBhZ2VzKSByZXR1cm47XHJcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTtcclxuICAgIHRoaXMucGFnZUNoYW5nZS5lbWl0KHsgcGFnZTogdGhpcy5jdXJyZW50UGFnZSwgcGFnZVNpemU6IHRoaXMucGFnZVNpemUgfSk7XHJcbiAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcblxyXG4gIC8qKiBIYW5kbGUgcGFnZSBzaXplIGNoYW5nZSAqL1xyXG4gIG9uUGFnZVNpemVDaGFuZ2UobmV3U2l6ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLnBhZ2VTaXplID0gbmV3U2l6ZTtcclxuICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgdGhpcy5wYWdlQ2hhbmdlLmVtaXQoeyBwYWdlOiB0aGlzLmN1cnJlbnRQYWdlLCBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSB9KTtcclxuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEhhbmRsZSBzZWFyY2ggaW5wdXQgKi9cclxuICBvblNlYXJjaChxdWVyeTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLnNlYXJjaFF1ZXJ5ID0gcXVlcnk7XHJcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgIHRoaXMuc2VhcmNoQ2hhbmdlLmVtaXQocXVlcnkpO1xyXG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XHJcbiAgfVxyXG5cclxuICAvKiogVG9nZ2xlIGNvbHVtbiB2aXNpYmlsaXR5ICovXHJcbiAgdG9nZ2xlQ29sdW1uVmlzaWJpbGl0eShjb2x1bW46IFRhYmxlQ29sdW1uKTogdm9pZCB7XHJcbiAgICBjb2x1bW4udmlzaWJsZSA9IGNvbHVtbi52aXNpYmxlID09PSBmYWxzZSA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuY29sdW1uVmlzaWJpbGl0eUNoYW5nZS5lbWl0KFsuLi50aGlzLmNvbHVtbnNdKTtcclxuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xyXG4gIH1cclxuXHJcbiAgLyoqIFRvZ2dsZSBjb2x1bW4gbWFuYWdlciBkcm9wZG93biAqL1xyXG4gIHRvZ2dsZUNvbHVtbk1hbmFnZXIoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNvbHVtbk1hbmFnZXJPcGVuID0gIXRoaXMuY29sdW1uTWFuYWdlck9wZW47XHJcbiAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcclxuICB9XHJcblxyXG4gIC8qKiBIYW5kbGUgcm93IGNsaWNrICovXHJcbiAgb25Sb3dDbGljayhyb3c6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy5yb3dDbGljay5lbWl0KHJvdyk7XHJcbiAgfVxyXG5cclxuICAvKiogSGFuZGxlIGtleWJvYXJkIG5hdmlnYXRpb24gKi9cclxuICBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQsIHJvdzogYW55KTogdm9pZCB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LmtleSA9PT0gJyAnKSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMub25Sb3dDbGljayhyb3cpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIEdldCBzb3J0IGluZGljYXRvciBmb3IgY29sdW1uICovXHJcbiAgZ2V0U29ydEluZGljYXRvcihjb2x1bW46IFRhYmxlQ29sdW1uKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLnNvcnRGaWVsZCAhPT0gY29sdW1uLmZpZWxkKSByZXR1cm4gJyc7XHJcbiAgICBpZiAodGhpcy5zb3J0RGlyZWN0aW9uID09PSAnYXNjJykgcmV0dXJuICfihpEnO1xyXG4gICAgaWYgKHRoaXMuc29ydERpcmVjdGlvbiA9PT0gJ2Rlc2MnKSByZXR1cm4gJ+KGkyc7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICAvKiogVHJhY2sgYnkgZnVuY3Rpb24gZm9yIHJvd3MgKi9cclxuICB0cmFja0J5SW5kZXgoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfVxyXG5cclxuICAvKiogVHJhY2sgYnkgZnVuY3Rpb24gZm9yIGNvbHVtbnMgKi9cclxuICB0cmFja0J5RmllbGQoaW5kZXg6IG51bWJlciwgY29sdW1uOiBUYWJsZUNvbHVtbik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gY29sdW1uLmZpZWxkO1xyXG4gIH1cclxufVxyXG4iLCI8ZGl2IGNsYXNzPVwidWktdGFibGVcIj5cclxuICA8IS0tIFRvb2xiYXIgLS0+XHJcbiAgPGRpdiBjbGFzcz1cInVpLXRhYmxlX190b29sYmFyXCIgKm5nSWY9XCJzZWFyY2hhYmxlIHx8IGNvbHVtbk1hbmFnZXJcIj5cclxuICAgIDwhLS0gU2VhcmNoIC0tPlxyXG4gICAgPHVpLXNlYXJjaFxyXG4gICAgICAqbmdJZj1cInNlYXJjaGFibGVcIlxyXG4gICAgICBbdmFsdWVdPVwic2VhcmNoUXVlcnlcIlxyXG4gICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaC4uLlwiXHJcbiAgICAgICh2YWx1ZUNoYW5nZSk9XCJvblNlYXJjaCgkZXZlbnQpXCJcclxuICAgID48L3VpLXNlYXJjaD5cclxuXHJcbiAgICA8IS0tIENvbHVtbiBtYW5hZ2VyIC0tPlxyXG4gICAgPGRpdiBjbGFzcz1cInVpLXRhYmxlX19jb2x1bW4tbWFuYWdlclwiICpuZ0lmPVwiY29sdW1uTWFuYWdlclwiPlxyXG4gICAgICA8YnV0dG9uIFxyXG4gICAgICAgIHR5cGU9XCJidXR0b25cIiBcclxuICAgICAgICBjbGFzcz1cInVpLXRhYmxlX19jb2x1bW4tYnRuXCJcclxuICAgICAgICAoY2xpY2spPVwidG9nZ2xlQ29sdW1uTWFuYWdlcigpXCJcclxuICAgICAgICBhcmlhLWxhYmVsPVwiTWFuYWdlIGNvbHVtbnNcIlxyXG4gICAgICA+XHJcbiAgICAgICAgQ29sdW1ucyDilrxcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ1aS10YWJsZV9fY29sdW1uLWRyb3Bkb3duXCIgKm5nSWY9XCJjb2x1bW5NYW5hZ2VyT3BlblwiPlxyXG4gICAgICAgIDxsYWJlbCBcclxuICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2wgb2YgY29sdW1uczsgdHJhY2tCeTogdHJhY2tCeUZpZWxkXCIgXHJcbiAgICAgICAgICBjbGFzcz1cInVpLXRhYmxlX19jb2x1bW4tb3B0aW9uXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgW2NoZWNrZWRdPVwiY29sLnZpc2libGUgIT09IGZhbHNlXCJcclxuICAgICAgICAgICAgKGNoYW5nZSk9XCJ0b2dnbGVDb2x1bW5WaXNpYmlsaXR5KGNvbClcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIHt7IGNvbC50aXRsZSB9fVxyXG4gICAgICAgIDwvbGFiZWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDwhLS0gVGFibGUgLS0+XHJcbiAgPGRpdiBjbGFzcz1cInVpLXRhYmxlX193cmFwcGVyXCI+XHJcbiAgICA8dGFibGUgY2xhc3M9XCJ1aS10YWJsZV9fdGFibGVcIiByb2xlPVwiZ3JpZFwiPlxyXG4gICAgICA8dGhlYWQ+XHJcbiAgICAgICAgPHRyPlxyXG4gICAgICAgICAgPHRoXHJcbiAgICAgICAgICAgICpuZ0Zvcj1cImxldCBjb2wgb2YgdmlzaWJsZUNvbHVtbnM7IHRyYWNrQnk6IHRyYWNrQnlGaWVsZFwiXHJcbiAgICAgICAgICAgIFtzdHlsZS53aWR0aF09XCJjb2wud2lkdGhcIlxyXG4gICAgICAgICAgICBbY2xhc3MudWktdGFibGVfX3RoLS1zb3J0YWJsZV09XCJzb3J0YWJsZSAmJiBjb2wuc29ydGFibGUgIT09IGZhbHNlXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cIm9uSGVhZGVyQ2xpY2soY29sKVwiXHJcbiAgICAgICAgICAgIFthdHRyLmFyaWEtc29ydF09XCJzb3J0RmllbGQgPT09IGNvbC5maWVsZCA/IHNvcnREaXJlY3Rpb24gOiBudWxsXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge3sgY29sLnRpdGxlIH19XHJcbiAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwic29ydGFibGUgJiYgY29sLnNvcnRhYmxlICE9PSBmYWxzZVwiIGNsYXNzPVwidWktdGFibGVfX3NvcnQtaW5kaWNhdG9yXCI+XHJcbiAgICAgICAgICAgICAge3sgZ2V0U29ydEluZGljYXRvcihjb2wpIH19XHJcbiAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgPC90cj5cclxuICAgICAgPC90aGVhZD5cclxuICAgICAgPHRib2R5PlxyXG4gICAgICAgIDx0clxyXG4gICAgICAgICAgKm5nRm9yPVwibGV0IHJvdyBvZiBkaXNwbGF5ZWREYXRhOyBsZXQgaSA9IGluZGV4OyB0cmFja0J5OiB0cmFja0J5SW5kZXhcIlxyXG4gICAgICAgICAgdGFiaW5kZXg9XCIwXCJcclxuICAgICAgICAgIChjbGljayk9XCJvblJvd0NsaWNrKHJvdylcIlxyXG4gICAgICAgICAgKGtleWRvd24pPVwib25LZXlEb3duKCRldmVudCwgcm93KVwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHRkICpuZ0Zvcj1cImxldCBjb2wgb2YgdmlzaWJsZUNvbHVtbnM7IHRyYWNrQnk6IHRyYWNrQnlGaWVsZFwiPlxyXG4gICAgICAgICAgICB7eyByb3dbY29sLmZpZWxkXSB9fVxyXG4gICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPlxyXG4gICAgICAgIDx0ciAqbmdJZj1cImRpc3BsYXllZERhdGEubGVuZ3RoID09PSAwXCI+XHJcbiAgICAgICAgICA8dGQgW2F0dHIuY29sc3Bhbl09XCJ2aXNpYmxlQ29sdW1ucy5sZW5ndGhcIiBjbGFzcz1cInVpLXRhYmxlX19lbXB0eVwiPlxyXG4gICAgICAgICAgICBObyBkYXRhIGF2YWlsYWJsZVxyXG4gICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPlxyXG4gICAgICA8L3Rib2R5PlxyXG4gICAgPC90YWJsZT5cclxuICA8L2Rpdj5cclxuXHJcblxyXG4gIDwhLS0gUGFnaW5hdGlvbiAtLT5cclxuICA8ZGl2IGNsYXNzPVwidWktdGFibGVfX3BhZ2luYXRpb25cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJ1aS10YWJsZV9fcGFnZS1zaXplXCI+XHJcbiAgICAgIDxsYWJlbD5cclxuICAgICAgICBSb3dzIHBlciBwYWdlOlxyXG4gICAgICAgIDxzZWxlY3QgW25nTW9kZWxdPVwicGFnZVNpemVcIiAobmdNb2RlbENoYW5nZSk9XCJvblBhZ2VTaXplQ2hhbmdlKCRldmVudClcIj5cclxuICAgICAgICAgIDxvcHRpb24gKm5nRm9yPVwibGV0IHNpemUgb2YgcGFnZVNpemVzXCIgW3ZhbHVlXT1cInNpemVcIj57eyBzaXplIH19PC9vcHRpb24+XHJcbiAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgIDwvbGFiZWw+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwidWktdGFibGVfX3BhZ2UtaW5mb1wiPlxyXG4gICAgICBQYWdlIHt7IGN1cnJlbnRQYWdlIH19IG9mIHt7IHRvdGFsUGFnZXMgfHwgMSB9fVxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cInVpLXRhYmxlX19wYWdlLWNvbnRyb2xzXCI+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICBjbGFzcz1cInVpLXRhYmxlX19wYWdlLWJ0blwiXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cImN1cnJlbnRQYWdlIDw9IDFcIlxyXG4gICAgICAgIChjbGljayk9XCJnb1RvUGFnZShjdXJyZW50UGFnZSAtIDEpXCJcclxuICAgICAgICBhcmlhLWxhYmVsPVwiUHJldmlvdXMgcGFnZVwiXHJcbiAgICAgID5cclxuICAgICAgICDigLlcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICBjbGFzcz1cInVpLXRhYmxlX19wYWdlLWJ0blwiXHJcbiAgICAgICAgW2Rpc2FibGVkXT1cImN1cnJlbnRQYWdlID49IHRvdGFsUGFnZXNcIlxyXG4gICAgICAgIChjbGljayk9XCJnb1RvUGFnZShjdXJyZW50UGFnZSArIDEpXCJcclxuICAgICAgICBhcmlhLWxhYmVsPVwiTmV4dCBwYWdlXCJcclxuICAgICAgPlxyXG4gICAgICAgIOKAulxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19