import{a as Te,b as Ee}from"./chunk-5PYOJOFC.js";import{b as ye,d as ke,e as we,g as Me,h as Pe,i as Se,m as Oe,p as X}from"./chunk-H4RAXSLC.js";import{Da as v,Ea as te,Fb as L,Hb as re,Ja as b,La as _e,Ma as $,Na as B,O as Z,Oa as h,Pa as ae,Qa as f,Sa as fe,Ta as O,U as k,Ua as T,Va as o,Wa as a,Wb as ie,Xa as z,Xb as be,Y as w,Ya as E,Yb as he,Za as u,Zb as le,_a as p,_b as P,a as D,b as R,ea as x,eb as ne,fa as _,fb as Ce,gb as H,hb as r,ib as m,jb as C,kb as I,lb as ve,nb as U,oa as ee,ob as Y,pb as J,rb as M,tb as A,ub as W,vb as Q,xa as l}from"./chunk-4QRMWOGG.js";var se={low:{label:"Low",color:"#4c9a6b",icon:"\u{1F7E2}"},medium:{label:"Medium",color:"#9a9a4c",icon:"\u{1F7E1}"},high:{label:"High",color:"#9a6b4c",icon:"\u{1F7E0}"},urgent:{label:"Urgent",color:"#9a4c4c",icon:"\u{1F534}"}},K={mining:{label:"Mining",icon:"\u26CF\uFE0F",color:"#8b7355"},crafting:{label:"Crafting",icon:"\u{1F528}",color:"#cd853f"},gathering:{label:"Gathering",icon:"\u{1F33F}",color:"#228b22"},combat:{label:"Combat",icon:"\u2694\uFE0F",color:"#dc143c"},exploration:{label:"Exploration",icon:"\u{1F5FA}\uFE0F",color:"#4169e1"},general:{label:"General",icon:"\u{1F4CB}",color:"#708090"}},ce=[{id:"first-task",name:"First Steps",description:"Complete your first task",icon:"\u{1F3AF}",requirement:1,type:"tasks"},{id:"task-5",name:"Getting Started",description:"Complete 5 tasks",icon:"\u{1F4DD}",requirement:5,type:"tasks"},{id:"task-master",name:"Task Master",description:"Complete 10 tasks",icon:"\u2B50",requirement:10,type:"tasks"},{id:"task-legend",name:"Task Legend",description:"Complete 50 tasks",icon:"\u{1F3C5}",requirement:50,type:"tasks"},{id:"gold-100",name:"Pocket Change",description:"Earn 100 gold",icon:"\u{1FA99}",requirement:100,type:"gold"},{id:"gold-500",name:"Coin Collector",description:"Earn 500 gold",icon:"\u{1F4B5}",requirement:500,type:"gold"},{id:"gold-hoarder",name:"Gold Hoarder",description:"Earn 1000 gold",icon:"\u{1F4B0}",requirement:1e3,type:"gold"},{id:"gold-dragon",name:"Dragon's Hoard",description:"Earn 5000 gold",icon:"\u{1F409}",requirement:5e3,type:"gold"},{id:"streak-3",name:"On Fire",description:"Complete 3 tasks in a row",icon:"\u{1F525}",requirement:3,type:"streak"},{id:"streak-7",name:"Unstoppable",description:"Complete 7 tasks in a row",icon:"\u{1F4AA}",requirement:7,type:"streak"},{id:"streak-15",name:"Legendary Streak",description:"Complete 15 tasks in a row",icon:"\u26A1",requirement:15,type:"streak"},{id:"level-3",name:"Apprentice",description:"Reach level 3",icon:"\u{1F4DA}",requirement:3,type:"level"},{id:"level-5",name:"Rising Star",description:"Reach level 5",icon:"\u{1F31F}",requirement:5,type:"level"},{id:"level-10",name:"Goblin Elite",description:"Reach level 10",icon:"\u{1F451}",requirement:10,type:"level"},{id:"level-20",name:"Goblin King",description:"Reach level 20",icon:"\u{1F3F0}",requirement:20,type:"level"}],De={happy:{icon:"\u{1F60A}",bonus:1.2},neutral:{icon:"\u{1F610}",bonus:1},tired:{icon:"\u{1F634}",bonus:.8},excited:{icon:"\u{1F929}",bonus:1.5}},me={common:{color:"#9d9d9d",glow:"none"},uncommon:{color:"#1eff00",glow:"0 0 8px #1eff00"},rare:{color:"#0070dd",glow:"0 0 8px #0070dd"},epic:{color:"#a335ee",glow:"0 0 10px #a335ee"},legendary:{color:"#ff8000",glow:"0 0 12px #ff8000"}},ge={sunny:{type:"sunny",name:"Sunny Day",icon:"\u2600\uFE0F",description:"Perfect working conditions!",effects:{xpMultiplier:1,goldMultiplier:1,energyCost:1}},rainy:{type:"rainy",name:"Rainy Weather",icon:"\u{1F327}\uFE0F",description:"Gathering tasks get a boost!",effects:{xpMultiplier:1,goldMultiplier:1.1,energyCost:1.1,categoryBonus:"gathering"}},stormy:{type:"stormy",name:"Thunder Storm",icon:"\u26C8\uFE0F",description:"Dangerous but rewarding!",effects:{xpMultiplier:1.5,goldMultiplier:1.5,energyCost:1.5}},foggy:{type:"foggy",name:"Mysterious Fog",icon:"\u{1F32B}\uFE0F",description:"Exploration yields secrets!",effects:{xpMultiplier:1.2,goldMultiplier:1,energyCost:.9,categoryBonus:"exploration"}},magical:{type:"magical",name:"Magical Aurora",icon:"\u2728",description:"Rare magical phenomenon!",effects:{xpMultiplier:2,goldMultiplier:2,energyCost:.5}}},ue=[{id:"pickaxe-1",name:"Rusty Pickaxe",description:"A basic mining tool",type:"weapon",slot:"mainHand",rarity:"common",icon:"\u26CF\uFE0F",stats:{categoryBonus:{category:"mining",bonus:.1}},price:100},{id:"hammer-1",name:"Crafting Hammer",description:"Improves crafting efficiency",type:"weapon",slot:"mainHand",rarity:"common",icon:"\u{1F528}",stats:{categoryBonus:{category:"crafting",bonus:.1}},price:100},{id:"sword-1",name:"Goblin Blade",description:"A sharp combat weapon",type:"weapon",slot:"mainHand",rarity:"uncommon",icon:"\u2694\uFE0F",stats:{categoryBonus:{category:"combat",bonus:.15},xpBonus:.05},price:250},{id:"map-1",name:"Treasure Map",description:"Reveals hidden rewards",type:"accessory",slot:"accessory",rarity:"uncommon",icon:"\u{1F5FA}\uFE0F",stats:{goldBonus:.1,categoryBonus:{category:"exploration",bonus:.15}},price:300},{id:"helmet-1",name:"Iron Helmet",description:"Protects your noggin",type:"armor",slot:"head",rarity:"common",icon:"\u{1FA96}",stats:{energyBonus:10},price:150},{id:"cloak-1",name:"Shadow Cloak",description:"Move unseen through the night",type:"armor",slot:"body",rarity:"rare",icon:"\u{1F9E5}",stats:{xpBonus:.15,energyBonus:15},price:500},{id:"ring-1",name:"Ring of Fortune",description:"Increases gold drops",type:"accessory",slot:"accessory",rarity:"rare",icon:"\u{1F48D}",stats:{goldBonus:.25},price:750},{id:"crown-1",name:"Goblin King Crown",description:"The ultimate symbol of power",type:"armor",slot:"head",rarity:"legendary",icon:"\u{1F451}",stats:{xpBonus:.5,goldBonus:.5,energyBonus:50},price:5e3},{id:"potion-energy",name:"Energy Potion",description:"Restores 50 energy",type:"consumable",rarity:"common",icon:"\u{1F9EA}",stats:{energyBonus:50},price:50,quantity:1},{id:"potion-xp",name:"XP Elixir",description:"Grants 100 bonus XP",type:"consumable",rarity:"uncommon",icon:"\u2728",stats:{xpBonus:100},price:200,quantity:1}],Ie=[{id:"g6",name:"Grimjaw",avatar:"\u{1F9B7}",specialty:"combat",cost:500,unlocked:!1,description:"A fierce warrior with sharp teeth",bonusAbility:"+20% combat XP"},{id:"g7",name:"Sparkle",avatar:"\u{1F48E}",specialty:"mining",cost:500,unlocked:!1,description:"Has an eye for precious gems",bonusAbility:"+15% mining gold"},{id:"g8",name:"Whisper",avatar:"\u{1F47B}",specialty:"exploration",cost:750,unlocked:!1,description:"Can find hidden paths",bonusAbility:"-20% exploration energy"},{id:"g9",name:"Forge",avatar:"\u{1F525}",specialty:"crafting",cost:750,unlocked:!1,description:"Master of the forge",bonusAbility:"+25% crafting rewards"},{id:"g10",name:"Bloom",avatar:"\u{1F338}",specialty:"gathering",cost:1e3,unlocked:!1,description:"One with nature",bonusAbility:"Double gathering streaks"}],Re=[{id:"beginner-journey",name:"The Goblin Way",description:"Learn the basics of goblin task management",icon:"\u{1F4DC}",currentStep:0,completed:!1,steps:[{id:"bj-1",title:"First Task",description:"Complete your first task",requirement:{type:"complete-task",target:1},progress:0,completed:!1,reward:{gold:50,xp:25}},{id:"bj-2",title:"Getting Started",description:"Complete 5 tasks",requirement:{type:"complete-task",target:5},progress:0,completed:!1,reward:{gold:100,xp:50}},{id:"bj-3",title:"Gold Collector",description:"Earn 500 gold",requirement:{type:"earn-gold",target:500},progress:0,completed:!1,reward:{gold:200,xp:100}}],finalReward:{gold:500,xp:250}},{id:"mining-master",name:"Mining Mastery",description:"Become a master of the mines",icon:"\u26CF\uFE0F",currentStep:0,completed:!1,steps:[{id:"mm-1",title:"Dig Deep",description:"Complete 3 mining tasks",requirement:{type:"category-tasks",target:3,category:"mining"},progress:0,completed:!1,reward:{gold:75,xp:40}},{id:"mm-2",title:"Ore Finder",description:"Complete 10 mining tasks",requirement:{type:"category-tasks",target:10,category:"mining"},progress:0,completed:!1,reward:{gold:200,xp:100}},{id:"mm-3",title:"Mine Lord",description:"Complete 25 mining tasks",requirement:{type:"category-tasks",target:25,category:"mining"},progress:0,completed:!1,reward:{gold:500,xp:250}}],finalReward:{gold:1e3,xp:500}}];var j=(()=>{class n{tasks=v(this.createDummyTasks());goblins=v(this.createDummyGoblins());currentStreak=v(5);unlockedAchievements=v(["first-task","task-5","gold-100","streak-3","level-3"]);dailyBonus=v({claimed:!1,day:new Date().toDateString()});createDummyGoblins(){return[{id:"1",name:"Gruk",avatar:"\u{1F47A}",specialty:"mining",totalRewards:450,tasksCompleted:8,level:4,xp:65,xpToNextLevel:150,mood:"happy",energy:80,maxEnergy:100,skills:this.createSkills(3,1,1,1,1,2),achievements:[]},{id:"2",name:"Snix",avatar:"\u{1F479}",specialty:"crafting",totalRewards:320,tasksCompleted:5,level:3,xp:40,xpToNextLevel:150,mood:"neutral",energy:60,maxEnergy:100,skills:this.createSkills(1,3,1,1,1,1),achievements:[]},{id:"3",name:"Blix",avatar:"\u{1F9CC}",specialty:"gathering",totalRewards:280,tasksCompleted:6,level:3,xp:80,xpToNextLevel:150,mood:"excited",energy:100,maxEnergy:100,skills:this.createSkills(1,1,3,1,2,1),achievements:[]},{id:"4",name:"Zork",avatar:"\u{1F608}",specialty:"combat",totalRewards:520,tasksCompleted:7,level:5,xp:20,xpToNextLevel:225,mood:"happy",energy:40,maxEnergy:100,skills:this.createSkills(1,1,1,4,1,1),achievements:[]},{id:"5",name:"Nix",avatar:"\u{1F9D9}",specialty:"exploration",totalRewards:180,tasksCompleted:3,level:2,xp:50,xpToNextLevel:100,mood:"tired",energy:30,maxEnergy:100,skills:this.createSkills(1,1,1,1,2,1),achievements:[]}]}createSkills(e,t,i,s,d,g){return[{category:"mining",level:e,xp:e*50},{category:"crafting",level:t,xp:t*50},{category:"gathering",level:i,xp:i*50},{category:"combat",level:s,xp:s*50},{category:"exploration",level:d,xp:d*50},{category:"general",level:g,xp:g*50}]}createDummyTasks(){let e=new Date;return[{id:"1",title:"Mine Iron Ore",description:"Collect 50 iron ore from the eastern mines",reward:75,xpReward:45,priority:"high",category:"mining",deadline:new Date(e.getTime()+36e5*4),assignedGoblinId:null,status:"pending",createdAt:new Date(e.getTime()-36e5),startedAt:null,completedAt:null,streak:0},{id:"2",title:"Craft Goblin Armor",description:"Forge a new set of leather armor",reward:120,xpReward:70,priority:"medium",category:"crafting",deadline:new Date(e.getTime()+36e5*24),assignedGoblinId:null,status:"pending",createdAt:new Date(e.getTime()-72e5),startedAt:null,completedAt:null,streak:0},{id:"3",title:"Scout Enemy Camp",description:"Gather intel on the human settlement nearby",reward:100,xpReward:60,priority:"urgent",category:"exploration",deadline:new Date(e.getTime()+36e5*2),assignedGoblinId:"5",status:"in-progress",createdAt:new Date(e.getTime()-18e5),startedAt:new Date(e.getTime()-9e5),completedAt:null,streak:0},{id:"4",title:"Gather Mushrooms",description:"Collect rare glowing mushrooms from the cave",reward:50,xpReward:35,priority:"low",category:"gathering",deadline:null,assignedGoblinId:"3",status:"in-progress",createdAt:new Date(e.getTime()-54e5),startedAt:new Date(e.getTime()-36e5),completedAt:null,streak:0},{id:"5",title:"Defeat Cave Trolls",description:"Clear the trolls blocking the mountain pass",reward:200,xpReward:100,priority:"high",category:"combat",deadline:new Date(e.getTime()-36e5),assignedGoblinId:null,status:"pending",createdAt:new Date(e.getTime()-864e5),startedAt:null,completedAt:null,streak:0},{id:"6",title:"Repair Camp Fence",description:"Fix the broken sections of the perimeter",reward:40,xpReward:25,priority:"low",category:"general",deadline:null,assignedGoblinId:null,status:"pending",createdAt:new Date(e.getTime()-432e5),startedAt:null,completedAt:null,streak:0},{id:"7",title:"Raid Supply Wagon",description:"Successfully raided merchant supplies",reward:150,xpReward:80,priority:"high",category:"combat",deadline:null,assignedGoblinId:"4",status:"completed",createdAt:new Date(e.getTime()-1728e5),startedAt:new Date(e.getTime()-864e5),completedAt:new Date(e.getTime()-432e5),streak:1},{id:"8",title:"Brew Healing Potions",description:"Created 10 healing potions for the tribe",reward:80,xpReward:50,priority:"medium",category:"crafting",deadline:null,assignedGoblinId:"2",status:"completed",createdAt:new Date(e.getTime()-2592e5),startedAt:new Date(e.getTime()-1728e5),completedAt:new Date(e.getTime()-864e5),streak:2},{id:"9",title:"Find Hidden Treasure",description:"Discovered ancient goblin treasure cache",reward:300,xpReward:120,priority:"medium",category:"exploration",deadline:null,assignedGoblinId:"1",status:"completed",createdAt:new Date(e.getTime()-3456e5),startedAt:new Date(e.getTime()-2592e5),completedAt:new Date(e.getTime()-1728e5),streak:3}]}allTasks=this.tasks.asReadonly();allGoblins=this.goblins.asReadonly();streak=this.currentStreak.asReadonly();achievements=this.unlockedAchievements.asReadonly();pendingTasks=L(()=>this.tasks().filter(e=>e.status==="pending").sort((e,t)=>this.sortByPriorityAndDeadline(e,t)));inProgressTasks=L(()=>this.tasks().filter(e=>e.status==="in-progress").sort((e,t)=>this.sortByPriorityAndDeadline(e,t)));completedTasks=L(()=>this.tasks().filter(e=>e.status==="completed").sort((e,t)=>(t.completedAt?.getTime()||0)-(e.completedAt?.getTime()||0)));overdueTasks=L(()=>this.tasks().filter(e=>this.isOverdue(e)));stats=L(()=>({total:this.tasks().length,pending:this.pendingTasks().length,inProgress:this.inProgressTasks().length,completed:this.completedTasks().length,overdue:this.overdueTasks().length,totalRewardsEarned:this.goblins().reduce((e,t)=>e+t.totalRewards,0),totalXpEarned:this.goblins().reduce((e,t)=>e+t.xp,0),highestLevel:Math.max(...this.goblins().map(e=>e.level)),streak:this.currentStreak(),achievementsUnlocked:this.unlockedAchievements().length}));canClaimDailyBonus=L(()=>{let e=this.dailyBonus();return!e.claimed||e.day!==new Date().toDateString()});createGoblin(e,t,i,s){return{id:e,name:t,avatar:i,specialty:s,totalRewards:0,tasksCompleted:0,level:1,xp:0,xpToNextLevel:100,mood:"neutral",energy:100,maxEnergy:100,skills:[{category:"mining",level:1,xp:0},{category:"crafting",level:1,xp:0},{category:"gathering",level:1,xp:0},{category:"combat",level:1,xp:0},{category:"exploration",level:1,xp:0},{category:"general",level:1,xp:0}],achievements:[]}}sortByPriorityAndDeadline(e,t){let i={urgent:0,high:1,medium:2,low:3},s=i[e.priority]-i[t.priority];return s!==0?s:e.deadline&&t.deadline?e.deadline.getTime()-t.deadline.getTime():e.deadline?-1:t.deadline?1:0}isOverdue(e){return!e.deadline||e.status==="completed"?!1:new Date>e.deadline}getTimeRemaining(e){if(!e)return"No deadline";let t=e.getTime()-Date.now();if(t<0)return"Overdue!";let i=Math.floor(t/36e5),s=Math.floor(i/24);if(s>0)return`${s}d ${i%24}h`;let d=Math.floor(t%36e5/6e4);return i>0?`${i}h ${d}m`:`${d}m`}createTask(e,t,i,s,d,g){let y=Math.floor(i/2)+{urgent:50,high:30,medium:20,low:10}[s],V={id:crypto.randomUUID(),title:e,description:t,reward:i,xpReward:y,priority:s,category:d,deadline:g,assignedGoblinId:null,status:"pending",createdAt:new Date,startedAt:null,completedAt:null,streak:0};this.tasks.update(S=>[...S,V])}assignTask(e,t){let i=this.goblins().find(s=>s.id===t);!i||i.energy<20||(this.tasks.update(s=>s.map(d=>d.id===e?R(D({},d),{assignedGoblinId:t,status:"in-progress",startedAt:new Date}):d)),this.goblins.update(s=>s.map(d=>d.id===t?R(D({},d),{energy:Math.max(0,d.energy-20)}):d)))}completeTask(e){let t=this.tasks().find(q=>q.id===e);if(!t||!t.assignedGoblinId)return;let i=this.goblins().find(q=>q.id===t.assignedGoblinId);if(!i)return;let s=!t.deadline||new Date<=t.deadline,d=i.specialty===t.category,g=De[i.mood].bonus,y=d?1.25:1,V=s?1:.5,S=Math.floor(t.reward*g*y*V),oe=Math.floor(t.xpReward*g*y);this.tasks.update(q=>q.map(N=>N.id===e?R(D({},N),{status:"completed",completedAt:new Date}):N)),this.currentStreak.update(q=>q+1),this.updateGoblinStats(i.id,S,oe,t.category),this.checkAchievements(i.id)}updateGoblinStats(e,t,i,s){this.goblins.update(d=>d.map(g=>{if(g.id!==e)return g;let y=g.xp+i,V=g.level,S=g.xpToNextLevel;for(;y>=S;)y-=S,V++,S=Math.floor(S*1.5);let oe=V>g.level?"excited":g.tasksCompleted%5===4?"happy":g.mood,q=g.skills.map(N=>N.category===s?R(D({},N),{xp:N.xp+i,level:Math.floor((N.xp+i)/100)+1}):N);return R(D({},g),{totalRewards:g.totalRewards+t,tasksCompleted:g.tasksCompleted+1,xp:y,level:V,xpToNextLevel:S,mood:oe,skills:q})}))}checkAchievements(e){let t=this.goblins().find(i=>i.id===e);t&&ce.forEach(i=>{if(this.unlockedAchievements().includes(i.id))return;let s=!1;i.type==="tasks"&&t.tasksCompleted>=i.requirement&&(s=!0),i.type==="gold"&&t.totalRewards>=i.requirement&&(s=!0),i.type==="streak"&&this.currentStreak()>=i.requirement&&(s=!0),i.type==="level"&&t.level>=i.requirement&&(s=!0),s&&this.unlockedAchievements.update(d=>[...d,i.id])})}claimDailyBonus(){if(!this.canClaimDailyBonus())return 0;let e=100+Math.floor(Math.random()*100);return this.dailyBonus.set({claimed:!0,day:new Date().toDateString()}),this.goblins.update(t=>t.map((i,s)=>s===0?R(D({},i),{totalRewards:i.totalRewards+e}):i)),e}restGoblin(e){this.goblins.update(t=>t.map(i=>i.id===e?R(D({},i),{energy:Math.min(i.maxEnergy,i.energy+30),mood:"neutral"}):i))}deleteTask(e){this.tasks.update(t=>t.filter(i=>i.id!==e))}getGoblinById(e){return this.goblins().find(t=>t.id===e)}addGoblin(e,t,i,s){let d=this.createGoblin(e,t,i,s);this.goblins.update(g=>[...g,d])}boostGoblinEnergy(e,t){this.goblins.update(i=>i.map(s=>s.id===e?R(D({},s),{energy:Math.min(s.maxEnergy,s.energy+t)}):s))}addXpToGoblin(e,t){this.goblins.update(i=>i.map(s=>{if(s.id!==e)return s;let d=s.xp+t,g=s.level,y=s.xpToNextLevel;for(;d>=y;)d-=y,g++,y=Math.floor(y*1.5);return R(D({},s),{xp:d,level:g,xpToNextLevel:y})}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ge=(n,c)=>c.value,de=(n,c)=>c.id;function Ke(n,c){if(n&1&&(o(0,"option",15),r(1),a()),n&2){let e=c.$implicit;$("value",e.value),l(),I("",e.icon," ",e.label,"")}}function Ze(n,c){if(n&1&&(o(0,"option",15),r(1),a()),n&2){let e=c.$implicit;$("value",e.value),l(),I("",e.icon," ",e.label,"")}}function et(n,c){if(n&1){let e=E();o(0,"div",20)(1,"ui-calendar",22),u("valueChange",function(i){x(e);let s=p(2);return _(s.onDeadlineChange(i))}),a()()}if(n&2){let e=p(2);l(),$("showTime",!0)("minDate",e.minDate)("value",e.deadline)}}function tt(n,c){if(n&1){let e=E();o(0,"div",6)(1,"h3"),r(2,"\u{1F4DC} Create New Task"),a(),o(3,"div",8)(4,"ui-input",9),J("ngModelChange",function(i){x(e);let s=p();return Y(s.title,i)||(s.title=i),_(i)}),a(),o(5,"ui-input",10),J("ngModelChange",function(i){x(e);let s=p();return Y(s.description,i)||(s.description=i),_(i)}),a(),o(6,"div",11)(7,"ui-input",12),J("ngModelChange",function(i){x(e);let s=p();return Y(s.reward,i)||(s.reward=i),_(i)}),a(),o(8,"div",13)(9,"label"),r(10,"Category"),a(),o(11,"select",14),J("ngModelChange",function(i){x(e);let s=p();return Y(s.category,i)||(s.category=i),_(i)}),O(12,Ke,2,3,"option",15,Ge),a()()(),o(14,"div",11)(15,"div",13)(16,"label"),r(17,"Priority"),a(),o(18,"select",14),J("ngModelChange",function(i){x(e);let s=p();return Y(s.priority,i)||(s.priority=i),_(i)}),O(19,Ze,2,3,"option",15,Ge),a()(),o(21,"div",16)(22,"label"),r(23,"XP Reward"),a(),o(24,"span",17),r(25),a()()(),o(26,"div",18)(27,"label")(28,"input",19),J("ngModelChange",function(i){x(e);let s=p();return Y(s.hasDeadline,i)||(s.hasDeadline=i),_(i)}),a(),r(29," Set Deadline "),a(),b(30,et,2,3,"div",20),a()(),o(31,"ui-button",21),u("clicked",function(){x(e);let i=p();return _(i.createTask())}),r(32,"\u2728 Create Task"),a()()}if(n&2){let e=p();l(4),U("ngModel",e.title),l(),U("ngModel",e.description),l(2),U("ngModel",e.reward),l(4),U("ngModel",e.category),l(),T(e.categories),l(6),U("ngModel",e.priority),l(),T(e.priorities),l(6),C("\u2B50 ",e.calculateXp(),""),l(3),U("ngModel",e.hasDeadline),l(2),f(e.hasDeadline?30:-1)}}function nt(n,c){if(n&1){let e=E();o(0,"div",23)(1,"span",25),r(2,"\u{1F4ED}"),a(),o(3,"p"),r(4,"No tasks available"),a(),o(5,"ui-button",26),u("clicked",function(){x(e);let i=p(2);return _(i.activeTab.set("create"))}),r(6,"Create a Task"),a()()}}function it(n,c){if(n&1&&(o(0,"span",41),r(1),a()),n&2){let e=p().$implicit,t=p(3);h("urgent",t.taskService.isOverdue(e)),l(),C(" \u23F0 ",t.taskService.getTimeRemaining(e.deadline)," ")}}function ot(n,c){if(n&1&&(o(0,"option",15),r(1),a()),n&2){let e=c.$implicit;$("value",e.id),l(),ve("",e.avatar," ",e.name," (\u26A1",e.energy,")")}}function at(n,c){if(n&1){let e=E();o(0,"div",28)(1,"div",29)(2,"span",30),r(3),a(),o(4,"span",31),r(5),A(6,"uppercase"),a(),b(7,it,2,3,"span",32),a(),o(8,"div",33)(9,"h4"),r(10),a(),o(11,"p"),r(12),a(),o(13,"div",34)(14,"span",35),r(15),a(),o(16,"span",36),r(17),a()()(),o(18,"div",37)(19,"div",38)(20,"select",null,0),O(22,ot,2,4,"option",15,de),a()(),o(24,"div",39)(25,"ui-button",40),u("clicked",function(){let i=x(e).$implicit,s=H(21),d=p(3);return _(d.assignTask(i.id,s.value))}),r(26," Assign "),a(),o(27,"ui-button",26),u("clicked",function(){let i=x(e).$implicit,s=p(3);return _(s.deleteTask(i.id))}),r(28," \u{1F5D1}\uFE0F "),a()()()()}if(n&2){let e=c.$implicit,t=p(3);h("overdue",t.taskService.isOverdue(e)),l(3),m(t.getCategoryIcon(e.category)),l(),B("color",t.getPriorityColor(e.priority)),l(),I(" ",t.getPriorityIcon(e.priority)," ",W(6,12,e.priority)," "),l(2),f(e.deadline?7:-1),l(3),m(e.title),l(2),m(e.description),l(3),C("\u{1F4B0} ",e.reward,""),l(2),C("\u2B50 ",e.xpReward," XP"),l(5),T(t.taskService.allGoblins())}}function rt(n,c){if(n&1&&(o(0,"div",24),O(1,at,29,14,"div",27,de),a()),n&2){let e=p(2);l(),T(e.taskService.pendingTasks())}}function lt(n,c){if(n&1&&(o(0,"div",7)(1,"h3"),r(2,"\u{1F4CB} Available Tasks"),a(),b(3,nt,7,0,"div",23)(4,rt,3,0,"div",24),a()),n&2){let e=p();l(3),f(e.taskService.pendingTasks().length===0?3:4)}}function st(n,c){n&1&&(o(0,"div",23)(1,"span",25),r(2,"\u{1F634}"),a(),o(3,"p"),r(4,"No tasks in progress"),a(),o(5,"span",42),r(6,"Assign a task to a goblin to get started!"),a()())}function ct(n,c){if(n&1&&(o(0,"span",41),r(1),a()),n&2){let e=p().$implicit,t=p(3);h("urgent",t.taskService.isOverdue(e)),l(),C(" \u23F0 ",t.taskService.getTimeRemaining(e.deadline)," ")}}function dt(n,c){if(n&1){let e=E();o(0,"div",44)(1,"div",29)(2,"span",30),r(3),a(),o(4,"span",31),r(5),a(),b(6,ct,2,3,"span",32),a(),o(7,"div",33)(8,"h4"),r(9),a(),o(10,"p"),r(11),a(),o(12,"div",45)(13,"span",46),r(14),a(),o(15,"span",47),r(16),A(17,"date"),a()(),o(18,"div",34)(19,"span",35),r(20),a(),o(21,"span",36),r(22),a()()(),o(23,"div",37)(24,"ui-button",21),u("clicked",function(){let i=x(e).$implicit,s=p(3);return _(s.completeTask(i.id))}),r(25," \u2705 Mark Complete "),a()()()}if(n&2){let e=c.$implicit,t=p(3);h("overdue",t.taskService.isOverdue(e)),l(3),m(t.getCategoryIcon(e.category)),l(),B("color",t.getPriorityColor(e.priority)),l(),C(" ",t.getPriorityIcon(e.priority)," "),l(),f(e.deadline?6:-1),l(3),m(e.title),l(2),m(e.description),l(3),I("",t.getGoblinAvatar(e.assignedGoblinId)," ",t.getGoblinName(e.assignedGoblinId)," is working..."),l(2),C("Started ",Q(17,14,e.startedAt,"shortTime"),""),l(4),C("\u{1F4B0} ",e.reward,""),l(2),C("\u2B50 ",e.xpReward," XP")}}function pt(n,c){if(n&1&&(o(0,"div",24),O(1,dt,26,17,"div",43,de),a()),n&2){let e=p(2);l(),T(e.taskService.inProgressTasks())}}function mt(n,c){if(n&1&&(o(0,"div",7)(1,"h3"),r(2,"\u2694\uFE0F Tasks In Progress"),a(),b(3,st,7,0,"div",23)(4,pt,3,0,"div",24),a()),n&2){let e=p();l(3),f(e.taskService.inProgressTasks().length===0?3:4)}}function gt(n,c){n&1&&(o(0,"div",23)(1,"span",25),r(2,"\u{1F3AF}"),a(),o(3,"p"),r(4,"No completed tasks yet"),a(),o(5,"span",42),r(6,"Complete tasks to see them here!"),a()())}function ut(n,c){if(n&1&&(o(0,"div",49)(1,"div",29)(2,"span",30),r(3),a(),o(4,"span",50),r(5,"\u2705 Done"),a()(),o(6,"div",33)(7,"h4"),r(8),a(),o(9,"div",51)(10,"span",46),r(11),a(),o(12,"span",52),r(13),A(14,"date"),a()(),o(15,"div",53)(16,"span",35),r(17),a(),o(18,"span",36),r(19),a()()()()),n&2){let e=c.$implicit,t=p(3);l(3),m(t.getCategoryIcon(e.category)),l(5),m(e.title),l(3),I("",t.getGoblinAvatar(e.assignedGoblinId)," ",t.getGoblinName(e.assignedGoblinId),""),l(2),m(Q(14,7,e.completedAt,"short")),l(4),C("\u{1F4B0} ",e.reward," earned"),l(2),C("\u2B50 ",e.xpReward," XP")}}function xt(n,c){if(n&1&&(o(0,"div",48),O(1,ut,20,10,"div",49,de),a()),n&2){let e=p(2);l(),T(e.taskService.completedTasks())}}function _t(n,c){if(n&1&&(o(0,"div",7)(1,"h3"),r(2,"\u{1F3C6} Completed Tasks"),a(),b(3,gt,7,0,"div",23)(4,xt,3,0,"div",48),a()),n&2){let e=p();l(3),f(e.taskService.completedTasks().length===0?3:4)}}var Fe=(()=>{class n{taskService=k(j);activeTab=v("create");title="";description="";reward="10";priority="medium";category="general";hasDeadline=!1;deadline=null;minDate=new Date;priorities=Object.entries(se).map(([e,t])=>D({value:e},t));categories=Object.entries(K).map(([e,t])=>D({value:e},t));calculateXp(){let e=Math.floor(Number(this.reward)/2)||5,t={urgent:50,high:30,medium:20,low:10}[this.priority];return e+t}onDeadlineChange(e){Array.isArray(e)||(this.deadline=e)}createTask(){this.title.trim()&&(this.taskService.createTask(this.title,this.description,Number(this.reward)||10,this.priority,this.category,this.hasDeadline?this.deadline:null),this.title="",this.description="",this.reward="10",this.priority="medium",this.category="general",this.hasDeadline=!1,this.deadline=null,this.activeTab.set("available"))}assignTask(e,t){this.taskService.assignTask(e,t)}completeTask(e){this.taskService.completeTask(e)}deleteTask(e){this.taskService.deleteTask(e)}getGoblinName(e){return e&&this.taskService.getGoblinById(e)?.name||"Unknown"}getGoblinAvatar(e){return e&&this.taskService.getGoblinById(e)?.avatar||"\u{1F464}"}getPriorityColor(e){return se[e]?.color||"#fff"}getPriorityIcon(e){return se[e]?.icon||"\u26AA"}getCategoryIcon(e){return K[e]?.icon||"\u{1F4CB}"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-task-panel"]],standalone:!0,features:[M],decls:21,vars:12,consts:[["goblinSelect",""],[1,"task-panel"],[1,"tabs"],[1,"tab",3,"click"],[1,"badge"],[1,"tab-content"],[1,"create-view"],[1,"list-view"],[1,"form-fields"],["label","Task Title","placeholder","Enter task title...",3,"ngModelChange","ngModel"],["label","Description","placeholder","What needs to be done...",3,"ngModelChange","ngModel"],[1,"form-row"],["label","Reward (Gold)","type","number","placeholder","10",3,"ngModelChange","ngModel"],[1,"select-group"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"xp-preview"],[1,"xp-value"],[1,"deadline-section"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"calendar-wrapper"],["variant","primary",3,"clicked"],["mode","single",3,"valueChange","showTime","minDate","value"],[1,"empty-state"],[1,"tasks-grid"],[1,"empty-icon"],["variant","outline","size","sm",3,"clicked"],[1,"task-card",3,"overdue"],[1,"task-card"],[1,"task-header"],[1,"category-icon"],[1,"priority"],[1,"deadline",3,"urgent"],[1,"task-body"],[1,"rewards"],[1,"gold"],[1,"xp"],[1,"task-footer"],[1,"goblin-select"],[1,"actions"],["variant","primary","size","sm",3,"clicked"],[1,"deadline"],[1,"hint"],[1,"task-card","in-progress",3,"overdue"],[1,"task-card","in-progress"],[1,"worker-info"],[1,"worker"],[1,"started"],[1,"tasks-grid","completed-grid"],[1,"task-card","completed"],[1,"completed-badge"],[1,"completion-info"],[1,"completed-at"],[1,"rewards","earned"]],template:function(t,i){if(t&1&&(o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return i.activeTab.set("create")}),r(3," \u270F\uFE0F Create Task "),a(),o(4,"button",3),u("click",function(){return i.activeTab.set("available")}),r(5," \u{1F4CB} Available "),o(6,"span",4),r(7),a()(),o(8,"button",3),u("click",function(){return i.activeTab.set("progress")}),r(9," \u2694\uFE0F In Progress "),o(10,"span",4),r(11),a()(),o(12,"button",3),u("click",function(){return i.activeTab.set("completed")}),r(13," \u{1F3C6} Completed "),o(14,"span",4),r(15),a()()(),o(16,"div",5),b(17,tt,33,8,"div",6)(18,lt,5,1,"div",7)(19,mt,5,1,"div",7)(20,_t,5,1,"div",7),a()()),t&2){let s;l(2),h("active",i.activeTab()==="create"),l(2),h("active",i.activeTab()==="available"),l(3),m(i.taskService.pendingTasks().length),l(),h("active",i.activeTab()==="progress"),l(3),m(i.taskService.inProgressTasks().length),l(),h("active",i.activeTab()==="completed"),l(3),m(i.taskService.completedTasks().length),l(2),f((s=i.activeTab())==="create"?17:s==="available"?18:s==="progress"?19:s==="completed"?20:-1)}},dependencies:[P,be,he,Oe,Pe,Se,ye,Me,ke,we,X,Te,Ee],styles:[".task-panel[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;overflow:hidden}.tabs[_ngcontent-%COMP%]{display:flex;background:var(--bg-secondary);border-bottom:2px solid var(--border-primary)}.tab[_ngcontent-%COMP%]{flex:1;padding:14px 12px;background:transparent;border:none;color:var(--text-secondary);font-size:.9rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px;border-bottom:3px solid transparent}.tab[_ngcontent-%COMP%]:hover{background:var(--card-overlay);color:var(--text-primary)}.tab.active[_ngcontent-%COMP%]{color:var(--accent-gold);background:var(--card-overlay);border-bottom-color:var(--accent-gold)}.badge[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000;font-size:.75rem;font-weight:700;padding:2px 8px;border-radius:10px;min-width:20px}.tab-content[_ngcontent-%COMP%]{padding:20px}h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 20px;font-size:1.25rem}.create-view[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.select-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.select-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.select-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px;padding:10px 12px;font-size:1rem}.xp-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.xp-preview[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem}.xp-value[_ngcontent-%COMP%]{background:var(--card-overlay);padding:10px 12px;border-radius:6px;color:var(--accent-gold);font-weight:700;font-size:1rem}.deadline-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.deadline-section[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:var(--text-primary);display:flex;align-items:center;gap:8px;cursor:pointer}.deadline-section[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:var(--accent-purple)}.calendar-wrapper[_ngcontent-%COMP%]{background:var(--input-bg);border-radius:8px;padding:12px;border:1px solid var(--border-secondary)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--text-muted)}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin:0 0 8px;color:var(--text-secondary)}.hint[_ngcontent-%COMP%]{font-size:.85rem;opacity:.7}.tasks-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.task-card[_ngcontent-%COMP%]{background:var(--card-overlay);border:2px solid var(--border-secondary);border-radius:10px;padding:16px;transition:all .2s}.task-card[_ngcontent-%COMP%]:hover{border-color:var(--border-primary)}.task-card.in-progress[_ngcontent-%COMP%]{border-color:var(--border-progress);background:#4a90d90d}.task-card.completed[_ngcontent-%COMP%]{border-color:var(--border-completed);opacity:.85}.task-card.overdue[_ngcontent-%COMP%]{border-color:var(--border-overdue);background:#dc26260d}.task-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:12px}.category-icon[_ngcontent-%COMP%]{font-size:1.25rem}.priority[_ngcontent-%COMP%]{font-size:.75rem;font-weight:700}.deadline[_ngcontent-%COMP%]{margin-left:auto;color:var(--text-muted);font-size:.8rem}.deadline.urgent[_ngcontent-%COMP%]{color:#ef4444;font-weight:700}.completed-badge[_ngcontent-%COMP%]{margin-left:auto;color:#5ac47a;font-weight:700;font-size:.85rem}.task-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 6px;font-size:1rem}.task-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);margin:0 0 12px;font-size:.85rem}.rewards[_ngcontent-%COMP%]{display:flex;gap:16px}.rewards[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700}.gold[_ngcontent-%COMP%]{color:var(--accent-gold)}.xp[_ngcontent-%COMP%]{color:#a78bfa}.rewards.earned[_ngcontent-%COMP%]{opacity:.8}.worker-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px;font-size:.8rem}.worker[_ngcontent-%COMP%]{color:#5ac47a}.started[_ngcontent-%COMP%]{color:var(--text-muted)}.completion-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px;font-size:.8rem;color:var(--text-muted)}.task-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-top:12px;padding-top:12px;border-top:1px solid var(--border-secondary)}.goblin-select[_ngcontent-%COMP%]{flex:1}.goblin-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;background:var(--input-bg);color:var(--text-primary);border:1px solid var(--border-primary);border-radius:6px;padding:8px 10px;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.completed-grid[_ngcontent-%COMP%]   .task-card[_ngcontent-%COMP%]{padding:12px 16px}@media (max-width: 600px){.tabs[_ngcontent-%COMP%]{flex-wrap:wrap}.tab[_ngcontent-%COMP%]{flex:1 1 50%;font-size:.8rem;padding:10px 8px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return n})();var ft=(n,c)=>c.id;function Ct(n,c){if(n&1&&(o(0,"div",12)(1,"span",13),r(2),a(),o(3,"span",14),r(4,"avg/task"),a()()),n&2){let e=p().$implicit,t=p();l(2),m(t.getAvgReward(e))}}function vt(n,c){if(n&1&&(o(0,"div",3)(1,"span",4),r(2),a(),o(3,"span",5),r(4),a(),o(5,"div",6)(6,"span",7),r(7),a(),o(8,"span",8),r(9),a(),o(10,"div",9)(11,"span",10),r(12),a(),o(13,"span",11),r(14),a()()(),b(15,Ct,5,1,"div",12),a()),n&2){let e=c.$implicit,t=c.$index,i=p();h("top",t===0&&e.totalRewards>0),l(2),m(i.getRankBadge(t)),l(2),m(e.avatar),l(3),m(e.name),l(2),m(e.specialty),l(3),C("\u{1F4B0} ",e.totalRewards,""),l(2),C("\u2705 ",e.tasksCompleted,""),l(),f(e.tasksCompleted>0?15:-1)}}var Ae=(()=>{class n{taskService=k(j);sortedGoblins=L(()=>[...this.taskService.allGoblins()].sort((e,t)=>t.totalRewards-e.totalRewards));getRankBadge(e){return["\u{1F947}","\u{1F948}","\u{1F949}"][e]||`${e+1}`}getAvgReward(e){return e.tasksCompleted===0?"0":Math.round(e.totalRewards/e.tasksCompleted).toString()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-goblin-leaderboard"]],standalone:!0,features:[M],decls:6,vars:0,consts:[[1,"leaderboard"],[1,"goblin-cards"],[1,"goblin-card",3,"top"],[1,"goblin-card"],[1,"rank"],[1,"avatar"],[1,"goblin-info"],[1,"name"],[1,"specialty"],[1,"stats"],[1,"gold"],[1,"tasks"],[1,"efficiency"],[1,"avg"],[1,"label"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"h2"),r(2,"\u{1F3C5} Goblin Leaderboard"),a(),o(3,"div",1),O(4,vt,16,9,"div",2,ft),a()()),t&2&&(l(4),T(i.sortedGoblins()))},dependencies:[P],styles:[".leaderboard[_ngcontent-%COMP%]{background:var(--bg-leaderboard);border:2px solid var(--border-leaderboard);border-radius:12px;padding:24px;transition:all .3s}h2[_ngcontent-%COMP%]{color:var(--text-heading);margin:0 0 20px}.goblin-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.goblin-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:var(--card-overlay);border-radius:8px;padding:12px 16px;transition:all .3s}.goblin-card.top[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffd70026,#ffd7000d);border:1px solid var(--accent-gold)}.rank[_ngcontent-%COMP%]{font-size:1.25rem;width:30px;text-align:center}.avatar[_ngcontent-%COMP%]{font-size:2rem}.goblin-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.name[_ngcontent-%COMP%]{color:var(--text-white);font-weight:700;font-size:1rem}.specialty[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75rem}.stats[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:4px}.gold[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:.85rem}.tasks[_ngcontent-%COMP%]{color:#a8c8b8;font-size:.85rem}.efficiency[_ngcontent-%COMP%]{text-align:center;background:#ffd7001a;padding:6px 10px;border-radius:6px}.efficiency[_ngcontent-%COMP%]   .avg[_ngcontent-%COMP%]{display:block;color:var(--accent-gold);font-weight:700;font-size:.9rem}.efficiency[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:var(--text-muted);font-size:.65rem}"]})}return n})();function bt(n,c){if(n&1&&(o(0,"div",8)(1,"span",3),r(2),a(),o(3,"span",4),r(4,"\u26A0\uFE0F Overdue"),a()()),n&2){let e=p();l(2),m(e.stats().overdue)}}var Be=(()=>{class n{taskService=k(j);stats=this.taskService.stats;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-stats-dashboard"]],standalone:!0,features:[M],decls:38,vars:8,consts:[[1,"stats-dashboard"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","pending"],[1,"stat-card","progress"],[1,"stat-card","completed"],[1,"stat-card","overdue"],[1,"stat-card","streak"],[1,"stat-card","level"],[1,"stat-card","achievements"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r(4),a(),o(5,"span",4),r(6,"Total Tasks"),a()(),o(7,"div",5)(8,"span",3),r(9),a(),o(10,"span",4),r(11,"Pending"),a()(),o(12,"div",6)(13,"span",3),r(14),a(),o(15,"span",4),r(16,"In Progress"),a()(),o(17,"div",7)(18,"span",3),r(19),a(),o(20,"span",4),r(21,"Completed"),a()(),b(22,bt,5,1,"div",8),o(23,"div",9)(24,"span",3),r(25),a(),o(26,"span",4),r(27,"Streak"),a()(),o(28,"div",10)(29,"span",3),r(30),a(),o(31,"span",4),r(32,"Top Level"),a()(),o(33,"div",11)(34,"span",3),r(35),a(),o(36,"span",4),r(37,"Trophies"),a()()()()),t&2&&(l(4),m(i.stats().total),l(5),m(i.stats().pending),l(5),m(i.stats().inProgress),l(5),m(i.stats().completed),l(3),f(i.stats().overdue>0?22:-1),l(3),C("\u{1F525} ",i.stats().streak,""),l(5),C("\u2B50 ",i.stats().highestLevel,""),l(5),C("\u{1F3C6} ",i.stats().achievementsUnlocked,""))},dependencies:[P],styles:[".stats-dashboard[_ngcontent-%COMP%]{background:var(--bg-stats);border:2px solid var(--border-stats);border-radius:12px;padding:20px;margin-bottom:24px;transition:all .3s}.current-time[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border-secondary)}.time[_ngcontent-%COMP%]{color:var(--accent-gold);font-size:1.25rem;font-weight:700}.date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:12px}.stat-card[_ngcontent-%COMP%]{background:var(--card-overlay);border-radius:8px;padding:12px;text-align:center;transition:all .3s}.stat-value[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:var(--text-white)}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--text-muted);margin-top:4px}.stat-card.pending[_ngcontent-%COMP%]{border-left:3px solid var(--border-primary)}.stat-card.progress[_ngcontent-%COMP%]{border-left:3px solid var(--border-progress)}.stat-card.completed[_ngcontent-%COMP%]{border-left:3px solid var(--border-completed)}.stat-card.overdue[_ngcontent-%COMP%]{border-left:3px solid var(--border-overdue);background:#9a4c4c33}.stat-card.streak[_ngcontent-%COMP%]{border-left:3px solid #f97316}.stat-card.level[_ngcontent-%COMP%]{border-left:3px solid #a78bfa}.stat-card.achievements[_ngcontent-%COMP%]{border-left:3px solid var(--accent-gold)}"]})}return n})();var pe=(()=>{class n{STORAGE_KEY="goblin-theme";theme=v(this.loadTheme());isDark=()=>this.theme()==="nighttime-raid";constructor(){re(()=>{let e=this.theme();document.documentElement.setAttribute("data-theme",e),localStorage.setItem(this.STORAGE_KEY,e)})}loadTheme(){return localStorage.getItem(this.STORAGE_KEY)||"nighttime-raid"}toggle(){this.theme.update(e=>e==="nighttime-raid"?"daytime-attack":"nighttime-raid")}setTheme(e){this.theme.set(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ze=(()=>{class n{themeService=k(pe);get ariaLabel(){return this.themeService.isDark()?"Switch to Daytime Attack mode":"Switch to Nighttime Raid mode"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-theme-toggle"]],standalone:!0,features:[M],decls:9,vars:4,consts:[[1,"theme-toggle",3,"click"],[1,"toggle-track"],[1,"toggle-icon","moon"],[1,"toggle-thumb"],[1,"toggle-icon","sun"],[1,"toggle-label"]],template:function(t,i){t&1&&(o(0,"button",0),u("click",function(){return i.themeService.toggle()}),o(1,"span",1)(2,"span",2),r(3,"\u{1F319}"),a(),z(4,"span",3),o(5,"span",4),r(6,"\u2600\uFE0F"),a()(),o(7,"span",5),r(8),a()()),t&2&&(_e("aria-label",i.ariaLabel),l(),h("light",!i.themeService.isDark()),l(7),m(i.themeService.isDark()?"Nighttime Raid":"Daytime Attack"))},dependencies:[P],styles:[".theme-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:transparent;border:none;cursor:pointer;padding:8px;border-radius:8px;transition:background .2s}.theme-toggle[_ngcontent-%COMP%]:hover{background:var(--hover-bg, rgba(255,255,255,.1))}.toggle-track[_ngcontent-%COMP%]{position:relative;width:60px;height:30px;background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:15px;display:flex;align-items:center;justify-content:space-between;padding:0 6px;transition:background .3s}.toggle-track.light[_ngcontent-%COMP%]{background:linear-gradient(135deg,#87ceeb,khaki)}.toggle-thumb[_ngcontent-%COMP%]{position:absolute;width:24px;height:24px;background:#fff;border-radius:50%;left:3px;transition:transform .3s ease;box-shadow:0 2px 4px #0000004d}.toggle-track.light[_ngcontent-%COMP%]   .toggle-thumb[_ngcontent-%COMP%]{transform:translate(30px)}.toggle-icon[_ngcontent-%COMP%]{font-size:14px;z-index:1}.toggle-label[_ngcontent-%COMP%]{color:var(--text-primary, #e8d5b7);font-size:.9rem;font-weight:500}"]})}return n})();var G=(()=>{class n{taskService=k(j);currentWeather=v(ge.sunny);weatherTimer=null;dailyQuests=v([]);lastQuestRefresh=v("");inventory=v([]);goblinEquipment=v(new Map);questChains=v(JSON.parse(JSON.stringify(Re)));notifications=v([]);unreadCount=v(0);recruitableGoblins=v(JSON.parse(JSON.stringify(Ie)));gold=v(500);weather=this.currentWeather.asReadonly();quests=this.dailyQuests.asReadonly();items=this.inventory.asReadonly();chains=this.questChains.asReadonly();alerts=this.notifications.asReadonly();unread=this.unreadCount.asReadonly();goblinsForHire=this.recruitableGoblins.asReadonly();playerGold=this.gold.asReadonly();shopItems=ue;constructor(){this.initWeatherSystem(),this.refreshDailyQuests()}initWeatherSystem(){this.changeWeather(),this.weatherTimer=setInterval(()=>this.changeWeather(),5*60*1e3)}changeWeather(){let e=["sunny","rainy","stormy","foggy","magical"],t=[40,25,15,15,5],i=Math.random()*100,s=0,d="sunny";for(let y=0;y<e.length;y++)if(s+=t[y],i<=s){d=e[y];break}let g=ge[d];g.type!==this.currentWeather().type&&(this.currentWeather.set(g),this.addNotification("weather-change","Weather Changed!",`${g.icon} ${g.name}: ${g.description}`,g.icon))}forceWeatherChange(){this.changeWeather()}refreshDailyQuests(){let e=new Date().toDateString();if(this.lastQuestRefresh()===e)return;let t=[{id:"dq-1",title:"Task Crusher",description:"Complete 3 tasks today",type:"complete-tasks",target:3,progress:0,reward:100,xpReward:50,completed:!1,icon:"\u2705"},{id:"dq-2",title:"Gold Rush",description:"Earn 200 gold",type:"earn-gold",target:200,progress:0,reward:75,xpReward:40,completed:!1,icon:"\u{1F4B0}"},{id:"dq-3",title:"Specialist",description:`Complete 2 ${this.getRandomCategory()} tasks`,type:"category-focus",target:2,progress:0,reward:150,xpReward:75,completed:!1,icon:"\u{1F3AF}",category:this.getRandomCategory()}];this.dailyQuests.set(t),this.lastQuestRefresh.set(e),this.addNotification("daily-bonus","New Daily Quests!","Fresh challenges await you today!","\u{1F4CB}")}getRandomCategory(){let e=["mining","crafting","gathering","combat","exploration"];return e[Math.floor(Math.random()*e.length)]}updateQuestProgress(e,t,i){this.dailyQuests.update(s=>s.map(d=>{if(d.completed)return d;let g=d.progress;(e==="task"&&(d.type==="complete-tasks"||d.type==="speed-run")||e==="gold"&&d.type==="earn-gold"||e==="category"&&d.type==="category-focus"&&d.category===i)&&(g=d.progress+t);let y=g>=d.target;return y&&!d.completed&&(this.gold.update(V=>V+d.reward),this.addNotification("quest-complete","Quest Complete!",`${d.title} - Earned ${d.reward} gold!`,d.icon)),R(D({},d),{progress:Math.min(g,d.target),completed:y})}))}buyItem(e){let t=ue.find(i=>i.id===e);return!t||this.gold()<t.price?!1:(this.gold.update(i=>i-t.price),this.inventory.update(i=>i.find(d=>d.id===e)&&t.type==="consumable"?i.map(d=>d.id===e?R(D({},d),{quantity:(d.quantity||1)+1}):d):[...i,R(D({},t),{quantity:1})]),this.addNotification("item-found","Item Purchased!",`You bought ${t.name}!`,t.icon),!0)}equipItem(e,t){t.slot&&this.goblinEquipment.update(i=>{let s=i.get(e)||{},d=R(D({},s),{[t.slot]:t}),g=new Map(i);return g.set(e,d),g})}unequipItem(e,t){this.goblinEquipment.update(i=>{let s=i.get(e);if(!s)return i;let d=D({},s);delete d[t];let g=new Map(i);return g.set(e,d),g})}getGoblinEquipment(e){return this.goblinEquipment().get(e)||{}}useConsumable(e,t){let i=this.inventory().find(s=>s.id===e&&s.type==="consumable");return!i||!i.quantity?!1:(i.stats.energyBonus&&this.taskService.restGoblin(t),this.inventory.update(s=>s.map(d=>{if(d.id!==e)return d;let g=(d.quantity||1)-1;return g>0?R(D({},d),{quantity:g}):d}).filter(d=>d.type!=="consumable"||d.quantity&&d.quantity>0)),!0)}updateChainProgress(e,t,i){this.questChains.update(s=>s.map(d=>{if(d.completed)return d;let g=d.steps.map((S,oe)=>{if(S.completed||oe!==d.currentStep||S.requirement.type!==e||e==="category-tasks"&&S.requirement.category!==i)return S;let q=S.progress+t,N=q>=S.requirement.target;return N&&!S.completed&&(this.gold.update(Je=>Je+S.reward.gold),this.addNotification("quest-complete","Quest Step Complete!",`${S.title} - ${d.name}`,"\u{1F4DC}")),R(D({},S),{progress:Math.min(q,S.requirement.target),completed:N})}),y=g.findIndex(S=>!S.completed),V=y===-1;return V&&!d.completed&&(this.gold.update(S=>S+d.finalReward.gold),this.addNotification("quest-complete","Quest Chain Complete!",`${d.name} - Earned ${d.finalReward.gold} gold!`,"\u{1F3C6}")),R(D({},d),{steps:g,currentStep:y===-1?g.length:y,completed:V})}))}addNotification(e,t,i,s){let d={id:crypto.randomUUID(),type:e,title:t,message:i,icon:s,timestamp:new Date,read:!1};this.notifications.update(g=>[d,...g].slice(0,50)),this.unreadCount.update(g=>g+1)}markAsRead(e){this.notifications.update(t=>t.map(i=>i.id===e&&!i.read?R(D({},i),{read:!0}):i)),this.unreadCount.update(t=>Math.max(0,t-1))}markAllAsRead(){this.notifications.update(e=>e.map(t=>R(D({},t),{read:!0}))),this.unreadCount.set(0)}clearNotifications(){this.notifications.set([]),this.unreadCount.set(0)}recruitGoblin(e){let t=this.recruitableGoblins().find(i=>i.id===e);return!t||t.unlocked||this.gold()<t.cost?!1:(this.gold.update(i=>i-t.cost),this.recruitableGoblins.update(i=>i.map(s=>s.id===e?R(D({},s),{unlocked:!0}):s)),this.taskService.addGoblin(t.id,t.name,t.avatar,t.specialty),this.addNotification("achievement","New Goblin Recruited!",`${t.name} has joined your team!`,t.avatar),!0)}addGold(e){this.gold.update(t=>t+e),this.updateQuestProgress("gold",e),this.updateChainProgress("earn-gold",e)}spendGold(e){return this.gold()<e?!1:(this.gold.update(t=>t-e),!0)}getEquipmentBonuses(e,t){let i=this.getGoblinEquipment(e),s=0,d=0,g=0;return Object.values(i).forEach(y=>{y&&(s+=y.stats.xpBonus||0,d+=y.stats.goldBonus||0,g+=y.stats.energyBonus||0,y.stats.categoryBonus?.category===t&&(s+=y.stats.categoryBonus.bonus,d+=y.stats.categoryBonus.bonus))}),{xp:s,gold:d,energy:g}}getTotalMultipliers(e,t){let i=this.currentWeather().effects,s=this.getEquipmentBonuses(e,t),d=i.categoryBonus===t?.25:0;return{xp:i.xpMultiplier*(1+s.xp+d),gold:i.goldMultiplier*(1+s.gold+d),energyCost:i.energyCost}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ht(n,c){if(n&1&&(o(0,"span",8),r(1),A(2,"number"),a()),n&2){let e=p();h("bonus",e.weather().effects.xpMultiplier>1),l(),I(" XP ",e.weather().effects.xpMultiplier>1?"+":"","",Q(2,4,(e.weather().effects.xpMultiplier-1)*100,"1.0-0"),"% ")}}function yt(n,c){if(n&1&&(o(0,"span",8),r(1),A(2,"number"),a()),n&2){let e=p();h("bonus",e.weather().effects.goldMultiplier>1),l(),I(" \u{1F4B0} ",e.weather().effects.goldMultiplier>1?"+":"","",Q(2,4,(e.weather().effects.goldMultiplier-1)*100,"1.0-0"),"% ")}}function kt(n,c){if(n&1&&(o(0,"span",7),r(1),A(2,"titlecase"),a()),n&2){let e=p();l(),C("",W(2,1,e.weather().effects.categoryBonus)," +25%")}}var Ve=(()=>{class n{gameService=k(G);weather=this.gameService.weather;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-weather-widget"]],standalone:!0,features:[M],decls:12,vars:8,consts:[[1,"weather-widget"],[1,"weather-icon"],[1,"weather-info"],[1,"weather-name"],[1,"weather-desc"],[1,"weather-effects"],[1,"effect",3,"bonus"],[1,"effect","bonus"],[1,"effect"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1),r(2),a(),o(3,"div",2)(4,"span",3),r(5),a(),o(6,"span",4),r(7),a()(),o(8,"div",5),b(9,ht,3,7,"span",6)(10,yt,3,7,"span",6)(11,kt,3,3,"span",7),a()()),t&2&&(ae(i.weather().type),l(2),m(i.weather().icon),l(3),m(i.weather().name),l(2),m(i.weather().description),l(2),f(i.weather().effects.xpMultiplier!==1?9:-1),l(),f(i.weather().effects.goldMultiplier!==1?10:-1),l(),f(i.weather().effects.categoryBonus?11:-1))},dependencies:[P,le,ie],styles:[".weather-widget[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--card-overlay);border-radius:12px;border:2px solid var(--border-primary);transition:all .5s ease}.weather-widget.sunny[_ngcontent-%COMP%]{border-color:gold;background:linear-gradient(135deg,rgba(255,215,0,.1),transparent)}.weather-widget.rainy[_ngcontent-%COMP%]{border-color:#4a90d9;background:linear-gradient(135deg,rgba(74,144,217,.1),transparent)}.weather-widget.stormy[_ngcontent-%COMP%]{border-color:#8b5cf6;background:linear-gradient(135deg,rgba(139,92,246,.1),transparent)}.weather-widget.foggy[_ngcontent-%COMP%]{border-color:#94a3b8;background:linear-gradient(135deg,rgba(148,163,184,.1),transparent)}.weather-widget.magical[_ngcontent-%COMP%]{border-color:#f472b6;background:linear-gradient(135deg,#f472b626,#8b5cf61a);animation:_ngcontent-%COMP%_magical-glow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_magical-glow{0%,to{box-shadow:0 0 10px #f472b64d}50%{box-shadow:0 0 20px #f472b680}}.weather-icon[_ngcontent-%COMP%]{font-size:2rem}.weather-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.weather-name[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:.95rem}.weather-desc[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.weather-effects[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.effect[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:.75rem;background:var(--bg-secondary);color:var(--text-secondary)}.effect.bonus[_ngcontent-%COMP%]{background:#4c9a6b33;color:#5ac47a}"]})}return n})();var wt=(n,c)=>c.id;function Mt(n,c){if(n&1&&(o(0,"span",11),r(1),a()),n&2){let e=p().$implicit,t=p();l(),m(t.getCategoryIcon(e.category))}}function Pt(n,c){n&1&&(o(0,"span",18),r(1,"\u2705"),a())}function St(n,c){if(n&1&&(o(0,"div",6)(1,"span",7),r(2),a(),o(3,"div",8)(4,"span",9),r(5),a(),o(6,"span",10),r(7),b(8,Mt,2,1,"span",11),a(),o(9,"div",12),z(10,"div",13),a(),o(11,"span",14),r(12),a()(),o(13,"div",15)(14,"span",16),r(15),a(),o(16,"span",17),r(17),a()(),b(18,Pt,2,0,"span",18),a()),n&2){let e=c.$implicit;h("completed",e.completed),l(2),m(e.icon),l(3),m(e.title),l(2),C(" ",e.description," "),l(),f(e.category?8:-1),l(2),B("width",e.progress/e.target*100,"%"),l(2),I("",e.progress,"/",e.target,""),l(3),C("\u{1F4B0} ",e.reward,""),l(2),C("\u2728 ",e.xpReward," XP"),l(),f(e.completed?18:-1)}}function Ot(n,c){n&1&&(o(0,"div",5),r(1,"Loading daily quests..."),a())}var qe=(()=>{class n{gameService=k(G);quests=this.gameService.quests;getCategoryIcon(e){return K[e]?.icon||"\u{1F4CB}"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-daily-quests"]],standalone:!0,features:[M],decls:10,vars:1,consts:[[1,"daily-quests"],[1,"header"],[1,"reset-timer"],[1,"quests-list"],[1,"quest-item",3,"completed"],[1,"no-quests"],[1,"quest-item"],[1,"quest-icon"],[1,"quest-info"],[1,"quest-title"],[1,"quest-desc"],[1,"category-tag"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"quest-rewards"],[1,"reward","gold"],[1,"reward","xp"],[1,"completed-badge"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),r(3,"\u{1F4CB} Daily Quests"),a(),o(4,"span",2),r(5,"Resets at midnight"),a()(),o(6,"div",3),O(7,St,19,13,"div",4,wt),b(9,Ot,2,0,"div",5),a()()),t&2&&(l(7),T(i.quests()),l(2),f(i.quests().length===0?9:-1))},dependencies:[P],styles:[".daily-quests[_ngcontent-%COMP%]{background:var(--bg-card);border:2px solid var(--border-primary);border-radius:12px;padding:16px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}h3[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0;font-size:1.1rem}.reset-timer[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75rem}.quests-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.quest-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--card-overlay);border-radius:8px;border:1px solid transparent;transition:all .3s}.quest-item[_ngcontent-%COMP%]:hover{border-color:var(--border-primary)}.quest-item.completed[_ngcontent-%COMP%]{opacity:.7;background:#4c9a6b1a}.quest-icon[_ngcontent-%COMP%]{font-size:1.5rem}.quest-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.quest-title[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:.9rem}.quest-desc[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem;display:flex;align-items:center;gap:6px}.category-tag[_ngcontent-%COMP%]{font-size:1rem}.progress-bar[_ngcontent-%COMP%]{height:6px;background:var(--border-secondary);border-radius:3px;overflow:hidden;margin-top:4px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);transition:width .3s}.progress-text[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.7rem}.quest-rewards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:flex-end}.reward[_ngcontent-%COMP%]{font-size:.8rem;padding:2px 6px;border-radius:4px}.reward.gold[_ngcontent-%COMP%]{color:var(--accent-gold)}.reward.xp[_ngcontent-%COMP%]{color:#a78bfa}.completed-badge[_ngcontent-%COMP%]{font-size:1.2rem}.no-quests[_ngcontent-%COMP%]{color:var(--text-muted);text-align:center;padding:20px}"]})}return n})();var Ne=(n,c)=>c.id;function Tt(n,c){if(n&1&&(o(0,"span"),r(1),A(2,"number"),a()),n&2){let e=p().$implicit;l(),C("+",Q(2,1,e.stats.xpBonus*100,"1.0-0"),"% XP")}}function Et(n,c){if(n&1&&(o(0,"span"),r(1),A(2,"number"),a()),n&2){let e=p().$implicit;l(),C("+",Q(2,1,e.stats.goldBonus*100,"1.0-0"),"% Gold")}}function Dt(n,c){if(n&1&&(o(0,"span"),r(1),a()),n&2){let e=p().$implicit;l(),C("+",e.stats.energyBonus," Energy")}}function It(n,c){if(n&1&&(o(0,"span"),r(1),A(2,"number"),A(3,"titlecase"),a()),n&2){let e=p().$implicit;l(),I("+",Q(2,2,e.stats.categoryBonus.bonus*100,"1.0-0"),"% ",W(3,5,e.stats.categoryBonus.category),"")}}function Rt(n,c){if(n&1){let e=E();o(0,"div",9)(1,"span",10),r(2),a(),o(3,"div",11)(4,"span",12),r(5),a(),o(6,"span",13),r(7),a(),o(8,"div",14),b(9,Tt,3,4,"span")(10,Et,3,4,"span")(11,Dt,2,1,"span")(12,It,4,7,"span"),a()(),o(13,"div",15)(14,"span",16),r(15),a(),o(16,"ui-button",17),u("clicked",function(){let i=x(e).$implicit,s=p(3);return _(s.buyItem(i))}),r(17," Buy "),a()()()}if(n&2){let e=c.$implicit,t=p(3);B("border-color",t.getRarityColor(e.rarity))("box-shadow",t.getRarityGlow(e.rarity)),l(2),m(e.icon),l(2),B("color",t.getRarityColor(e.rarity)),l(),m(e.name),l(2),m(e.description),l(2),f(e.stats.xpBonus?9:-1),l(),f(e.stats.goldBonus?10:-1),l(),f(e.stats.energyBonus?11:-1),l(),f(e.stats.categoryBonus?12:-1),l(3),C("\u{1F4B0} ",e.price,""),l(),$("variant",t.gameService.playerGold()>=e.price?"primary":"outline")("disabled",t.gameService.playerGold()<e.price)}}function Gt(n,c){if(n&1&&(o(0,"div",7),O(1,Rt,18,16,"div",8,Ne),a()),n&2){let e=p(2);l(),T(e.getFilteredItems())}}function Ft(n,c){if(n&1&&(o(0,"span",21),r(1),a()),n&2){let e=p().$implicit;l(),C("x",e.quantity,"")}}function At(n,c){if(n&1&&(o(0,"div",20)(1,"span",10),r(2),a(),o(3,"div",11)(4,"span",12),r(5),a(),b(6,Ft,2,1,"span",21),o(7,"span",22),r(8),A(9,"titlecase"),a()()()),n&2){let e=c.$implicit,t=p(3);B("border-color",t.getRarityColor(e.rarity)),l(2),m(e.icon),l(2),B("color",t.getRarityColor(e.rarity)),l(),m(e.name),l(),f(e.quantity&&e.quantity>1?6:-1),l(2),m(W(9,8,e.type))}}function Bt(n,c){n&1&&(o(0,"div",19),r(1,"Your inventory is empty. Buy some items!"),a())}function zt(n,c){if(n&1&&(o(0,"div",7),O(1,At,10,10,"div",18,Ne),b(3,Bt,2,0,"div",19),a()),n&2){let e=p(2);l(),T(e.gameService.items()),l(2),f(e.gameService.items().length===0?3:-1)}}function Vt(n,c){if(n&1){let e=E();o(0,"div",1),u("click",function(){x(e);let i=p();return _(i.close())}),o(1,"div",2),u("click",function(i){return x(e),_(i.stopPropagation())}),o(2,"button",3),u("click",function(){x(e);let i=p();return _(i.close())}),r(3,"\u2715"),a(),o(4,"h2"),r(5,"\u{1F3EA} Goblin Shop"),a(),o(6,"div",4),r(7),a(),o(8,"div",5)(9,"button",6),u("click",function(){x(e);let i=p();return _(i.activeTab.set("equipment"))}),r(10,"\u2694\uFE0F Equipment"),a(),o(11,"button",6),u("click",function(){x(e);let i=p();return _(i.activeTab.set("consumables"))}),r(12,"\u{1F9EA} Consumables"),a(),o(13,"button",6),u("click",function(){x(e);let i=p();return _(i.activeTab.set("inventory"))}),r(14,"\u{1F392} Inventory"),a()(),b(15,Gt,3,0,"div",7)(16,zt,4,1,"div",7),a()()}if(n&2){let e=p();l(7),C("\u{1F4B0} ",e.gameService.playerGold()," Gold"),l(2),h("active",e.activeTab()==="equipment"),l(2),h("active",e.activeTab()==="consumables"),l(2),h("active",e.activeTab()==="inventory"),l(2),f(e.activeTab()==="equipment"||e.activeTab()==="consumables"?15:-1),l(),f(e.activeTab()==="inventory"?16:-1)}}var $e=(()=>{class n{gameService=k(G);isOpen=v(!1);activeTab=v("equipment");open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}getFilteredItems(){return this.gameService.shopItems.filter(e=>this.activeTab()==="consumables"?e.type==="consumable":e.type!=="consumable")}getRarityColor(e){return me[e]?.color||"#9d9d9d"}getRarityGlow(e){return me[e]?.glow||"none"}buyItem(e){this.gameService.buyItem(e.id)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-shop"]],standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"gold-display"],[1,"tabs"],[3,"click"],[1,"items-grid"],[1,"item-card",3,"border-color","box-shadow"],[1,"item-card"],[1,"item-icon"],[1,"item-info"],[1,"item-name"],[1,"item-desc"],[1,"item-stats"],[1,"item-price"],[1,"price"],["size","sm",3,"clicked","variant","disabled"],[1,"item-card","owned",3,"border-color"],[1,"empty-inventory"],[1,"item-card","owned"],[1,"quantity"],[1,"item-type"]],template:function(t,i){t&1&&b(0,Vt,17,9,"div",0),t&2&&f(i.isOpen()?0:-1)},dependencies:[P,le,ie,X],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--accent-gold);border-radius:16px;padding:24px;max-width:700px;width:95%;max-height:85vh;overflow-y:auto;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 8px;text-align:center}.gold-display[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;color:var(--accent-gold);margin-bottom:16px}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:20px;justify-content:center}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid var(--border-primary);background:transparent;color:var(--text-secondary);border-radius:8px;cursor:pointer;transition:all .2s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000;border-color:var(--accent-gold)}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px}.item-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:var(--card-overlay);border-radius:10px;border:2px solid;transition:transform .2s}.item-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.item-icon[_ngcontent-%COMP%]{font-size:2rem}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.item-name[_ngcontent-%COMP%]{font-weight:700;font-size:.95rem}.item-desc[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.75rem}.item-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}.item-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;padding:2px 6px;background:#4c9a6b33;color:#5ac47a;border-radius:4px}.item-price[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px}.price[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700;font-size:.9rem}.quantity[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.item-type[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.7rem;text-transform:uppercase}.empty-inventory[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;color:var(--text-muted);padding:40px}"]})}return n})();var Qe=(n,c)=>c.id;function qt(n,c){n&1&&(o(0,"span",14),r(1,"\u2705"),a())}function Nt(n,c){n&1&&r(0," \u2705 ")}function $t(n,c){n&1&&r(0," \u{1F3AF} ")}function Qt(n,c){n&1&&r(0," \u{1F512} ")}function jt(n,c){if(n&1&&(o(0,"div",25)(1,"div",27),z(2,"div",28),a(),o(3,"span",29),r(4),a()()),n&2){let e=p().$implicit;l(2),B("width",e.progress/e.requirement.target*100,"%"),l(2),I("",e.progress,"/",e.requirement.target,"")}}function Wt(n,c){if(n&1&&(o(0,"div",20)(1,"div",21),b(2,Nt,1,0)(3,$t,1,0)(4,Qt,1,0),a(),o(5,"div",22)(6,"span",23),r(7),a(),o(8,"span",24),r(9),a(),b(10,jt,5,4,"div",25),o(11,"div",26)(12,"span"),r(13),a(),o(14,"span"),r(15),a()()()()),n&2){let e=c.$implicit,t=c.$index,i=p(2).$implicit;h("active",t===i.currentStep)("completed",e.completed)("locked",t>i.currentStep),l(2),f(e.completed?2:t===i.currentStep?3:4),l(5),m(e.title),l(2),m(e.description),l(),f(t===i.currentStep&&!e.completed?10:-1),l(3),C("\u{1F4B0} ",e.reward.gold,""),l(2),C("\u2728 ",e.reward.xp," XP")}}function Lt(n,c){if(n&1&&(o(0,"div",15),O(1,Wt,16,12,"div",16,Qe),o(3,"div",17)(4,"span",18),r(5,"\u{1F3C6} Final Reward:"),a(),o(6,"span",19),r(7),a()()()),n&2){let e=p().$implicit;l(),T(e.steps),l(6),I("\u{1F4B0} ",e.finalReward.gold," | \u2728 ",e.finalReward.xp," XP")}}function Ht(n,c){if(n&1){let e=E();o(0,"div",6),u("click",function(){let i=x(e).$implicit,s=p(2);return _(s.selectChain(i))}),o(1,"div",7)(2,"span",8),r(3),a(),o(4,"div",9)(5,"span",10),r(6),a(),o(7,"span",11),r(8),a()(),o(9,"div",12)(10,"span",13),r(11),a(),b(12,qt,2,0,"span",14),a()(),b(13,Lt,8,2,"div",15),a()}if(n&2){let e,t=c.$implicit,i=p(2);h("completed",t.completed),l(3),m(t.icon),l(3),m(t.name),l(2),m(t.description),l(3),I("",t.currentStep,"/",t.steps.length,""),l(),f(t.completed?12:-1),l(),f(((e=i.selectedChain())==null?null:e.id)===t.id?13:-1)}}function Xt(n,c){if(n&1){let e=E();o(0,"div",1),u("click",function(){x(e);let i=p();return _(i.close())}),o(1,"div",2),u("click",function(i){return x(e),_(i.stopPropagation())}),o(2,"button",3),u("click",function(){x(e);let i=p();return _(i.close())}),r(3,"\u2715"),a(),o(4,"h2"),r(5,"\u{1F4DC} Quest Chains"),a(),o(6,"div",4),O(7,Ht,14,9,"div",5,Qe),a()()()}if(n&2){let e=p();l(7),T(e.chains())}}var je=(()=>{class n{gameService=k(G);chains=this.gameService.chains;isOpen=v(!1);selectedChain=v(null);open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1),this.selectedChain.set(null)}selectChain(e){this.selectedChain.set(this.selectedChain()?.id===e.id?null:e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-quest-chains"]],standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"chains-list"],[1,"chain-card",3,"completed"],[1,"chain-card",3,"click"],[1,"chain-header"],[1,"chain-icon"],[1,"chain-info"],[1,"chain-name"],[1,"chain-desc"],[1,"chain-progress"],[1,"step-count"],[1,"completed-badge"],[1,"chain-steps"],[1,"step",3,"active","completed","locked"],[1,"final-reward"],[1,"label"],[1,"rewards"],[1,"step"],[1,"step-marker"],[1,"step-content"],[1,"step-title"],[1,"step-desc"],[1,"step-progress"],[1,"step-reward"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"]],template:function(t,i){t&1&&b(0,Xt,9,0,"div",0),t&2&&f(i.isOpen()?0:-1)},dependencies:[P],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--accent-gold);border-radius:16px;padding:24px;max-width:600px;width:95%;max-height:85vh;overflow-y:auto;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 20px;text-align:center}.chains-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.chain-card[_ngcontent-%COMP%]{background:var(--card-overlay);border:2px solid var(--border-primary);border-radius:12px;padding:16px;cursor:pointer;transition:all .3s}.chain-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.chain-card.completed[_ngcontent-%COMP%]{opacity:.7;border-color:#5ac47a}.chain-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.chain-icon[_ngcontent-%COMP%]{font-size:2rem}.chain-info[_ngcontent-%COMP%]{flex:1}.chain-name[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-weight:700;font-size:1.1rem}.chain-desc[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.85rem}.chain-progress[_ngcontent-%COMP%]{text-align:right}.step-count[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.completed-badge[_ngcontent-%COMP%]{font-size:1.5rem;display:block}.chain-steps[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid var(--border-secondary)}.step[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;margin-bottom:8px;border-radius:8px;background:var(--bg-secondary)}.step.active[_ngcontent-%COMP%]{border:1px solid var(--accent-gold)}.step.completed[_ngcontent-%COMP%]{opacity:.6}.step.locked[_ngcontent-%COMP%]{opacity:.4}.step-marker[_ngcontent-%COMP%]{font-size:1.2rem;width:30px;text-align:center}.step-content[_ngcontent-%COMP%]{flex:1}.step-title[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-weight:700;font-size:.9rem}.step-desc[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.step-progress[_ngcontent-%COMP%]{margin:8px 0}.progress-bar[_ngcontent-%COMP%]{height:6px;background:var(--border-secondary);border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);transition:width .3s}.progress-text[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.7rem}.step-reward[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:6px;font-size:.8rem;color:var(--text-secondary)}.final-reward[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px;background:#ffd7001a;border-radius:8px;margin-top:12px}.final-reward[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700}.final-reward[_ngcontent-%COMP%]   .rewards[_ngcontent-%COMP%]{color:var(--text-primary)}"]})}return n})();var Ut=(n,c)=>c.id;function Yt(n,c){if(n&1&&(o(0,"span",2),r(1),a()),n&2){let e=p();l(),m(e.unreadCount()>9?"9+":e.unreadCount())}}function Jt(n,c){if(n&1){let e=E();o(0,"div",10),u("click",function(){let i=x(e).$implicit,s=p(2);return _(s.markRead(i.id))}),o(1,"span",11),r(2),a(),o(3,"div",12)(4,"span",13),r(5),a(),o(6,"span",14),r(7),a(),o(8,"span",15),r(9),a()()()}if(n&2){let e=c.$implicit,t=p(2);h("unread",!e.read),l(2),m(e.icon),l(3),m(e.title),l(2),m(e.message),l(2),m(t.getTimeAgo(e.timestamp))}}function Kt(n,c){n&1&&(o(0,"div",9),r(1,"No notifications yet"),a())}function Zt(n,c){if(n&1){let e=E();o(0,"div",3)(1,"div",4)(2,"h4"),r(3,"Notifications"),a(),o(4,"div",5)(5,"button",6),u("click",function(){x(e);let i=p();return _(i.markAllRead())}),r(6,"Mark all read"),a(),o(7,"button",6),u("click",function(){x(e);let i=p();return _(i.clearAll())}),r(8,"Clear"),a()()(),o(9,"div",7),O(10,Jt,10,6,"div",8,Ut),b(12,Kt,2,0,"div",9),a()()}if(n&2){let e=p();l(10),T(e.notifications()),l(2),f(e.notifications().length===0?12:-1)}}var We=(()=>{class n{gameService=k(G);notifications=this.gameService.alerts;unreadCount=this.gameService.unread;isPanelOpen=v(!1);togglePanel(){this.isPanelOpen.update(e=>!e)}markRead(e){this.gameService.markAsRead(e)}markAllRead(){this.gameService.markAllAsRead()}clearAll(){this.gameService.clearNotifications(),this.isPanelOpen.set(!1)}getTimeAgo(e){let t=Math.floor((Date.now()-new Date(e).getTime())/1e3);return t<60?"Just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-notification-center"]],standalone:!0,features:[M],decls:5,vars:2,consts:[[1,"notification-wrapper"],[1,"bell-btn",3,"click"],[1,"badge"],[1,"notification-panel"],[1,"panel-header"],[1,"actions"],[3,"click"],[1,"notifications-list"],[1,"notification-item",3,"unread"],[1,"empty"],[1,"notification-item",3,"click"],[1,"notif-icon"],[1,"notif-content"],[1,"notif-title"],[1,"notif-message"],[1,"notif-time"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"button",1),u("click",function(){return i.togglePanel()}),r(2," \u{1F514} "),b(3,Yt,2,1,"span",2),a(),b(4,Zt,13,1,"div",3),a()),t&2&&(l(3),f(i.unreadCount()>0?3:-1),l(),f(i.isPanelOpen()?4:-1))},dependencies:[P],styles:[".notification-wrapper[_ngcontent-%COMP%]{position:relative}.bell-btn[_ngcontent-%COMP%]{background:var(--card-overlay);border:2px solid var(--border-primary);border-radius:50%;width:44px;height:44px;font-size:1.25rem;cursor:pointer;position:relative;transition:all .2s}.bell-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background:#dc2626;color:#fff;font-size:.7rem;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center}.notification-panel[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;margin-top:8px;width:320px;max-height:400px;background:var(--bg-secondary);border:2px solid var(--border-primary);border-radius:12px;overflow:hidden;box-shadow:0 10px 40px #00000080;z-index:100}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border-secondary)}.panel-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:.95rem}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-muted);font-size:.75rem;cursor:pointer}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--accent-gold)}.notifications-list[_ngcontent-%COMP%]{max-height:340px;overflow-y:auto}.notification-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border-secondary);cursor:pointer;transition:background .2s}.notification-item[_ngcontent-%COMP%]:hover{background:var(--card-overlay)}.notification-item.unread[_ngcontent-%COMP%]{background:#ffd7000d}.notif-icon[_ngcontent-%COMP%]{font-size:1.5rem}.notif-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:2px}.notif-title[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:.85rem}.notif-message[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}.notif-time[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.7rem;opacity:.7}.empty[_ngcontent-%COMP%]{padding:40px;text-align:center;color:var(--text-muted)}"]})}return n})();var en=(n,c)=>c.id;function tn(n,c){n&1&&(o(0,"span",15),r(1,"\u2705 Recruited"),a())}function nn(n,c){if(n&1){let e=E();o(0,"span",16),r(1),a(),o(2,"ui-button",17),u("clicked",function(){x(e);let i=p().$implicit,s=p(2);return _(s.recruit(i.id))}),r(3," Recruit "),a()}if(n&2){let e=p().$implicit,t=p(2);l(),C("\u{1F4B0} ",e.cost,""),l(),$("variant",t.gameService.playerGold()>=e.cost?"primary":"outline")("disabled",t.gameService.playerGold()<e.cost)}}function on(n,c){if(n&1&&(o(0,"div",7)(1,"div",8),r(2),a(),o(3,"div",9)(4,"span",10),r(5),a(),o(6,"span",11),r(7),A(8,"titlecase"),a(),o(9,"span",12),r(10),a(),o(11,"span",13),r(12),a()(),o(13,"div",14),b(14,tn,2,0,"span",15)(15,nn,4,3),a()()),n&2){let e=c.$implicit,t=p(2);h("unlocked",e.unlocked),l(2),m(e.avatar),l(3),m(e.name),l(2),I(" ",t.getCategoryIcon(e.specialty)," ",W(8,9,e.specialty)," Specialist "),l(3),m(e.description),l(2),C("\u2728 ",e.bonusAbility,""),l(2),f(e.unlocked?14:15)}}function an(n,c){if(n&1){let e=E();o(0,"div",1),u("click",function(){x(e);let i=p();return _(i.close())}),o(1,"div",2),u("click",function(i){return x(e),_(i.stopPropagation())}),o(2,"button",3),u("click",function(){x(e);let i=p();return _(i.close())}),r(3,"\u2715"),a(),o(4,"h2"),r(5,"\u{1F9CC} Goblin Recruitment"),a(),o(6,"div",4),r(7),a(),o(8,"div",5),O(9,on,16,11,"div",6,en),a()()()}if(n&2){let e=p();l(7),C("\u{1F4B0} ",e.gameService.playerGold()," Gold"),l(2),T(e.goblins())}}var Le=(()=>{class n{gameService=k(G);goblins=this.gameService.goblinsForHire;isOpen=v(!1);open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}getCategoryIcon(e){return K[e]?.icon||"\u{1F4CB}"}recruit(e){this.gameService.recruitGoblin(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-goblin-recruitment"]],standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"gold-display"],[1,"goblins-grid"],[1,"goblin-card",3,"unlocked"],[1,"goblin-card"],[1,"goblin-avatar"],[1,"goblin-info"],[1,"goblin-name"],[1,"goblin-specialty"],[1,"goblin-desc"],[1,"goblin-bonus"],[1,"goblin-action"],[1,"recruited"],[1,"cost"],["size","sm",3,"clicked","variant","disabled"]],template:function(t,i){t&1&&b(0,an,11,1,"div",0),t&2&&f(i.isOpen()?0:-1)},dependencies:[P,ie,X],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--accent-gold);border-radius:16px;padding:24px;max-width:600px;width:95%;max-height:85vh;overflow-y:auto;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 8px;text-align:center}.gold-display[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;color:var(--accent-gold);margin-bottom:20px}.goblins-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.goblin-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:var(--card-overlay);border:2px solid var(--border-primary);border-radius:12px;transition:all .3s}.goblin-card[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold)}.goblin-card.unlocked[_ngcontent-%COMP%]{opacity:.7;border-color:#5ac47a}.goblin-avatar[_ngcontent-%COMP%]{font-size:3rem}.goblin-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.goblin-name[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:1.1rem}.goblin-specialty[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem}.goblin-desc[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem;font-style:italic}.goblin-bonus[_ngcontent-%COMP%]{color:#a78bfa;font-size:.8rem}.goblin-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.cost[_ngcontent-%COMP%]{color:var(--accent-gold);font-weight:700;font-size:1rem}.recruited[_ngcontent-%COMP%]{color:#5ac47a;font-weight:700}"]})}return n})();var He=(()=>{class n{openShop=ee();openQuests=ee();openRecruit=ee();openDice=ee();openAchievements=ee();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-action-bar"]],outputs:{openShop:"openShop",openQuests:"openQuests",openRecruit:"openRecruit",openDice:"openDice",openAchievements:"openAchievements"},standalone:!0,features:[M],decls:21,vars:0,consts:[[1,"action-bar"],["title","Shop",1,"action-btn",3,"click"],[1,"label"],["title","Quest Chains",1,"action-btn",3,"click"],["title","Recruit Goblins",1,"action-btn",3,"click"],["title","Goblin Dice",1,"action-btn",3,"click"],["title","Achievements",1,"action-btn",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"button",1),u("click",function(){return i.openShop.emit()}),r(2," \u{1F3EA} "),o(3,"span",2),r(4,"Shop"),a()(),o(5,"button",3),u("click",function(){return i.openQuests.emit()}),r(6," \u{1F4DC} "),o(7,"span",2),r(8,"Quests"),a()(),o(9,"button",4),u("click",function(){return i.openRecruit.emit()}),r(10," \u{1F9CC} "),o(11,"span",2),r(12,"Recruit"),a()(),o(13,"button",5),u("click",function(){return i.openDice.emit()}),r(14," \u{1F3B2} "),o(15,"span",2),r(16,"Dice"),a()(),o(17,"button",6),u("click",function(){return i.openAchievements.emit()}),r(18," \u{1F3C6} "),o(19,"span",2),r(20,"Trophies"),a()()())},dependencies:[P],styles:[".action-bar[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;padding:12px;background:var(--card-overlay);border-radius:12px;border:2px solid var(--border-primary)}.action-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;padding:12px 20px;background:var(--bg-secondary);border:2px solid var(--border-secondary);border-radius:10px;cursor:pointer;transition:all .2s;font-size:1.5rem}.action-btn[_ngcontent-%COMP%]:hover{border-color:var(--accent-gold);transform:translateY(-2px);box-shadow:0 4px 12px #ffd70033}.label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.action-btn[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%]{color:var(--accent-gold)}"]})}return n})();var rn=(n,c)=>c.id;function ln(n,c){n&1&&(o(0,"span",15),r(1,"\u2705"),a())}function sn(n,c){n&1&&(o(0,"span",16),r(1,"\u{1F512}"),a())}function cn(n,c){if(n&1&&(o(0,"div",9)(1,"span",10),r(2),a(),o(3,"div",11)(4,"span",12),r(5),a(),o(6,"span",13),r(7),a(),o(8,"span",14),r(9),a()(),b(10,ln,2,0,"span",15)(11,sn,2,0,"span",16),a()),n&2){let e=c.$implicit,t=p(2);h("unlocked",t.isUnlocked(e.id)),l(2),m(e.icon),l(3),m(e.name),l(2),m(e.description),l(2),m(t.getRequirementText(e)),l(),f(t.isUnlocked(e.id)?10:11)}}function dn(n,c){if(n&1){let e=E();o(0,"div",1),u("click",function(){x(e);let i=p();return _(i.close())}),o(1,"div",2),u("click",function(i){return x(e),_(i.stopPropagation())}),o(2,"button",3),u("click",function(){x(e);let i=p();return _(i.close())}),r(3,"\u2715"),a(),o(4,"h2"),r(5,"\u{1F3C6} Trophies"),a(),o(6,"div",4),z(7,"div",5),a(),o(8,"p",6),r(9),a(),o(10,"div",7),O(11,cn,12,7,"div",8,rn),a()()()}if(n&2){let e=p();l(7),B("width",e.taskService.achievements().length/e.allAchievements.length*100,"%"),l(2),I("",e.taskService.achievements().length," / ",e.allAchievements.length," Unlocked"),l(2),T(e.allAchievements)}}var Xe=(()=>{class n{taskService=k(j);allAchievements=ce;isOpen=v(!1);open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}isUnlocked(e){return this.taskService.achievements().includes(e)}getRequirementText(e){let t={tasks:"tasks completed",gold:"gold earned",streak:"task streak",level:"level reached"};return`Requires: ${e.requirement} ${t[e.type]}`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-achievements"]],standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"achievements-grid"],[1,"achievement",3,"unlocked"],[1,"achievement"],[1,"icon"],[1,"info"],[1,"name"],[1,"desc"],[1,"requirement"],[1,"check"],[1,"locked"]],template:function(t,i){t&1&&b(0,dn,13,4,"div",0),t&2&&f(i.isOpen()?0:-1)},dependencies:[P],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#1a1a1a;border:1px solid #333;border-radius:12px;padding:20px;max-width:500px;width:95%;max-height:80vh;overflow-y:auto;position:relative;scrollbar-width:thin;scrollbar-color:#444 #1a1a1a}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a1a1a}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#444;border-radius:3px}.modal-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:transparent;border:none;color:#666;font-size:1.25rem;cursor:pointer;padding:4px;line-height:1}.close-btn[_ngcontent-%COMP%]:hover{color:#999}h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 12px;text-align:center;font-size:1.25rem;font-weight:600}.progress-bar[_ngcontent-%COMP%]{height:4px;background:#333;border-radius:2px;overflow:hidden;margin-bottom:6px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--accent-gold);transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{text-align:center;color:#888;font-size:.8rem;margin:0 0 16px}.achievements-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.achievement[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#222;border-radius:8px;opacity:.4;border:1px solid transparent;transition:opacity .2s}.achievement.unlocked[_ngcontent-%COMP%]{opacity:1;border-color:#444;background:#252525}.icon[_ngcontent-%COMP%]{font-size:1.5rem}.info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.name[_ngcontent-%COMP%]{color:#eee;font-weight:500;font-size:.9rem}.desc[_ngcontent-%COMP%]{color:#777;font-size:.75rem;margin-top:2px}.requirement[_ngcontent-%COMP%]{display:none}.check[_ngcontent-%COMP%]{font-size:1rem}.locked[_ngcontent-%COMP%]{font-size:1rem;opacity:.3}"]})}return n})();var pn=(n,c)=>c.id;function mn(n,c){if(n&1){let e=E();o(0,"div",2),u("click",function(){let i=x(e).$implicit,s=p();return _(s.removeToast(i.id))}),o(1,"span",3),r(2),a(),o(3,"div",4)(4,"span",5),r(5),a(),o(6,"span",6),r(7),a()()()}if(n&2){let e=c.$implicit;ae(e.type),l(2),m(e.icon),l(3),m(e.title),l(2),m(e.message)}}var Ue=(()=>{class n{gameService=k(G);toasts=v([]);lastNotificationCount=0;constructor(){re(()=>{let e=this.gameService.alerts();if(e.length>this.lastNotificationCount&&e.length>0){let t=e[0];setTimeout(()=>{this.showToast({id:t.id,icon:t.icon,title:t.title,message:t.message,type:t.type==="achievement"||t.type==="level-up"?"achievement":t.type==="quest-complete"?"success":"info"})},0)}this.lastNotificationCount=e.length})}showToast(e){this.toasts.update(t=>[...t,e]),setTimeout(()=>this.removeToast(e.id),3e3)}removeToast(e){this.toasts.update(t=>t.filter(i=>i.id!==e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-toast"]],standalone:!0,features:[M],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"class"],[1,"toast",3,"click"],[1,"toast-icon"],[1,"toast-content"],[1,"toast-title"],[1,"toast-message"]],template:function(t,i){t&1&&(o(0,"div",0),O(1,mn,8,5,"div",1,pn),a()),t&2&&(l(),T(i.toasts()))},dependencies:[P],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;display:flex;flex-direction:column;gap:12px;z-index:2000;pointer-events:none}.toast[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;background:#1a1a1ab0;backdrop-filter:blur(10px);border:2px solid var(--border-primary);border-radius:12px;box-shadow:0 10px 40px #00000080;animation:_ngcontent-%COMP%_slideIn .3s ease,_ngcontent-%COMP%_fadeOut .3s ease 2.7s forwards;pointer-events:auto;cursor:pointer;max-width:350px}.toast.success[_ngcontent-%COMP%]{border-color:#5ac47a;background:#1a281eb0}.toast.achievement[_ngcontent-%COMP%]{border-color:var(--accent-gold);background:#282314b0;animation:_ngcontent-%COMP%_slideIn .3s ease,_ngcontent-%COMP%_glow 1s ease-in-out infinite,_ngcontent-%COMP%_fadeOut .3s ease 3.7s forwards}.toast.info[_ngcontent-%COMP%]{border-color:#4a90d9;background:#141e2db0}.toast.warning[_ngcontent-%COMP%]{border-color:#f59e0b;background:#2d2314b0}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:1}to{opacity:0;transform:translate(50px)}}@keyframes _ngcontent-%COMP%_glow{0%,to{box-shadow:0 0 10px #ffd7004d}50%{box-shadow:0 0 25px #ffd70099}}.toast-icon[_ngcontent-%COMP%]{font-size:1.75rem}.toast-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.toast-title[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;font-size:.95rem}.toast-message[_ngcontent-%COMP%]{color:var(--text-muted);font-size:.8rem}"]})}return n})();function gn(n,c){if(n&1){let e=E();o(0,"button",16),u("click",function(){let i=x(e).$implicit,s=p(2);return _(s.currentBet.set(i))}),r(1),a()}if(n&2){let e=c.$implicit,t=p(2);h("selected",t.currentBet()===e),$("disabled",t.gameService.playerGold()<e||t.isRolling()),l(),C(" ",e," ")}}function un(n,c){if(n&1&&(o(0,"span"),r(1),a()),n&2){let e=p(3);l(),C("\u{1F389} You won ",e.winAmount()," gold!")}}function xn(n,c){if(n&1&&(o(0,"span"),r(1),a()),n&2){let e=p(3);l(),C("\u{1F31F} JACKPOT! You won ",e.winAmount()," gold!")}}function _n(n,c){n&1&&(o(0,"span"),r(1,"\u{1F622} Better luck next time!"),a())}function fn(n,c){if(n&1&&(o(0,"div",17),b(1,un,2,1,"span")(2,xn,2,1,"span")(3,_n,2,0,"span"),a()),n&2){let e=p(2);h("win",e.lastResult()==="win")("lose",e.lastResult()==="lose"),l(),f(e.lastResult()==="win"?1:e.lastResult()==="jackpot"?2:3)}}function Cn(n,c){if(n&1){let e=E();o(0,"div",1),u("click",function(){x(e);let i=p();return _(i.close())}),o(1,"div",2),u("click",function(i){return x(e),_(i.stopPropagation())}),o(2,"button",3),u("click",function(){x(e);let i=p();return _(i.close())}),r(3,"\u2715"),a(),o(4,"h2"),r(5,"\u{1F3B2} Goblin Dice"),a(),o(6,"p",4),r(7,"Test your luck! Roll the dice to win gold!"),a(),o(8,"div",5),r(9),a(),o(10,"div",6)(11,"span",7),r(12,"Bet Amount:"),a(),o(13,"div",8),O(14,gn,2,4,"button",9,fe),a()(),o(16,"div",10)(17,"div",11),r(18),a(),b(19,fn,4,5,"div",12),a(),o(20,"div",13)(21,"h4"),r(22,"Rules:"),a(),o(23,"ul")(24,"li"),r(25,"\u{1F3AF} Roll 4-6: Win 1.5x your bet"),a(),o(26,"li"),r(27,"\u2B50 Roll 6: Win 3x your bet (Jackpot!)"),a(),o(28,"li"),r(29,"\u{1F494} Roll 1-3: Lose your bet"),a()()(),o(30,"ui-button",14),u("clicked",function(){x(e);let i=p();return _(i.rollDice())}),r(31),a(),o(32,"div",15)(33,"span"),r(34),a(),o(35,"span"),r(36),a(),o(37,"span"),r(38),a()()()()}if(n&2){let e=p();l(9),C("\u{1F4B0} ",e.gameService.playerGold()," Gold"),l(5),T(e.betAmounts),l(3),h("rolling",e.isRolling()),l(),C(" ",e.isRolling()?"\u{1F3B2}":e.getDiceEmoji(e.diceResult())," "),l(),f(e.lastResult()?19:-1),l(11),$("disabled",e.gameService.playerGold()<e.currentBet()||e.isRolling()),l(),C(" ",e.isRolling()?"Rolling...":"Roll Dice! \u{1F3B2}"," "),l(3),C("Wins: ",e.wins(),""),l(2),C("Losses: ",e.losses(),""),l(2),I("Net: ",e.netGold()>=0?"+":"","",e.netGold(),"")}}var Ye=(()=>{class n{gameService=k(G);isOpen=v(!1);isRolling=v(!1);diceResult=v(1);lastResult=v(null);winAmount=v(0);currentBet=v(10);wins=v(0);losses=v(0);netGold=v(0);betAmounts=[10,25,50,100];open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}getDiceEmoji(e){return["\u2680","\u2681","\u2682","\u2683","\u2684","\u2685"][e-1]||"\u{1F3B2}"}rollDice(){if(this.isRolling()||this.gameService.playerGold()<this.currentBet())return;this.gameService.spendGold(this.currentBet()),this.isRolling.set(!0),this.lastResult.set(null);let e=0,t=setInterval(()=>{this.diceResult.set(Math.floor(Math.random()*6)+1),e++,e>=15&&(clearInterval(t),this.finishRoll())},100)}finishRoll(){let e=Math.floor(Math.random()*6)+1;if(this.diceResult.set(e),this.isRolling.set(!1),e===6){let t=this.currentBet()*3;this.gameService.addGold(t),this.winAmount.set(t),this.lastResult.set("jackpot"),this.wins.update(i=>i+1),this.netGold.update(i=>i+t-this.currentBet())}else if(e>=4){let t=Math.floor(this.currentBet()*1.5);this.gameService.addGold(t),this.winAmount.set(t),this.lastResult.set("win"),this.wins.update(i=>i+1),this.netGold.update(i=>i+t-this.currentBet())}else this.lastResult.set("lose"),this.losses.update(t=>t+1),this.netGold.update(t=>t-this.currentBet())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-goblin-dice"]],standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"close-btn",3,"click"],[1,"subtitle"],[1,"gold-display"],[1,"bet-section"],[1,"label"],[1,"bet-buttons"],[1,"bet-btn",3,"selected","disabled"],[1,"dice-area"],[1,"dice"],[1,"result",3,"win","lose"],[1,"rules"],["variant","primary",3,"clicked","disabled"],[1,"stats"],[1,"bet-btn",3,"click","disabled"],[1,"result"]],template:function(t,i){t&1&&b(0,Cn,39,11,"div",0),t&2&&f(i.isOpen()?0:-1)},dependencies:[P,X],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);border:2px solid var(--accent-gold);border-radius:16px;padding:24px;max-width:400px;width:95%;text-align:center;position:relative}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:transparent;border:none;color:var(--text-muted);font-size:1.5rem;cursor:pointer}h2[_ngcontent-%COMP%]{color:var(--accent-gold);margin:0 0 4px}.subtitle[_ngcontent-%COMP%]{color:var(--text-muted);margin:0 0 16px;font-size:.9rem}.gold-display[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent-gold);margin-bottom:20px}.bet-section[_ngcontent-%COMP%]{margin-bottom:24px}.label[_ngcontent-%COMP%]{display:block;color:var(--text-secondary);margin-bottom:8px;font-size:.9rem}.bet-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}.bet-btn[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid var(--border-primary);background:var(--card-overlay);color:var(--text-primary);border-radius:8px;cursor:pointer;transition:all .2s;font-weight:700}.bet-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:var(--accent-gold)}.bet-btn.selected[_ngcontent-%COMP%]{background:var(--accent-gold);color:#000;border-color:var(--accent-gold)}.bet-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.dice-area[_ngcontent-%COMP%]{margin:24px 0}.dice[_ngcontent-%COMP%]{font-size:5rem;transition:transform .1s}.dice.rolling[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_roll .1s linear infinite}@keyframes _ngcontent-%COMP%_roll{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.result[_ngcontent-%COMP%]{margin-top:16px;padding:12px;border-radius:8px;font-weight:700;font-size:1.1rem}.result.win[_ngcontent-%COMP%]{background:#5ac47a33;color:#5ac47a}.result.lose[_ngcontent-%COMP%]{background:#dc262633;color:#ef4444}.rules[_ngcontent-%COMP%]{text-align:left;background:var(--card-overlay);padding:12px 16px;border-radius:8px;margin:20px 0}.rules[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 8px;font-size:.9rem}.rules[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px;color:var(--text-muted);font-size:.8rem}.rules[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0}.stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:16px;color:var(--text-muted);font-size:.85rem}"]})}return n})();var vn=["shopModal"],bn=["questsModal"],hn=["recruitModal"],yn=["diceModal"],kn=["achievementsModal"],Ro=(()=>{class n{themeService=k(pe);gameService=k(G);shopModal=te.required("shopModal");questsModal=te.required("questsModal");recruitModal=te.required("recruitModal");diceModal=te.required("diceModal");achievementsModal=te.required("achievementsModal");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-goblin-tasks-view"]],viewQuery:function(t,i){t&1&&(ne(i.shopModal,vn,5),ne(i.questsModal,bn,5),ne(i.recruitModal,hn,5),ne(i.diceModal,yn,5),ne(i.achievementsModal,kn,5)),t&2&&Ce(5)},standalone:!0,features:[M],decls:37,vars:2,consts:[["shopModal",""],["questsModal",""],["recruitModal",""],["diceModal",""],["achievementsModal",""],[1,"goblin-tasks-wrapper"],[1,"app-container"],[1,"header-top"],[1,"header-left"],[1,"gold-display"],[1,"header-center"],[1,"header-right"],[1,"top-widgets"],[3,"openShop","openQuests","openRecruit","openDice","openAchievements"],[1,"content"],[1,"left-column"]],template:function(t,i){if(t&1){let s=E();o(0,"div",5)(1,"div",6)(2,"header")(3,"div",7)(4,"div",8)(5,"span",9),r(6),a()(),o(7,"div",10)(8,"h1"),r(9,"\u{1F9CC} Goblin Tasks"),a(),o(10,"p"),r(11),a()(),o(12,"div",11),z(13,"app-notification-center")(14,"app-theme-toggle"),a()()(),o(15,"div",12),z(16,"app-weather-widget")(17,"app-stats-dashboard"),a(),o(18,"app-action-bar",13),u("openShop",function(){x(s);let g=H(27);return _(g.open())})("openQuests",function(){x(s);let g=H(29);return _(g.open())})("openRecruit",function(){x(s);let g=H(31);return _(g.open())})("openDice",function(){x(s);let g=H(33);return _(g.open())})("openAchievements",function(){x(s);let g=H(35);return _(g.open())}),a(),o(19,"main")(20,"div",14)(21,"div",15),z(22,"app-task-panel")(23,"app-daily-quests"),a(),o(24,"aside"),z(25,"app-goblin-leaderboard"),a()()(),z(26,"app-shop",null,0)(28,"app-quest-chains",null,1)(30,"app-goblin-recruitment",null,2)(32,"app-goblin-dice",null,3)(34,"app-achievements",null,4)(36,"app-toast"),a()()}t&2&&(l(6),C("\u{1F4B0} ",i.gameService.playerGold(),""),l(5),m(i.themeService.isDark()?"\u{1F319} Nighttime Raid Mode":"\u2600\uFE0F Daytime Attack Mode"))},dependencies:[Fe,Ae,Be,ze,Ve,qe,$e,je,We,Le,He,Xe,Ue,Ye],styles:[".goblin-tasks-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 60px);background:linear-gradient(180deg,var(--bg-primary, #1a1a2e) 0%,var(--bg-secondary, #16213e) 100%)}.app-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:24px}header[_ngcontent-%COMP%]{margin-bottom:20px}.header-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;min-width:150px}.header-right[_ngcontent-%COMP%]{justify-content:flex-end}.header-center[_ngcontent-%COMP%]{text-align:center;flex:1}.gold-display[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--accent-gold, #ffd700);font-weight:700;padding:8px 16px;background:var(--card-overlay, rgba(255,255,255,.05));border-radius:20px;border:2px solid var(--accent-gold, #ffd700)}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--accent-gold, #ffd700);font-size:2.5rem;margin:0 0 4px;text-shadow:0 0 20px rgba(255,215,0,.3)}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary, #888);font-size:1rem;margin:0}.top-widgets[_ngcontent-%COMP%]{display:grid;grid-template-columns:350px 1fr;gap:16px;margin-bottom:20px}app-action-bar[_ngcontent-%COMP%]{margin-bottom:20px;display:block}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 380px;gap:24px}.left-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}@media (max-width: 1100px){.top-widgets[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 600px){.header-top[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.header-left[_ngcontent-%COMP%], .header-right[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})}return n})();export{Ro as GoblinTasksViewComponent};
